{"file_contents":{"client/src/components/CodeEditor.tsx":{"content":"import { useState } from \"react\";\nimport { Play, RotateCcw } from \"lucide-react\";\n\ninterface CodeEditorProps {\n  initialCode?: string;\n  onRun: (code: string) => { success: boolean; output: string };\n  language?: string;\n}\n\nexport default function CodeEditor({ initialCode = '', onRun, language = 'javascript' }: CodeEditorProps) {\n  const [code, setCode] = useState(initialCode);\n  const [output, setOutput] = useState<{ success: boolean; message: string } | null>(null);\n\n  const handleRun = () => {\n    const result = onRun(code);\n    setOutput({ success: result.success, message: result.output });\n  };\n\n  const handleReset = () => {\n    setCode(initialCode);\n    setOutput(null);\n  };\n\n  return (\n    <div className=\"bg-slate-900 rounded-xl border-2 border-indigo-500 overflow-hidden\">\n      <div className=\"flex items-center justify-between bg-slate-800 px-4 py-2 border-b-2 border-slate-700\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 rounded-full bg-red-500\" />\n          <div className=\"w-3 h-3 rounded-full bg-yellow-500\" />\n          <div className=\"w-3 h-3 rounded-full bg-green-500\" />\n          <span className=\"ml-4 font-orbitron text-xs text-gray-400\">{language}</span>\n        </div>\n        <div className=\"flex gap-2\">\n          <button\n            onClick={handleReset}\n            className=\"flex items-center gap-1 px-3 py-1 rounded bg-slate-700 hover:bg-slate-600 transition-colors font-orbitron text-xs text-white\"\n          >\n            <RotateCcw className=\"w-3 h-3\" />\n            Reset\n          </button>\n          <button\n            onClick={handleRun}\n            className=\"flex items-center gap-1 px-3 py-1 rounded bg-green-600 hover:bg-green-500 transition-colors font-orbitron text-xs text-white\"\n          >\n            <Play className=\"w-3 h-3\" />\n            Run\n          </button>\n        </div>\n      </div>\n\n      <textarea\n        value={code}\n        onChange={(e) => setCode(e.target.value)}\n        className=\"w-full h-64 p-4 bg-slate-900 text-gray-100 font-mono text-sm resize-none outline-none\"\n        spellCheck={false}\n        placeholder=\"// Write your code here...\"\n      />\n\n      {output && (\n        <div className={`border-t-2 border-slate-700 p-4 ${\n          output.success ? 'bg-green-900/30' : 'bg-red-900/30'\n        }`}>\n          <div className=\"flex items-start gap-2\">\n            <span className=\"font-orbitron text-xs text-gray-400\">Output:</span>\n            <pre className={`font-mono text-sm flex-1 ${\n              output.success ? 'text-green-300' : 'text-red-300'\n            }`}>\n              {output.message}\n            </pre>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","size_bytes":2708},"client/src/pages/Profile.tsx":{"content":"import { useLearning } from \"@/lib/stores/useLearning\";\nimport { User, Calendar, Trophy, Star, LogOut } from \"lucide-react\";\n\nexport default function Profile() {\n  const { userProgress, courses, user, logout } = useLearning();\n\n  const totalLevels = courses.reduce((sum, course) => sum + course.levels.length, 0);\n  const completedLevels = userProgress.completedLevels.length;\n\n  return (\n    <div className=\"min-h-screen pt-24 pb-12 px-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h1 className=\"font-game text-2xl sm:text-3xl text-center mb-12 text-indigo-300 glow-text\">\n          Player Profile\n        </h1>\n\n        <div className=\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl p-8 border-4 border-indigo-500 glow mb-8\">\n          <div className=\"flex flex-col md:flex-row items-center gap-6\">\n            <div className=\"w-32 h-32 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center glow animate-pulse-glow\">\n              <User className=\"w-16 h-16 text-white\" />\n            </div>\n            \n            <div className=\"flex-1 text-center md:text-left\">\n              <h2 className=\"font-game text-2xl mb-2 text-white\">\n                {user?.username || 'Guest Player'}\n              </h2>\n              <p className=\"font-orbitron text-sm text-gray-400 mb-4\">\n                {user?.email || 'SkillQuest Adventurer'}\n              </p>\n              \n              <div className=\"flex flex-wrap justify-center md:justify-start gap-3\">\n                <div className=\"flex items-center gap-2 bg-slate-700 px-4 py-2 rounded-lg\">\n                  <Star className=\"w-5 h-5 text-yellow-400\" />\n                  <span className=\"font-orbitron text-sm text-white\">\n                    Level {userProgress.level}\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-2 bg-slate-700 px-4 py-2 rounded-lg\">\n                  <Trophy className=\"w-5 h-5 text-indigo-400\" />\n                  <span className=\"font-orbitron text-sm text-white\">\n                    {userProgress.totalXP} XP\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-2 bg-slate-700 px-4 py-2 rounded-lg\">\n                  <Calendar className=\"w-5 h-5 text-purple-400\" />\n                  <span className=\"font-orbitron text-sm text-white\">\n                    Joined Today\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          <div className=\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-6 border-2 border-slate-700 text-center\">\n            <div className=\"text-5xl mb-3\">üéØ</div>\n            <p className=\"font-game text-3xl text-indigo-400 mb-2\">{completedLevels}</p>\n            <p className=\"font-orbitron text-sm text-gray-400\">Levels Completed</p>\n          </div>\n          \n          <div className=\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-6 border-2 border-slate-700 text-center\">\n            <div className=\"text-5xl mb-3\">üìö</div>\n            <p className=\"font-game text-3xl text-purple-400 mb-2\">\n              {courses.filter(c => c.levels.some(l => l.completed)).length}\n            </p>\n            <p className=\"font-orbitron text-sm text-gray-400\">Courses Started</p>\n          </div>\n          \n          <div className=\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-6 border-2 border-slate-700 text-center\">\n            <div className=\"text-5xl mb-3\">üèÜ</div>\n            <p className=\"font-game text-3xl text-pink-400 mb-2\">{userProgress.badges.length}</p>\n            <p className=\"font-orbitron text-sm text-gray-400\">Badges Earned</p>\n          </div>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-6 border-2 border-slate-700 mb-8\">\n          <h3 className=\"font-game text-lg mb-4 text-white\">Learning Stats</h3>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <div className=\"flex justify-between items-center mb-2\">\n                <span className=\"font-orbitron text-sm text-gray-300\">Overall Progress</span>\n                <span className=\"font-game text-sm text-indigo-400\">\n                  {Math.round((completedLevels / totalLevels) * 100)}%\n                </span>\n              </div>\n              <div className=\"w-full h-3 bg-slate-700 rounded-full overflow-hidden\">\n                <div \n                  className=\"h-full bg-gradient-to-r from-indigo-500 to-purple-500\"\n                  style={{ width: `${(completedLevels / totalLevels) * 100}%` }}\n                />\n              </div>\n            </div>\n\n            <div>\n              <div className=\"flex justify-between items-center mb-2\">\n                <span className=\"font-orbitron text-sm text-gray-300\">XP to Next Level</span>\n                <span className=\"font-game text-sm text-purple-400\">\n                  {((userProgress.level) * 500) - userProgress.totalXP} XP\n                </span>\n              </div>\n              <div className=\"w-full h-3 bg-slate-700 rounded-full overflow-hidden\">\n                <div \n                  className=\"h-full bg-gradient-to-r from-purple-500 to-pink-500\"\n                  style={{ width: `${((userProgress.totalXP % 500) / 500) * 100}%` }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-6 border-2 border-slate-700\">\n          <h3 className=\"font-game text-lg mb-4 text-white\">Account Settings</h3>\n          \n          <div className=\"space-y-3\">\n            <button className=\"w-full text-left px-4 py-3 rounded-lg bg-slate-700 hover:bg-slate-600 transition-colors font-orbitron text-sm text-white\">\n              üîî Notification Preferences\n            </button>\n            <button className=\"w-full text-left px-4 py-3 rounded-lg bg-slate-700 hover:bg-slate-600 transition-colors font-orbitron text-sm text-white\">\n              üé® Customize Avatar\n            </button>\n            <button className=\"w-full text-left px-4 py-3 rounded-lg bg-slate-700 hover:bg-slate-600 transition-colors font-orbitron text-sm text-white\">\n              üìä View Detailed Stats\n            </button>\n            <button\n              onClick={logout}\n              className=\"w-full flex items-center gap-2 px-4 py-3 rounded-lg bg-red-900 hover:bg-red-800 transition-colors font-orbitron text-sm text-white\"\n            >\n              <LogOut className=\"w-4 h-4\" />\n              Logout\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":6799},"server/ai.ts":{"content":"import OpenAI from \"openai\";\n\n// Note that the newest OpenAI model is \"gpt-5\" which was released August 7, 2025. do not change this unless explicitly requested by the user\nconst openai = process.env.OPENAI_API_KEY \n  ? new OpenAI({ apiKey: process.env.OPENAI_API_KEY })\n  : null;\n\nexport interface AIHintRequest {\n  levelId: string;\n  courseId: string;\n  userProgress: string;\n  difficulty: string;\n  currentStage?: string;\n  problemContext?: {\n    type: 'quiz' | 'coding';\n    title?: string;\n    description?: string;\n    userCode?: string;\n    testResults?: string;\n    attempts?: number;\n  };\n}\n\nexport interface AIChallengeRequest {\n  topic: string;\n  difficulty: string;\n  challengeType: string;\n}\n\nexport async function generateHint(request: AIHintRequest): Promise<string> {\n  if (!openai) {\n    return \"AI features require an OpenAI API key. You can still solve challenges using the built-in hints!\";\n  }\n\n  try {\n    let contextMessage = `I'm working on ${request.levelId} in the ${request.courseId} course. The difficulty is ${request.difficulty}.`;\n    \n    if (request.currentStage) {\n      contextMessage += ` Current stage: ${request.currentStage}.`;\n    }\n    \n    if (request.problemContext) {\n      const { type, title, description, userCode, testResults, attempts } = request.problemContext;\n      \n      if (type === 'coding') {\n        contextMessage += `\\n\\nProblem: ${title}\\nDescription: ${description}`;\n        if (userCode) {\n          contextMessage += `\\n\\nMy code so far:\\n${userCode}`;\n        }\n        if (testResults) {\n          contextMessage += `\\n\\nTest results: ${testResults}`;\n        }\n        if (attempts) {\n          contextMessage += `\\nAttempts: ${attempts}`;\n        }\n      } else if (type === 'quiz') {\n        contextMessage += `\\n\\nQuiz question: ${title || description}`;\n        if (attempts && attempts > 1) {\n          contextMessage += `\\nI've tried ${attempts} times already.`;\n        }\n      }\n    }\n    \n    contextMessage += `\\n\\nCan you give me a hint without revealing the answer?`;\n\n    const response = await openai.chat.completions.create({\n      model: \"gpt-5\",\n      messages: [\n        {\n          role: \"system\",\n          content: \"You are a friendly AI learning companion helping students master programming and tech skills. Provide encouraging, contextual hints based on their current stage and problem. For coding problems, guide them toward the solution without writing the code. For quiz questions, help them think through the concept. Keep responses concise (2-3 sentences) and encouraging.\"\n        },\n        {\n          role: \"user\",\n          content: contextMessage\n        }\n      ],\n      max_completion_tokens: 150,\n    });\n\n    return response.choices[0].message.content || \"Keep thinking! You're on the right track!\";\n  } catch (error) {\n    console.error(\"Error generating hint:\", error);\n    return \"I'm here to help! Try breaking down the problem into smaller steps.\";\n  }\n}\n\nexport async function generateChallenge(request: AIChallengeRequest): Promise<{\n  question: string;\n  hints: string[];\n  solution: string;\n}> {\n  if (!openai) {\n    return {\n      question: \"AI challenge generation requires an OpenAI API key. Use the built-in challenges!\",\n      hints: [\"Check the course roadmap\", \"Try the default challenges\"],\n      solution: \"answer\"\n    };\n  }\n\n  try {\n    const response = await openai.chat.completions.create({\n      model: \"gpt-5\",\n      messages: [\n        {\n          role: \"system\",\n          content: `You are an educational AI creating ${request.challengeType} challenges. Generate a JSON response with: question (string), hints (array of 2-3 strings), and solution (string). Make it ${request.difficulty} difficulty.`\n        },\n        {\n          role: \"user\",\n          content: `Create a ${request.challengeType} challenge about ${request.topic} at ${request.difficulty} level. Respond with JSON in this format: { \"question\": \"...\", \"hints\": [\"...\", \"...\"], \"solution\": \"...\" }`\n        }\n      ],\n      response_format: { type: \"json_object\" },\n      max_completion_tokens: 500,\n    });\n\n    const result = JSON.parse(response.choices[0].message.content || '{}');\n    return {\n      question: result.question || \"What is the answer?\",\n      hints: result.hints || [\"Think step by step\", \"Break it into parts\"],\n      solution: result.solution || \"answer\"\n    };\n  } catch (error) {\n    console.error(\"Error generating challenge:\", error);\n    return {\n      question: \"Complete this challenge!\",\n      hints: [\"Think carefully\", \"You can do it!\"],\n      solution: \"answer\"\n    };\n  }\n}\n\nexport async function provideExplanation(topic: string, userAnswer: string, correctAnswer: string): Promise<string> {\n  if (!openai) {\n    return \"AI explanations require an OpenAI API key. The correct answer demonstrates the key concept. Keep practicing!\";\n  }\n\n  try {\n    const response = await openai.chat.completions.create({\n      model: \"gpt-5\",\n      messages: [\n        {\n          role: \"system\",\n          content: \"You are a patient AI tutor. Explain concepts clearly and encourage learners. Keep explanations concise and beginner-friendly.\"\n        },\n        {\n          role: \"user\",\n          content: `Topic: ${topic}\\nMy answer: ${userAnswer}\\nCorrect answer: ${correctAnswer}\\nCan you explain why the correct answer is right?`\n        }\n      ],\n      max_completion_tokens: 200,\n    });\n\n    return response.choices[0].message.content || \"Great effort! Keep learning and you'll master this!\";\n  } catch (error) {\n    console.error(\"Error generating explanation:\", error);\n    return \"The correct answer demonstrates the key concept. Keep practicing!\";\n  }\n}\n\nexport async function getMotivationalMessage(completedLevels: number, totalXP: number): Promise<string> {\n  if (!openai) {\n    return \"You're doing great! Keep learning and leveling up! üåü\";\n  }\n\n  try {\n    const response = await openai.chat.completions.create({\n      model: \"gpt-5\",\n      messages: [\n        {\n          role: \"system\",\n          content: \"You are an enthusiastic AI coach celebrating student achievements. Keep messages short, positive, and motivating (1-2 sentences).\"\n        },\n        {\n          role: \"user\",\n          content: `I've completed ${completedLevels} levels and earned ${totalXP} XP! Give me an encouraging message!`\n        }\n      ],\n      max_completion_tokens: 80,\n    });\n\n    return response.choices[0].message.content || \"Amazing progress! Keep up the fantastic work! üéâ\";\n  } catch (error) {\n    console.error(\"Error generating motivational message:\", error);\n    return \"You're doing great! Keep learning! üåü\";\n  }\n}\n","size_bytes":6657},"client/src/components/ui/sonner.tsx":{"content":"\"use client\"\n\nimport { useTheme } from \"next-themes\"\nimport { Toaster as Sonner } from \"sonner\"\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton:\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton:\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n","size_bytes":894},"server/storage.ts":{"content":"import { eq } from \"drizzle-orm\";\nimport { db } from \"./db\";\nimport { \n  users, \n  userProgress, \n  completedLevels, \n  badges, \n  certificates,\n  behavioralMetrics,\n  type User, \n  type InsertUser,\n  type UserProgress,\n  type CompletedLevel,\n  type Badge,\n  type Certificate\n} from \"@shared/schema\";\n\nexport interface IStorage {\n  // User management\n  getUser(id: number): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  \n  // Progress management\n  getUserProgress(userId: number): Promise<UserProgress | undefined>;\n  updateUserProgress(userId: number, data: Partial<UserProgress>): Promise<UserProgress>;\n  createUserProgress(userId: number): Promise<UserProgress>;\n  \n  // Completed levels\n  addCompletedLevel(userId: number, levelId: string, courseId: string, xpEarned: number): Promise<CompletedLevel>;\n  getCompletedLevels(userId: number): Promise<CompletedLevel[]>;\n  \n  // Badges\n  addBadge(userId: number, badgeData: Omit<Badge, 'id' | 'userId' | 'earnedAt'>): Promise<Badge>;\n  getUserBadges(userId: number): Promise<Badge[]>;\n  \n  // Certificates\n  createCertificate(userId: number, courseId: string, courseName: string, shareableId: string): Promise<Certificate>;\n  getCertificate(shareableId: string): Promise<Certificate | undefined>;\n  getUserCertificates(userId: number): Promise<Certificate[]>;\n  \n  // Leaderboard\n  getTopUsers(limit: number): Promise<Array<User & { totalXP: number; level: number }>>;\n  \n  // Behavioral tracking\n  trackBehavior(data: {\n    userId: number;\n    levelId: string;\n    activityType: string;\n    timeToSolve: number | null;\n    hintsUsed: number;\n    mistakeCount: number;\n    attemptsCount: number;\n    successRate: number;\n  }): Promise<void>;\n  \n  getBehavioralMetrics(userId: number, levelId?: string): Promise<any[]>;\n}\n\nexport class DBStorage implements IStorage {\n  async getUser(id: number): Promise<User | undefined> {\n    const result = await db.select().from(users).where(eq(users.id, id)).limit(1);\n    return result[0];\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const result = await db.select().from(users).where(eq(users.username, username)).limit(1);\n    return result[0];\n  }\n\n  async createUser(user: InsertUser): Promise<User> {\n    const result = await db.insert(users).values(user).returning();\n    const newUser = result[0];\n    \n    await this.createUserProgress(newUser.id);\n    \n    return newUser;\n  }\n\n  async getUserProgress(userId: number): Promise<UserProgress | undefined> {\n    const result = await db.select().from(userProgress).where(eq(userProgress.userId, userId)).limit(1);\n    return result[0];\n  }\n\n  async createUserProgress(userId: number): Promise<UserProgress> {\n    const result = await db.insert(userProgress).values({\n      userId,\n      totalXP: 0,\n      level: 1,\n      currentCourse: null,\n      currentLevel: null,\n    }).returning();\n    return result[0];\n  }\n\n  async updateUserProgress(userId: number, data: Partial<UserProgress>): Promise<UserProgress> {\n    const result = await db.update(userProgress)\n      .set({ ...data, updatedAt: new Date() })\n      .where(eq(userProgress.userId, userId))\n      .returning();\n    return result[0];\n  }\n\n  async addCompletedLevel(userId: number, levelId: string, courseId: string, xpEarned: number): Promise<CompletedLevel> {\n    const result = await db.insert(completedLevels).values({\n      userId,\n      levelId,\n      courseId,\n      xpEarned,\n    }).returning();\n    return result[0];\n  }\n\n  async getCompletedLevels(userId: number): Promise<CompletedLevel[]> {\n    return await db.select().from(completedLevels).where(eq(completedLevels.userId, userId));\n  }\n\n  async addBadge(userId: number, badgeData: Omit<Badge, 'id' | 'userId' | 'earnedAt'>): Promise<Badge> {\n    const result = await db.insert(badges).values({\n      userId,\n      ...badgeData,\n    }).returning();\n    return result[0];\n  }\n\n  async getUserBadges(userId: number): Promise<Badge[]> {\n    return await db.select().from(badges).where(eq(badges.userId, userId));\n  }\n\n  async createCertificate(userId: number, courseId: string, courseName: string, shareableId: string): Promise<Certificate> {\n    const result = await db.insert(certificates).values({\n      userId,\n      courseId,\n      courseName,\n      shareableId,\n    }).returning();\n    return result[0];\n  }\n\n  async getCertificate(shareableId: string): Promise<Certificate | undefined> {\n    const result = await db.select().from(certificates).where(eq(certificates.shareableId, shareableId)).limit(1);\n    return result[0];\n  }\n\n  async getUserCertificates(userId: number): Promise<Certificate[]> {\n    return await db.select().from(certificates).where(eq(certificates.userId, userId));\n  }\n\n  async getTopUsers(limit: number = 10): Promise<Array<User & { totalXP: number; level: number }>> {\n    const { desc } = await import(\"drizzle-orm\");\n    const result = await db\n      .select({\n        id: users.id,\n        username: users.username,\n        password: users.password,\n        email: users.email,\n        createdAt: users.createdAt,\n        totalXP: userProgress.totalXP,\n        level: userProgress.level,\n      })\n      .from(users)\n      .leftJoin(userProgress, eq(users.id, userProgress.userId))\n      .orderBy(desc(userProgress.totalXP))\n      .limit(limit);\n    \n    return result as Array<User & { totalXP: number; level: number }>;\n  }\n\n  async trackBehavior(data: {\n    userId: number;\n    levelId: string;\n    activityType: string;\n    timeToSolve: number | null;\n    hintsUsed: number;\n    mistakeCount: number;\n    attemptsCount: number;\n    successRate: number;\n  }): Promise<void> {\n    await db.insert(behavioralMetrics).values({\n      userId: data.userId,\n      levelId: data.levelId,\n      activityType: data.activityType,\n      timeToSolve: data.timeToSolve,\n      hintsUsed: data.hintsUsed,\n      mistakeCount: data.mistakeCount,\n      attemptsCount: data.attemptsCount,\n      successRate: data.successRate,\n      performanceScore: calculatePerformanceScore(data),\n    });\n  }\n\n  async getBehavioralMetrics(userId: number, levelId?: string): Promise<any[]> {\n    if (levelId) {\n      const { and } = await import(\"drizzle-orm\");\n      return await db\n        .select()\n        .from(behavioralMetrics)\n        .where(and(\n          eq(behavioralMetrics.userId, userId),\n          eq(behavioralMetrics.levelId, levelId)\n        ));\n    }\n    \n    return await db\n      .select()\n      .from(behavioralMetrics)\n      .where(eq(behavioralMetrics.userId, userId));\n  }\n}\n\nfunction calculatePerformanceScore(data: {\n  timeToSolve: number | null;\n  hintsUsed: number;\n  mistakeCount: number;\n  successRate: number;\n}): number {\n  let score = data.successRate;\n  score -= data.hintsUsed * 5;\n  score -= data.mistakeCount * 3;\n  if (data.timeToSolve && data.timeToSolve < 60) {\n    score += 10;\n  }\n  return Math.max(0, Math.min(100, score));\n}\n\nexport const storage = new DBStorage();\n","size_bytes":7014},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":768},"server/routes/youtube.ts":{"content":"import { Router } from 'express';\nimport { getRecommendedVideos } from '../services/youtube';\n\nconst router = Router();\n\nrouter.post('/recommendations', async (req, res) => {\n  try {\n    const { topic, difficulty } = req.body;\n    \n    if (!topic) {\n      return res.status(400).json({ error: 'Topic is required' });\n    }\n    \n    const videos = await getRecommendedVideos(topic, difficulty || 'beginner');\n    res.json({ videos });\n  } catch (error) {\n    console.error('Error fetching video recommendations:', error);\n    res.status(500).json({ error: 'Failed to fetch recommendations' });\n  }\n});\n\nexport default router;\n","size_bytes":625},"client/src/pages/Challenge.tsx":{"content":"import { useLearning } from \"@/lib/stores/useLearning\";\nimport { useState, useEffect } from \"react\";\nimport { ArrowLeft, Lightbulb, Send, CheckCircle } from \"lucide-react\";\nimport { useAudio } from \"@/lib/stores/useAudio\";\nimport VideoRecommendations from \"@/components/VideoRecommendations\";\nimport TeachingGame from \"@/components/TeachingGame\";\nimport { AssessmentHub } from \"@/components/AssessmentHub\";\nimport { ResourcesPanel } from \"@/components/ResourcesPanel\";\nimport { MarkupForge } from \"@/games/MarkupForge\";\n\ninterface ChallengeProps {\n  onNavigate: (page: string) => void;\n}\n\nexport default function Challenge({ onNavigate }: ChallengeProps) {\n  const { courses, userProgress, advanceStage, goBackStage, startGame, updateAIMessages, aiCompanion, toggleAICompanion } = useLearning();\n  const { playSuccess } = useAudio();\n  const [userAnswer, setUserAnswer] = useState('');\n  const [showResult, setShowResult] = useState(false);\n  const [isCorrect, setIsCorrect] = useState(false);\n  const [chatInput, setChatInput] = useState('');\n\n  const currentLevel = courses\n    .flatMap(c => c.levels)\n    .find(l => l.id === userProgress.currentLevel);\n\n  const currentCourse = courses.find(c => c.id === currentLevel?.courseId);\n\n  useEffect(() => {\n    if (!currentLevel) {\n      onNavigate('courses');\n    }\n  }, [currentLevel, onNavigate]);\n\n  if (!currentLevel || !currentCourse) {\n    return null;\n  }\n\n  const currentStage = currentLevel.currentStage || 'narrative';\n  const hasGame = !!currentLevel.gameConfig;\n\n  const handleNarrativeComplete = () => {\n    advanceStage(currentLevel.id, 'ai-videos');\n  };\n\n  const handleTeachingGameComplete = (gameResult?: any) => {\n    // Show game completion screen first\n    setTimeout(() => {\n      advanceStage(currentLevel.id, 'assessment');\n    }, 3000); // 3 second delay to show completion\n  };\n\n  const handleGoBack = () => {\n    goBackStage(currentLevel.id);\n  };\n\n  const handleSubmit = () => {\n    const correctAnswer = getCorrectAnswer(currentLevel.id);\n    const correct = userAnswer.trim().toLowerCase() === correctAnswer.toLowerCase();\n    \n    setIsCorrect(correct);\n    setShowResult(true);\n\n    if (correct) {\n      playSuccess();\n      \n      if (currentStage === 'assessment' && !hasGame) {\n        setTimeout(() => {\n          if (currentLevel.externalResources && currentLevel.externalResources.length > 0) {\n            advanceStage(currentLevel.id, 'resources');\n          } else {\n            advanceStage(currentLevel.id, 'complete');\n          }\n        }, 1500);\n      }\n    }\n  };\n\n  const handleVideosComplete = () => {\n    if (hasGame) {\n      advanceStage(currentLevel.id, 'teaching-game');\n    } else {\n      advanceStage(currentLevel.id, 'assessment');\n    }\n  };\n\n  const handleAssessmentComplete = () => {\n    if (currentLevel.externalResources && currentLevel.externalResources.length > 0) {\n      advanceStage(currentLevel.id, 'resources');\n    } else {\n      advanceStage(currentLevel.id, 'complete');\n      onNavigate('courses');\n    }\n  };\n\n  const handleStartGame = () => {\n    const success = startGame(currentLevel.id);\n    if (success) {\n      onNavigate('game-arena');\n    } else {\n      console.error('Failed to start game');\n    }\n  };\n\n  const handleResourcesComplete = () => {\n    advanceStage(currentLevel.id, 'complete');\n    onNavigate('courses');\n  };\n\n  const handleAIHelp = (context?: { type: 'quiz' | 'coding'; title?: string; description?: string; userCode?: string; testResults?: string; attempts?: number; }) => {\n    const quizAnswers = getQuizAnswers(currentLevel.id);\n    const codingAnswers = getCodingAnswers(currentLevel.id);\n\n    let content = `Here's the complete solution for \"${currentLevel.title}\":\\n\\n`;\n\n    if (quizAnswers.length > 0) {\n      content += `üìù QUIZ ANSWERS:\\n`;\n      quizAnswers.forEach((answer: string) => {\n        content += `${answer}\\n`;\n      });\n      content += `\\n`;\n    }\n\n    if (codingAnswers.length > 0) {\n      content += `üíª CODING SOLUTIONS:\\n`;\n      codingAnswers.forEach((solution: string, idx: number) => {\n        content += `Problem ${idx + 1}:\\n${solution}\\n\\n`;\n      });\n    }\n\n    content += `Study these solutions carefully and try to understand each part before using them.`;\n\n    // Add practice resources\n    if (currentLevel.externalResources && currentLevel.externalResources.length > 0) {\n      content += `\\n\\nüß© PRACTICE RESOURCES:\\n`;\n      currentLevel.externalResources.forEach((resource, idx) => {\n        content += `${idx + 1}. ${resource.title}\\n   ${resource.url}\\n   ${resource.description}\\n\\n`;\n      });\n    }\n\n    alert(content);\n  };\n\n  const handleAIChat = () => {\n    if (!chatInput.trim()) return;\n\n    updateAIMessages({ role: 'user', content: chatInput });\n\n    setTimeout(() => {\n      const aiResponse = getAIHint(currentLevel.id);\n      updateAIMessages({ role: 'assistant', content: aiResponse });\n    }, 500);\n\n    setChatInput('');\n  };\n\n  const handleAIHelpInGame = () => {\n    // Provide complete answers for both quiz and coding\n    const quizAnswers = getQuizAnswers(currentLevel.id);\n    const codingAnswers = getCodingAnswers(currentLevel.id);\n\n    let content = `Here's the complete solution for \"${currentLevel.title}\":\\n\\n`;\n\n    if (quizAnswers.length > 0) {\n      content += `üìù QUIZ ANSWERS:\\n`;\n      quizAnswers.forEach((answer: string, idx: number) => {\n        content += `${idx + 1}. ${answer}\\n`;\n      });\n      content += `\\n`;\n    }\n\n    if (codingAnswers.length > 0) {\n      content += `üíª CODING SOLUTIONS:\\n`;\n      codingAnswers.forEach((solution: string, idx: number) => {\n        content += `Problem ${idx + 1}:\\n${solution}\\n\\n`;\n      });\n    }\n\n    content += `Study these solutions carefully and try to understand each part before using them.`;\n\n    updateAIMessages({ role: 'assistant', content });\n    toggleAICompanion();\n  };\n\n  const getCorrectAnswer = (levelId: string): string => {\n    const answers: Record<string, string> = {\n      'dsa-1': '10',\n      'dsa-2': '[1, 2, 3, 4, 5]',\n      'dsa-3': '3',\n      'web-1': '<h1>',\n      'web-2': 'color: blue;',\n      'web-3': 'function',\n      'ai-1': 'machine learning',\n      'ai-2': 'neural network',\n      'cloud-1': 'scalability',\n      'cloud-2': 'container',\n    };\n    return answers[levelId] || 'answer';\n  };\n\n  const getAIHint = (levelId: string): string => {\n    const hints: Record<string, string> = {\n      'dsa-1': 'Think about how many times the loop runs. Count from 1 to 10!',\n      'dsa-2': 'Arrays are created using square brackets [ ] and items are separated by commas.',\n      'dsa-3': 'Binary search divides the array in half each time. How many steps for 8 elements?',\n      'web-1': 'The game shows you need to place blocks in the correct order: div (blue), h1 (purple), p (pink), img (yellow), button (green). Click on a colored block first, then click on the grid slot where it belongs. The purple block (h1) goes in the middle slot of the first row.',\n      'web-2': 'CSS uses the property name, then a colon, then the value, and ends with a semicolon.',\n      'web-3': 'Functions in JavaScript are declared with the \"function\" keyword.',\n      'ai-1': 'AI systems improve through experience. This is called machine learning!',\n      'ai-2': 'This type of AI is inspired by the human brain with interconnected nodes.',\n      'cloud-1': 'One key benefit is the ability to handle more users by adding resources.',\n      'cloud-2': 'Docker packages applications in isolated environments called...',\n    };\n    return hints[levelId] || 'Keep thinking! You can do this!';\n  };\n\n  const getQuizAnswers = (levelId: string): string[] => {\n    const quizAnswers: Record<string, string[]> = {\n      'web-1': [\n        '1. What does HTML stand for? - Hyper Text Markup Language',\n        '2. Which tag is used to create a hyperlink? - <a>',\n        '3. What is the purpose of semantic HTML? - To give meaning to the structure'\n      ],\n      'web-2': [\n        'The CSS code to make text blue is: color: blue;'\n      ],\n      'web-3': [\n        'Functions in JavaScript are declared with the \"function\" keyword'\n      ],\n      'dsa-1': [\n        'The loop will print 10 numbers (1 through 10)'\n      ],\n      'dsa-2': [\n        'The array containing numbers 1 through 5 is: [1, 2, 3, 4, 5]'\n      ],\n      'dsa-3': [\n        'Binary search takes 3 steps for 8 elements'\n      ],\n      'ai-1': [\n        'Machine learning is how AI systems improve through experience'\n      ],\n      'ai-2': [\n        'Neural network is the type of AI inspired by the human brain'\n      ],\n      'cloud-1': [\n        'Scalability is the ability to handle more users by adding resources'\n      ],\n      'cloud-2': [\n        'Container is what Docker packages applications in'\n      ]\n    };\n    return quizAnswers[levelId] || [];\n  };\n\n  const getCodingAnswers = (levelId: string): string[] => {\n    const codingAnswers: Record<string, string[]> = {\n      'web-1': [\n        `function createProfile(name, bio, imageUrl) {\n  return \\`<div class=\"profile\">\n    <img src=\"\\${imageUrl}\" alt=\"\\${name}\">\n    <h2>\\${name}</h2>\n    <p>\\${bio}</p>\n  </div>\\`;\n}`,\n        `<div class=\"container\">\n  <h1>Welcome</h1>\n  <p>This is a paragraph</p>\n  <img src=\"image.jpg\" alt=\"description\">\n  <button>Click me</button>\n</div>`\n      ],\n      'web-2': [\n        `.text { color: blue; }`,\n        `body {\n  font-family: Arial, sans-serif;\n  background-color: #f0f0f0;\n  margin: 0;\n  padding: 20px;\n}`\n      ],\n      'web-3': [\n        `function greet(name) {\n  return \"Hello, \" + name + \"!\";\n}`,\n        `function calculateSum(a, b) {\n  return a + b;\n}`\n      ],\n      'dsa-1': [\n        `for (let i = 1; i <= 10; i++) {\n  console.log(i);\n}`,\n        `let count = 0;\nfor (let i = 1; i <= 10; i++) {\n  count++;\n}\nconsole.log(count);`\n      ],\n      'dsa-2': [\n        `const numbers = [1, 2, 3, 4, 5];`,\n        `function createArray() {\n  return [1, 2, 3, 4, 5];\n}`\n      ],\n      'dsa-3': [\n        `function binarySearch(arr, target) {\n  let left = 0;\n  let right = arr.length - 1;\n  let steps = 0;\n  \n  while (left <= right) {\n    steps++;\n    const mid = Math.floor((left + right) / 2);\n    if (arr[mid] === target) return steps;\n    if (arr[mid] < target) left = mid + 1;\n    else right = mid - 1;\n  }\n  return steps;\n}`\n      ],\n      'ai-1': [\n        `const machineLearning = {\n  definition: \"AI systems that improve through experience\",\n  examples: [\"recommendation systems\", \"image recognition\"]\n};`\n      ],\n      'ai-2': [\n        `class NeuralNetwork {\n  constructor(layers) {\n    this.layers = layers;\n    this.weights = this.initializeWeights();\n  }\n  \n  initializeWeights() {\n    return this.layers.map(() => Math.random());\n  }\n}`\n      ],\n      'cloud-1': [\n        `const cloudBenefits = {\n  scalability: \"Handle more users by adding resources\",\n  flexibility: \"Scale up or down as needed\",\n  costEffective: \"Pay only for what you use\"\n};`\n      ],\n      'cloud-2': [\n        `// Dockerfile\nFROM node:16\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 3000\nCMD [\"npm\", \"start\"]`\n      ]\n    };\n    return codingAnswers[levelId] || [];\n  };\n\n  if (currentStage === 'narrative') {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-900 to-slate-900 pt-24 pb-12 px-4\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"flex items-center gap-4 mb-6\">\n            <button\n              onClick={() => onNavigate('courses')}\n              className=\"flex items-center gap-2 text-indigo-300 hover:text-indigo-200 transition-colors\"\n            >\n              <ArrowLeft size={20} />\n              Back to Courses\n            </button>\n            {currentStage !== 'narrative' && (\n              <button\n                onClick={handleGoBack}\n                className=\"flex items-center gap-2 text-purple-300 hover:text-purple-200 transition-colors\"\n              >\n                <ArrowLeft size={20} />\n                Back\n              </button>\n            )}\n          </div>\n\n          <div className=\"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl p-8 border-4 border-indigo-500/30 mb-8\">\n            <h1 className=\"font-game text-3xl text-indigo-300 glow-text mb-6\">{currentLevel.title}</h1>\n            \n            <div className=\"space-y-6\">\n              <div className=\"bg-slate-700/50 rounded-xl p-6 border-2 border-indigo-400/30\">\n                <h2 className=\"font-orbitron text-xl text-white mb-4\">üìñ The Story</h2>\n                <p className=\"text-gray-300 leading-relaxed\">{currentLevel.story}</p>\n              </div>\n\n              {currentLevel.narrative && (\n                <div className=\"bg-slate-700/50 rounded-xl p-6 border-2 border-purple-400/30\">\n                  <h2 className=\"font-orbitron text-xl text-white mb-4\">üéØ What You'll Learn</h2>\n                  <p className=\"text-gray-300 leading-relaxed\">{currentLevel.narrative}</p>\n                </div>\n              )}\n\n              {currentLevel.teachingContent && (\n                <div className=\"bg-slate-700/50 rounded-xl p-6 border-2 border-blue-400/30\">\n                  <h2 className=\"font-orbitron text-xl text-white mb-4\">üí° Key Concepts</h2>\n                  <p className=\"text-gray-300 leading-relaxed\">{currentLevel.teachingContent}</p>\n                </div>\n              )}\n            </div>\n\n            <button\n              onClick={handleNarrativeComplete}\n              className=\"mt-8 w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold py-4 px-8 rounded-xl font-orbitron text-lg transition-all glow\"\n            >\n              Begin Learning ‚Üí\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (currentStage === 'teaching-game') {\n    // Check if this is the HTML level that should use MarkupForge\n    if (currentLevel.id === 'web-1' || currentLevel.title.toLowerCase().includes('html') || currentLevel.title.toLowerCase().includes('markup')) {\n      return (\n        <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-900 to-slate-900 pt-24 pb-12 px-4\">\n          <div className=\"max-w-4xl mx-auto\">\n            <div className=\"flex items-center gap-4 mb-6\">\n              <button\n                onClick={() => onNavigate('courses')}\n                className=\"flex items-center gap-2 text-indigo-300 hover:text-indigo-200 transition-colors\"\n              >\n                <ArrowLeft size={20} />\n                Back to Courses\n              </button>\n              <button\n                onClick={handleGoBack}\n                className=\"flex items-center gap-2 text-purple-300 hover:text-purple-200 transition-colors\"\n              >\n                <ArrowLeft size={20} />\n                Back\n              </button>\n            </div>\n            <div className=\"relative\">\n              <MarkupForge\n                config={{\n                  id: 'markup-forge',\n                  type: 'markup-forge',\n                  title: 'HTML Structure Builder',\n                  description: 'Build proper HTML structure by placing elements in the correct order',\n                  objective: 'Place 5 HTML blocks in the correct hierarchical order',\n                  controls: 'Click blocks then grid slots',\n                  timeLimit: 90,\n                  passingScore: 80,\n                  importanceWhy: 'Understanding HTML structure is fundamental to web development'\n                }}\n                onComplete={handleTeachingGameComplete}\n                onExit={() => onNavigate('courses')}\n              />\n              <button\n                onClick={handleAIHelpInGame}\n                className=\"absolute top-4 right-4 px-4 py-2 rounded-lg bg-purple-600 hover:bg-purple-500 font-orbitron text-sm text-white transition-colors flex items-center gap-2 z-10\"\n              >\n                <Lightbulb className=\"w-4 h-4\" />\n                AI Help\n              </button>\n            </div>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-900 to-slate-900 pt-24 pb-12 px-4\">\n          <div className=\"max-w-4xl mx-auto\">\n            <div className=\"flex items-center gap-4 mb-6\">\n              <button\n                onClick={() => onNavigate('courses')}\n                className=\"flex items-center gap-2 text-indigo-300 hover:text-indigo-200 transition-colors\"\n              >\n                <ArrowLeft size={20} />\n                Back to Courses\n              </button>\n              <button\n                onClick={handleGoBack}\n                className=\"flex items-center gap-2 text-purple-300 hover:text-purple-200 transition-colors\"\n              >\n                <ArrowLeft size={20} />\n                Back\n              </button>\n            </div>\n            <div className=\"relative\">\n              <TeachingGame\n                topic={currentLevel.title}\n                concept={currentLevel.description}\n                interactive={{\n                  title: `Understanding ${currentLevel.title}`,\n                  description: currentLevel.story,\n                  demoCode: currentLevel.title.includes('Loop') ? 'for (let i = 0; i < 10; i++) {\\n  console.log(i);\\n}' : undefined,\n                  visualDemo: `This concept helps you ${currentLevel.description.toLowerCase()}`,\n                }}\n                onComplete={handleTeachingGameComplete}\n              />\n              <button\n                onClick={handleAIHelpInGame}\n                className=\"absolute top-4 right-4 px-4 py-2 rounded-lg bg-purple-600 hover:bg-purple-500 font-orbitron text-sm text-white transition-colors flex items-center gap-2 z-10\"\n              >\n                <Lightbulb className=\"w-4 h-4\" />\n                AI Help\n              </button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  if (currentStage === 'ai-videos') {\n    return (\n      <VideoRecommendations\n        topic={currentLevel.videoTopic || currentLevel.title}\n        difficulty={currentLevel.difficulty}\n        aiSuggestedVideos={currentLevel.aiSuggestedVideos}\n        hasGame={hasGame}\n        onComplete={handleVideosComplete}\n      />\n    );\n  }\n\n  if (currentStage === 'assessment') {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-900 to-slate-900 pt-24 pb-12 px-4\">\n        <div className=\"max-w-6xl mx-auto\">\n          <div className=\"flex items-center gap-4 mb-6\">\n            <button\n              onClick={() => onNavigate('courses')}\n              className=\"flex items-center gap-2 text-indigo-300 hover:text-indigo-200 transition-colors\"\n            >\n              <ArrowLeft size={20} />\n              Back to Courses\n            </button>\n            <button\n              onClick={handleGoBack}\n              className=\"flex items-center gap-2 text-purple-300 hover:text-purple-200 transition-colors\"\n            >\n              <ArrowLeft size={20} />\n              Back\n            </button>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n            <div className=\"lg:col-span-4\">\n              <AssessmentHub\n                level={currentLevel}\n                onComplete={handleAssessmentComplete}\n                onAIHelp={handleAIHelp}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (currentStage === 'practice-game' && hasGame) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pt-24 pb-12 px-4\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"flex items-center gap-4 mb-6\">\n            <button\n              onClick={() => onNavigate('courses')}\n              className=\"flex items-center gap-2 text-indigo-300 hover:text-indigo-200 transition-colors\"\n            >\n              <ArrowLeft size={20} />\n              Back to Courses\n            </button>\n            <button\n              onClick={handleGoBack}\n              className=\"flex items-center gap-2 text-purple-300 hover:text-purple-200 transition-colors\"\n            >\n              <ArrowLeft size={20} />\n              Back\n            </button>\n          </div>\n          <div className=\"relative\">\n            <div className=\"bg-slate-800/50 backdrop-blur-sm rounded-2xl border-2 border-purple-500 p-12 text-center max-w-2xl mx-auto\">\n              <h1 className=\"font-game text-4xl text-purple-300 mb-6\">Ready to Play?</h1>\n              <p className=\"font-orbitron text-gray-300 mb-8\">\n                You've completed the assessment! Now put your skills to the test in the practice game.\n              </p>\n              <button\n                onClick={handleStartGame}\n                className=\"px-8 py-4 rounded-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 font-game text-xl text-white transition-all glow\"\n              >\n                üéÆ Launch Game\n              </button>\n            </div>\n            <button\n              onClick={handleAIHelpInGame}\n              className=\"absolute top-4 right-4 px-4 py-2 rounded-lg bg-purple-600 hover:bg-purple-500 font-orbitron text-sm text-white transition-colors flex items-center gap-2 z-10\"\n            >\n              <Lightbulb className=\"w-4 h-4\" />\n              AI Help\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (currentStage === 'resources') {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-900 to-slate-900 pt-24 pb-12 px-4\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"flex items-center gap-4 mb-6\">\n            <button\n              onClick={() => onNavigate('courses')}\n              className=\"flex items-center gap-2 text-indigo-300 hover:text-indigo-200 transition-colors\"\n            >\n              <ArrowLeft size={20} />\n              Back to Courses\n            </button>\n            <button\n              onClick={handleGoBack}\n              className=\"flex items-center gap-2 text-purple-300 hover:text-purple-200 transition-colors\"\n            >\n              <ArrowLeft size={20} />\n              Back\n            </button>\n          </div>\n          <div className=\"relative\">\n            <ResourcesPanel\n              resources={currentLevel.externalResources || []}\n              onComplete={handleResourcesComplete}\n            />\n            <button\n              onClick={handleAIHelpInGame}\n              className=\"absolute top-4 right-4 px-4 py-2 rounded-lg bg-purple-600 hover:bg-purple-500 font-orbitron text-sm text-white transition-colors flex items-center gap-2 z-10\"\n            >\n              <Lightbulb className=\"w-4 h-4\" />\n              AI Help\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Old quiz rendering - kept for backward compatibility with levels that don't have new assessment data\n  const renderChallenge = () => {\n    switch (currentLevel.id) {\n      case 'dsa-1':\n        return (\n          <div className=\"space-y-4\">\n            <div className=\"bg-slate-900 rounded-xl p-6 border-2 border-indigo-500 font-mono text-sm\">\n              <div className=\"text-green-400 mb-2\">{'// JavaScript Code'}</div>\n              <div className=\"text-gray-300\">\n                <span className=\"text-purple-400\">for</span> \n                <span className=\"text-gray-300\"> (</span>\n                <span className=\"text-blue-400\">let</span> \n                <span className=\"text-gray-300\"> i = </span>\n                <span className=\"text-yellow-400\">1</span>\n                <span className=\"text-gray-300\">; i &lt;= </span>\n                <span className=\"text-yellow-400\">10</span>\n                <span className=\"text-gray-300\">; i++) {'{'}</span>\n              </div>\n              <div className=\"text-gray-300 ml-4\">\n                <span className=\"text-blue-400\">console</span>\n                <span className=\"text-gray-300\">.log(i);</span>\n              </div>\n              <div className=\"text-gray-300\">{'}'}</div>\n            </div>\n            <p className=\"font-orbitron text-white\">\n              How many numbers will this loop print?\n            </p>\n          </div>\n        );\n\n      case 'dsa-2':\n        return (\n          <div className=\"space-y-4\">\n            <p className=\"font-orbitron text-white\">\n              Create an array containing the numbers 1 through 5 in JavaScript.\n            </p>\n            <p className=\"font-orbitron text-sm text-gray-400\">\n              Hint: Use square brackets and separate numbers with commas.\n            </p>\n          </div>\n        );\n\n      case 'web-1':\n        return (\n          <div className=\"space-y-4\">\n            <p className=\"font-orbitron text-white\">\n              What HTML tag is used for the largest heading?\n            </p>\n            <div className=\"bg-slate-900 rounded-xl p-4 border-2 border-purple-500\">\n              <p className=\"font-mono text-sm text-gray-400\">\n                Example: &lt;?&gt;My Big Title&lt;/?&gt;\n              </p>\n            </div>\n          </div>\n        );\n\n      case 'web-2':\n        return (\n          <div className=\"space-y-4\">\n            <p className=\"font-orbitron text-white\">\n              Write the CSS code to make text blue.\n            </p>\n            <p className=\"font-orbitron text-sm text-gray-400\">\n              Format: property: value;\n            </p>\n          </div>\n        );\n\n      default:\n        return (\n          <p className=\"font-orbitron text-white\">\n            Complete this challenge to earn {currentLevel.xpReward} XP!\n          </p>\n        );\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen pt-24 pb-12 px-4\">\n      <div className=\"max-w-5xl mx-auto\">\n        <div className=\"flex items-center gap-4 mb-6\">\n          <button\n            onClick={() => onNavigate('courses')}\n            className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 transition-colors font-orbitron text-sm text-white\"\n          >\n            <ArrowLeft className=\"w-4 h-4\" />\n            Back to Course\n          </button>\n          <button\n            onClick={handleGoBack}\n            className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-purple-800 hover:bg-purple-700 transition-colors font-orbitron text-sm text-white\"\n          >\n            <ArrowLeft className=\"w-4 h-4\" />\n            Back\n          </button>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          <div className=\"lg:col-span-2\">\n            <div className=\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl p-8 border-4 border-indigo-500 mb-6\">\n              <div className=\"flex items-start gap-4 mb-6\">\n                <div className=\"text-5xl\">{currentCourse.icon}</div>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <span className=\"font-orbitron text-xs px-3 py-1 rounded-full bg-indigo-600 text-white\">\n                      {currentLevel.difficulty}\n                    </span>\n                    <span className=\"font-orbitron text-xs px-3 py-1 rounded-full bg-purple-600 text-white capitalize\">\n                      {currentLevel.challengeType}\n                    </span>\n                  </div>\n                  <h1 className=\"font-game text-xl sm:text-2xl mb-2 text-white\">\n                    {currentLevel.title}\n                  </h1>\n                  <p className=\"font-orbitron text-sm text-gray-400\">\n                    {currentLevel.description}\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"bg-slate-700/50 rounded-lg p-4 mb-6\">\n                <p className=\"font-orbitron text-sm text-purple-300 italic\">\n                  üìñ {currentLevel.story}\n                </p>\n              </div>\n\n              {renderChallenge()}\n\n              <div className=\"mt-6\">\n                <label className=\"font-orbitron text-sm text-gray-300 mb-2 block\">\n                  Your Answer:\n                </label>\n                <input\n                  type=\"text\"\n                  value={userAnswer}\n                  onChange={(e) => setUserAnswer(e.target.value)}\n                  onKeyDown={(e) => e.key === 'Enter' && handleSubmit()}\n                  className=\"w-full px-4 py-3 rounded-lg bg-slate-900 border-2 border-slate-700 focus:border-indigo-500 outline-none font-mono text-white\"\n                  placeholder=\"Type your answer here...\"\n                  disabled={showResult && isCorrect}\n                />\n              </div>\n\n              {showResult && (\n                <div className={`mt-4 p-4 rounded-lg border-2 ${\n                  isCorrect \n                    ? 'bg-green-900/50 border-green-500' \n                    : 'bg-red-900/50 border-red-500'\n                }`}>\n                  <div className=\"flex items-center gap-2 font-orbitron text-sm mb-3\">\n                    {isCorrect ? (\n                      <>\n                        <CheckCircle className=\"w-5 h-5 text-green-400\" />\n                        <span className=\"text-green-300\">\n                          Correct! {hasGame ? 'Now play the game to earn XP!' : `You earned ${currentLevel.xpReward} XP! üéâ`}\n                        </span>\n                      </>\n                    ) : (\n                      <span className=\"text-red-300\">\n                        Not quite right. Try again or ask the AI for a hint!\n                      </span>\n                    )}\n                  </div>\n                  \n                </div>\n              )}\n\n              <div className=\"mt-6 flex gap-3\">\n                <button\n                  onClick={handleSubmit}\n                  disabled={!userAnswer.trim() || (showResult && isCorrect)}\n                  className=\"flex-1 px-6 py-3 rounded-lg bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 disabled:opacity-50 disabled:cursor-not-allowed font-game text-sm text-white transition-all duration-300 glow\"\n                >\n                  Submit Answer\n                </button>\n                <button\n                  onClick={toggleAICompanion}\n                  className=\"px-6 py-3 rounded-lg bg-purple-600 hover:bg-purple-500 font-orbitron text-sm text-white transition-colors flex items-center gap-2\"\n                >\n                  <Lightbulb className=\"w-4 h-4\" />\n                  AI Help\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl p-6 border-4 border-purple-500 sticky top-24\">\n              <h2 className=\"font-game text-lg mb-4 text-purple-300 flex items-center gap-2\">\n                <span>ü§ñ</span>\n                AI Companion\n              </h2>\n\n              <div className=\"bg-slate-900 rounded-lg p-4 mb-4 h-64 overflow-y-auto\">\n                {aiCompanion.messages.length === 0 ? (\n                  <p className=\"font-orbitron text-sm text-gray-400 text-center mt-8\">\n                    Hi! I'm your AI study buddy. Ask me for hints or explanations!\n                  </p>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {aiCompanion.messages.map((msg, idx) => (\n                      <div\n                        key={idx}\n                        className={`p-3 rounded-lg ${\n                          msg.role === 'user'\n                            ? 'bg-indigo-900/50 ml-4'\n                            : 'bg-purple-900/50 mr-4'\n                        }`}\n                      >\n                        <p className=\"font-orbitron text-xs text-gray-300\">\n                          {msg.content}\n                        </p>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={chatInput}\n                  onChange={(e) => setChatInput(e.target.value)}\n                  onKeyDown={(e) => e.key === 'Enter' && handleAIChat()}\n                  className=\"flex-1 px-3 py-2 rounded-lg bg-slate-900 border-2 border-slate-700 focus:border-purple-500 outline-none font-orbitron text-sm text-white\"\n                  placeholder=\"Ask for help...\"\n                />\n                <button\n                  onClick={handleAIChat}\n                  className=\"px-4 py-2 rounded-lg bg-purple-600 hover:bg-purple-500 transition-colors\"\n                >\n                  <Send className=\"w-4 h-4 text-white\" />\n                </button>\n              </div>\n\n              <div className=\"mt-4 p-4 bg-indigo-900/30 rounded-lg border-2 border-indigo-500/30\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <span className=\"text-2xl\">üíé</span>\n                  <span className=\"font-game text-sm text-yellow-400\">\n                    Reward: {currentLevel.xpReward} XP\n                  </span>\n                </div>\n                <p className=\"font-orbitron text-xs text-gray-400\">\n                  Complete this challenge to unlock the next level!\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":33608},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":2001},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8522},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-primary/10\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":266},"client/src/lib/stores/useGame.tsx":{"content":"import { create } from \"zustand\";\nimport { subscribeWithSelector } from \"zustand/middleware\";\n\nexport type GamePhase = \"ready\" | \"playing\" | \"ended\";\n\ninterface GameState {\n  phase: GamePhase;\n  \n  // Actions\n  start: () => void;\n  restart: () => void;\n  end: () => void;\n}\n\nexport const useGame = create<GameState>()(\n  subscribeWithSelector((set) => ({\n    phase: \"ready\",\n    \n    start: () => {\n      set((state) => {\n        // Only transition from ready to playing\n        if (state.phase === \"ready\") {\n          return { phase: \"playing\" };\n        }\n        return {};\n      });\n    },\n    \n    restart: () => {\n      set(() => ({ phase: \"ready\" }));\n    },\n    \n    end: () => {\n      set((state) => {\n        // Only transition from playing to ended\n        if (state.phase === \"playing\") {\n          return { phase: \"ended\" };\n        }\n        return {};\n      });\n    }\n  }))\n);\n","size_bytes":893},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4419},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverAnchor = PopoverPrimitive.Anchor\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n","size_bytes":1292},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1217},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5639},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":792},"client/src/components/ui/interface.tsx":{"content":"import { useEffect } from \"react\";\nimport { useGame } from \"@/lib/stores/useGame\";\nimport { useAudio } from \"@/lib/stores/useAudio\";\nimport { Button } from \"./button\";\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"./card\";\nimport { VolumeX, Volume2, RotateCw, Trophy } from \"lucide-react\";\n\nexport function Interface() {\n  const restart = useGame((state) => state.restart);\n  const phase = useGame((state) => state.phase);\n  const { isMuted, toggleMute } = useAudio();\n\n  // Handle clicks on the interface in the ready phase to start the game\n  useEffect(() => {\n    if (phase === \"ready\") {\n      const handleClick = () => {\n        const activeElement = document.activeElement;\n        if (activeElement && 'blur' in activeElement) {\n          (activeElement as HTMLElement).blur();\n        }\n        const event = new KeyboardEvent(\"keydown\", { code: \"Space\" });\n        window.dispatchEvent(event);\n      };\n\n      window.addEventListener(\"click\", handleClick);\n      return () => window.removeEventListener(\"click\", handleClick);\n    }\n  }, [phase]);\n\n  return (\n    <>\n      {/* Top-right corner UI controls */}\n      <div className=\"fixed top-4 right-4 flex gap-2 z-10\">\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          onClick={toggleMute}\n          title={isMuted ? \"Unmute\" : \"Mute\"}\n        >\n          {isMuted ? <VolumeX size={18} /> : <Volume2 size={18} />}\n        </Button>\n        \n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          onClick={restart}\n          title=\"Restart Game\"\n        >\n          <RotateCw size={18} />\n        </Button>\n      </div>\n      \n      {/* Game completion overlay */}\n      {phase === \"ended\" && (\n        <div className=\"fixed inset-0 flex items-center justify-center z-20 bg-black/30\">\n          <Card className=\"w-full max-w-md mx-4 shadow-lg\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center justify-center gap-2\">\n                <Trophy className=\"text-yellow-500\" />\n                Level Complete!\n              </CardTitle>\n            </CardHeader>\n            \n            <CardContent>\n              <p className=\"text-center text-muted-foreground\">\n                Congratulations! You successfully navigated the course.\n              </p>\n            </CardContent>\n            \n            <CardFooter className=\"flex justify-center\">\n              <Button onClick={restart} className=\"w-full\">\n                Play Again\n              </Button>\n            </CardFooter>\n          </Card>\n        </div>\n      )}\n      \n      {/* Instructions panel */}\n      <div className=\"fixed bottom-4 left-4 z-10\">\n        <Card className=\"w-auto max-w-xs bg-background/80 backdrop-blur-sm\">\n          <CardContent className=\"p-4\">\n            <h3 className=\"font-medium mb-2\">Controls:</h3>\n            <ul className=\"text-sm space-y-1 text-muted-foreground\">\n              <li>WASD or Arrow Keys: Move the ball</li>\n              <li>Space: Jump</li>\n              <li>R: Restart game</li>\n              <li>M: Toggle sound</li>\n            </ul>\n          </CardContent>\n        </Card>\n      </div>\n    </>\n  );\n}\n","size_bytes":3180},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-3.5 w-3.5 fill-primary\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1410},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path, { dirname } from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\nimport { fileURLToPath } from \"url\";\nimport glsl from \"vite-plugin-glsl\";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(__filename);\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    glsl(), // Add GLSL shader support\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(__dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(__dirname, \"shared\"),\n    },\n  },\n  root: path.resolve(__dirname, \"client\"),\n  build: {\n    outDir: path.resolve(__dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    host: \"0.0.0.0\",\n    port: 5000,\n    strictPort: true,\n    hmr: {\n      clientPort: 5000,\n    },\n  },\n  // Add support for large models and audio files\n  assetsInclude: [\"**/*.gltf\", \"**/*.glb\", \"**/*.mp3\", \"**/*.ogg\", \"**/*.wav\"],\n});\n","size_bytes":1014},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3849},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n      {children}\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4280},"client/src/pages/Progress.tsx":{"content":"import { useLearning } from \"@/lib/stores/useLearning\";\nimport { Trophy, Star, Award, TrendingUp } from \"lucide-react\";\n\nexport default function Progress() {\n  const { userProgress, courses } = useLearning();\n\n  const totalLevels = courses.reduce((sum, course) => sum + course.levels.length, 0);\n  const completedLevels = userProgress.completedLevels.length;\n  const progressPercent = (completedLevels / totalLevels) * 100;\n  const xpToNextLevel = ((userProgress.level) * 500) - userProgress.totalXP;\n\n  const allAchievements = [\n    { id: 'first-step', name: 'First Steps', description: 'Complete your first level', icon: 'üéØ', earned: completedLevels >= 1 },\n    { id: 'getting-started', name: 'Getting Started', description: 'Complete 3 levels', icon: 'üöÄ', earned: completedLevels >= 3 },\n    { id: 'dedicated', name: 'Dedicated Learner', description: 'Complete 5 levels', icon: 'üìö', earned: completedLevels >= 5 },\n    { id: 'expert', name: 'Rising Expert', description: 'Reach level 5', icon: '‚≠ê', earned: userProgress.level >= 5 },\n    { id: 'xp-hunter', name: 'XP Hunter', description: 'Earn 1000 XP', icon: 'üíé', earned: userProgress.totalXP >= 1000 },\n    { id: 'multi-course', name: 'Multi-Talented', description: 'Complete levels in 2 different courses', icon: 'üé®', earned: courses.filter(c => c.levels.some(l => l.completed)).length >= 2 },\n  ];\n\n  const earnedAchievements = allAchievements.filter(a => a.earned);\n  const lockedAchievements = allAchievements.filter(a => !a.earned);\n\n  return (\n    <div className=\"min-h-screen pt-24 pb-12 px-4\">\n      <div className=\"max-w-7xl mx-auto\">\n        <h1 className=\"font-game text-2xl sm:text-3xl text-center mb-12 text-indigo-300 glow-text\">\n          Your Progress\n        </h1>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12\">\n          <div className=\"bg-gradient-to-br from-indigo-900/50 to-indigo-800/50 rounded-2xl p-6 border-4 border-indigo-500 glow\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center\">\n                  <Star className=\"w-6 h-6 text-yellow-400\" />\n                </div>\n                <div>\n                  <p className=\"font-orbitron text-xs text-indigo-200\">Current Level</p>\n                  <p className=\"font-game text-2xl text-white\">{userProgress.level}</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"mt-4\">\n              <div className=\"flex justify-between items-center mb-2\">\n                <span className=\"font-orbitron text-xs text-indigo-200\">Next Level</span>\n                <span className=\"font-game text-xs text-indigo-400\">{xpToNextLevel} XP</span>\n              </div>\n              <div className=\"w-full h-3 bg-indigo-950 rounded-full overflow-hidden\">\n                <div \n                  className=\"h-full bg-gradient-to-r from-indigo-500 to-purple-500\"\n                  style={{ width: `${((userProgress.totalXP % 500) / 500) * 100}%` }}\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-gradient-to-br from-purple-900/50 to-purple-800/50 rounded-2xl p-6 border-4 border-purple-500\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center\">\n                  <Trophy className=\"w-6 h-6 text-yellow-400\" />\n                </div>\n                <div>\n                  <p className=\"font-orbitron text-xs text-purple-200\">Total XP</p>\n                  <p className=\"font-game text-2xl text-white\">{userProgress.totalXP}</p>\n                </div>\n              </div>\n            </div>\n            <p className=\"font-orbitron text-xs text-purple-300 mt-4\">\n              Keep grinding to level up!\n            </p>\n          </div>\n\n          <div className=\"bg-gradient-to-br from-pink-900/50 to-pink-800/50 rounded-2xl p-6 border-4 border-pink-500\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-12 h-12 bg-pink-600 rounded-lg flex items-center justify-center\">\n                  <TrendingUp className=\"w-6 h-6 text-white\" />\n                </div>\n                <div>\n                  <p className=\"font-orbitron text-xs text-pink-200\">Completion</p>\n                  <p className=\"font-game text-2xl text-white\">{Math.round(progressPercent)}%</p>\n                </div>\n              </div>\n            </div>\n            <p className=\"font-orbitron text-xs text-pink-300 mt-4\">\n              {completedLevels} of {totalLevels} levels complete\n            </p>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          <div>\n            <h2 className=\"font-game text-xl mb-6 text-indigo-300 flex items-center gap-2\">\n              <Award className=\"w-6 h-6\" />\n              Achievements Unlocked\n            </h2>\n            \n            <div className=\"space-y-4\">\n              {earnedAchievements.map((achievement) => (\n                <div\n                  key={achievement.id}\n                  className=\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-4 border-4 border-green-500 glow\"\n                >\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"text-4xl\">{achievement.icon}</div>\n                    <div className=\"flex-1\">\n                      <h3 className=\"font-orbitron font-bold text-sm text-white mb-1\">\n                        {achievement.name}\n                      </h3>\n                      <p className=\"font-orbitron text-xs text-gray-400\">\n                        {achievement.description}\n                      </p>\n                    </div>\n                    <div className=\"px-3 py-1 rounded-full bg-green-900 border-2 border-green-500\">\n                      <span className=\"font-game text-xs text-green-400\">Earned</span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n              \n              {earnedAchievements.length === 0 && (\n                <div className=\"text-center py-12 bg-slate-800/50 rounded-xl border-2 border-slate-700\">\n                  <p className=\"font-orbitron text-gray-400\">\n                    Complete challenges to earn achievements!\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div>\n            <h2 className=\"font-game text-xl mb-6 text-gray-400 flex items-center gap-2\">\n              <Award className=\"w-6 h-6\" />\n              Locked Achievements\n            </h2>\n            \n            <div className=\"space-y-4\">\n              {lockedAchievements.map((achievement) => (\n                <div\n                  key={achievement.id}\n                  className=\"bg-gradient-to-br from-slate-900 to-slate-950 rounded-xl p-4 border-4 border-slate-800 opacity-60\"\n                >\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"text-4xl grayscale\">{achievement.icon}</div>\n                    <div className=\"flex-1\">\n                      <h3 className=\"font-orbitron font-bold text-sm text-gray-500 mb-1\">\n                        {achievement.name}\n                      </h3>\n                      <p className=\"font-orbitron text-xs text-gray-600\">\n                        {achievement.description}\n                      </p>\n                    </div>\n                    <div className=\"px-3 py-1 rounded-full bg-slate-800 border-2 border-slate-700\">\n                      <span className=\"font-game text-xs text-gray-600\">Locked</span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mt-12\">\n          <h2 className=\"font-game text-xl mb-6 text-indigo-300\">\n            Course Progress\n          </h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {courses.map((course) => {\n              const completedCount = course.levels.filter(l => l.completed).length;\n              const totalLevels = course.levels.length;\n              const courseProgress = (completedCount / totalLevels) * 100;\n\n              return (\n                <div\n                  key={course.id}\n                  className=\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-6 border-4 border-slate-700\"\n                >\n                  <div className=\"flex items-center gap-3 mb-4\">\n                    <div className=\"text-4xl\">{course.icon}</div>\n                    <div className=\"flex-1\">\n                      <h3 className=\"font-game text-sm text-white mb-1\">\n                        {course.name}\n                      </h3>\n                      <p className=\"font-orbitron text-xs text-gray-400\">\n                        {completedCount} / {totalLevels} levels\n                      </p>\n                    </div>\n                  </div>\n                  \n                  <div className=\"w-full h-3 bg-slate-700 rounded-full overflow-hidden\">\n                    <div \n                      className=\"h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-500\"\n                      style={{ \n                        width: `${courseProgress}%`,\n                        backgroundColor: course.color\n                      }}\n                    />\n                  </div>\n                  \n                  <div className=\"mt-3 flex justify-between items-center\">\n                    <span className=\"font-orbitron text-xs text-gray-400\">\n                      {Math.round(courseProgress)}% Complete\n                    </span>\n                    {completedCount === totalLevels && (\n                      <div className=\"flex items-center gap-1 px-3 py-1 rounded-full bg-green-900 border-2 border-green-500\">\n                        <Trophy className=\"w-3 h-3 text-green-400\" />\n                        <span className=\"font-game text-xs text-green-400\">Mastered</span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":10536},"client/src/games/RecursionMaze.tsx":{"content":"import type { GameProps } from './types';\nimport { useState, useEffect, useRef } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport { KeyboardControls, useKeyboardControls } from '@react-three/drei';\nimport * as THREE from 'three';\n\nenum Controls {\n  forward = 'forward',\n  back = 'back',\n  left = 'left',\n  right = 'right',\n}\n\ninterface MazeCell {\n  x: number;\n  z: number;\n  walls: { north: boolean; south: boolean; east: boolean; west: boolean };\n}\n\nfunction Player({ onPositionChange, walls }: { onPositionChange: (pos: THREE.Vector3) => void; walls: MazeCell[] }) {\n  const meshRef = useRef<THREE.Mesh>(null);\n  const velocity = useRef(new THREE.Vector3());\n  const [, getKeys] = useKeyboardControls<Controls>();\n\n  const checkWallCollision = (pos: THREE.Vector3): boolean => {\n    const cellSize = 3;\n    const cellX = Math.round(pos.x / cellSize) * cellSize;\n    const cellZ = Math.round(pos.z / cellSize) * cellSize;\n    \n    const cell = walls.find(w => w.x === cellX && w.z === cellZ);\n    if (!cell) return true;\n\n    const localX = pos.x - cellX;\n    const localZ = pos.z - cellZ;\n    const threshold = 1.2;\n\n    if (cell.walls.north && localZ < -threshold) return true;\n    if (cell.walls.south && localZ > threshold) return true;\n    if (cell.walls.east && localX > threshold) return true;\n    if (cell.walls.west && localX < -threshold) return true;\n\n    return false;\n  };\n\n  useFrame((state, delta) => {\n    if (!meshRef.current) return;\n\n    const keys = getKeys();\n    const speed = 4;\n    \n    velocity.current.set(0, 0, 0);\n    \n    if (keys.forward) velocity.current.z -= speed * delta;\n    if (keys.back) velocity.current.z += speed * delta;\n    if (keys.left) velocity.current.x -= speed * delta;\n    if (keys.right) velocity.current.x += speed * delta;\n\n    const newPos = meshRef.current.position.clone().add(velocity.current);\n    \n    if (!checkWallCollision(newPos)) {\n      meshRef.current.position.copy(newPos);\n    }\n\n    meshRef.current.position.x = Math.max(-15, Math.min(15, meshRef.current.position.x));\n    meshRef.current.position.z = Math.max(-15, Math.min(15, meshRef.current.position.z));\n\n    onPositionChange(meshRef.current.position);\n  });\n\n  return (\n    <mesh ref={meshRef} position={[0, 0.5, 0]}>\n      <boxGeometry args={[0.6, 0.6, 0.6]} />\n      <meshStandardMaterial color=\"#8b5cf6\" />\n    </mesh>\n  );\n}\n\nfunction MazeWalls() {\n  const walls: MazeCell[] = [\n    { x: 0, z: 0, walls: { north: true, south: false, east: false, west: true } },\n    { x: 3, z: 0, walls: { north: true, south: false, east: false, west: false } },\n    { x: 6, z: 0, walls: { north: true, south: false, east: true, west: false } },\n    { x: 0, z: -3, walls: { north: false, south: false, east: false, west: true } },\n    { x: 3, z: -3, walls: { north: false, south: false, east: false, west: false } },\n    { x: 6, z: -3, walls: { north: false, south: false, east: true, west: false } },\n    { x: 0, z: -6, walls: { north: false, south: false, east: false, west: true } },\n    { x: 3, z: -6, walls: { north: false, south: false, east: false, west: false } },\n    { x: 6, z: -6, walls: { north: false, south: true, east: true, west: false } },\n    { x: 0, z: -9, walls: { north: false, south: true, east: false, west: true } },\n    { x: 3, z: -9, walls: { north: false, south: true, east: false, west: false } },\n    { x: 6, z: -9, walls: { north: true, south: true, east: true, west: false } },\n  ];\n\n  return (\n    <>\n      {walls.map((cell, idx) => (\n        <group key={idx} position={[cell.x, 0, cell.z]}>\n          {cell.walls.north && (\n            <mesh position={[0, 1, -1.5]}>\n              <boxGeometry args={[3, 2, 0.2]} />\n              <meshStandardMaterial color=\"#475569\" />\n            </mesh>\n          )}\n          {cell.walls.south && (\n            <mesh position={[0, 1, 1.5]}>\n              <boxGeometry args={[3, 2, 0.2]} />\n              <meshStandardMaterial color=\"#475569\" />\n            </mesh>\n          )}\n          {cell.walls.east && (\n            <mesh position={[1.5, 1, 0]}>\n              <boxGeometry args={[0.2, 2, 3]} />\n              <meshStandardMaterial color=\"#475569\" />\n            </mesh>\n          )}\n          {cell.walls.west && (\n            <mesh position={[-1.5, 1, 0]}>\n              <boxGeometry args={[0.2, 2, 3]} />\n              <meshStandardMaterial color=\"#475569\" />\n            </mesh>\n          )}\n        </group>\n      ))}\n    </>\n  );\n}\n\nfunction Checkpoints({ positions, reached }: { positions: [number, number, number][], reached: boolean[] }) {\n  return (\n    <>\n      {positions.map((pos, idx) => (\n        !reached[idx] && (\n          <mesh key={idx} position={pos}>\n            <boxGeometry args={[0.8, 0.8, 0.8]} />\n            <meshStandardMaterial\n              color={idx === 0 ? \"#22c55e\" : \"#fbbf24\"}\n              emissive={idx === 0 ? \"#22c55e\" : \"#fbbf24\"}\n              emissiveIntensity={0.5}\n            />\n          </mesh>\n        )\n      ))}\n    </>\n  );\n}\n\nfunction Game({\n  checkpoints,\n  onCheckpointReach,\n  walls,\n}: {\n  checkpoints: [number, number, number][];\n  onCheckpointReach: (idx: number) => void;\n  walls: MazeCell[];\n}) {\n  const reachedRef = useRef<boolean[]>(checkpoints.map(() => false));\n\n  const handlePlayerMove = (playerPos: THREE.Vector3) => {\n    checkpoints.forEach((checkpoint, idx) => {\n      if (!reachedRef.current[idx]) {\n        const cpPos = new THREE.Vector3(...checkpoint);\n        const distance = playerPos.distanceTo(cpPos);\n        if (distance < 1.2) {\n          reachedRef.current[idx] = true;\n          onCheckpointReach(idx);\n        }\n      }\n    });\n  };\n\n  return (\n    <>\n      <ambientLight intensity={0.4} />\n      <directionalLight position={[10, 15, 5]} intensity={1} />\n      <mesh rotation={[-Math.PI / 2, 0, 0]} position={[3, 0, -4.5]}>\n        <planeGeometry args={[30, 30]} />\n        <meshStandardMaterial color=\"#1e293b\" />\n      </mesh>\n      <MazeWalls />\n      <Checkpoints positions={checkpoints} reached={reachedRef.current} />\n      <Player onPositionChange={handlePlayerMove} walls={walls} />\n    </>\n  );\n}\n\nexport function RecursionMaze({ config, onComplete, onExit }: GameProps) {\n  const [score, setScore] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(config.timeLimit || 90);\n  const [checkpointsReached, setCheckpointsReached] = useState(0);\n  const gameEnded = useRef(false);\n\n  const walls: MazeCell[] = [\n    { x: 0, z: 0, walls: { north: true, south: false, east: false, west: true } },\n    { x: 3, z: 0, walls: { north: true, south: false, east: false, west: false } },\n    { x: 6, z: 0, walls: { north: true, south: false, east: true, west: false } },\n    { x: 0, z: -3, walls: { north: false, south: false, east: false, west: true } },\n    { x: 3, z: -3, walls: { north: false, south: false, east: false, west: false } },\n    { x: 6, z: -3, walls: { north: false, south: false, east: true, west: false } },\n    { x: 0, z: -6, walls: { north: false, south: false, east: false, west: true } },\n    { x: 3, z: -6, walls: { north: false, south: false, east: false, west: false } },\n    { x: 6, z: -6, walls: { north: false, south: true, east: true, west: false } },\n    { x: 0, z: -9, walls: { north: false, south: true, east: false, west: true } },\n    { x: 3, z: -9, walls: { north: false, south: true, east: false, west: false } },\n    { x: 6, z: -9, walls: { north: true, south: true, east: true, west: false } },\n  ];\n\n  const checkpoints: [number, number, number][] = [\n    [6, 0.5, -9],\n    [3, 0.5, -6],\n    [0, 0.5, -3],\n  ];\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          handleGameEnd();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n    \n    if (checkpointsReached === checkpoints.length && score >= config.passingScore) {\n      handleGameEnd();\n    }\n  }, [score, checkpointsReached]);\n\n  const handleGameEnd = () => {\n    if (gameEnded.current) return;\n    gameEnded.current = true;\n    \n    const success = score >= config.passingScore;\n    onComplete({\n      score,\n      timeSpent: (config.timeLimit || 90) - timeLeft,\n      success,\n      xpEarned: success ? 120 : 60,\n    });\n  };\n\n  const handleCheckpointReach = (idx: number) => {\n    setCheckpointsReached(prev => prev + 1);\n    setScore(prev => prev + 30);\n  };\n\n  const keyMap = [\n    { name: Controls.forward, keys: ['ArrowUp', 'KeyW'] },\n    { name: Controls.back, keys: ['ArrowDown', 'KeyS'] },\n    { name: Controls.left, keys: ['ArrowLeft', 'KeyA'] },\n    { name: Controls.right, keys: ['ArrowRight', 'KeyD'] },\n  ];\n\n  return (\n    <div className=\"relative w-full h-screen bg-slate-900\">\n      <div className=\"absolute top-0 left-0 right-0 z-10 p-6 bg-gradient-to-b from-slate-900/90 to-transparent\">\n        <div className=\"flex justify-between items-center max-w-6xl mx-auto\">\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Score</div>\n            <div className=\"text-3xl font-bold text-white\">{score}</div>\n          </div>\n          \n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Checkpoints</div>\n            <div className=\"text-3xl font-bold text-yellow-400\">{checkpointsReached}/{checkpoints.length}</div>\n          </div>\n\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Time</div>\n            <div className={`text-3xl font-bold ${timeLeft < 15 ? 'text-red-400' : 'text-white'}`}>\n              {timeLeft}s\n            </div>\n          </div>\n\n          <button\n            onClick={onExit}\n            className=\"px-6 py-3 bg-red-600/80 hover:bg-red-700 backdrop-blur-sm text-white rounded-lg font-semibold border border-red-500/50\"\n          >\n            Exit\n          </button>\n        </div>\n      </div>\n\n      <div className=\"absolute bottom-0 left-0 right-0 z-10 p-6 bg-gradient-to-t from-slate-900/90 to-transparent\">\n        <div className=\"max-w-6xl mx-auto\">\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <p className=\"text-purple-200 text-center\">\n              Navigate the maze and reach the <span className=\"text-green-400 font-bold\">GREEN</span> exit! Collect <span className=\"text-yellow-400 font-bold\">checkpoints</span> along the way.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <KeyboardControls map={keyMap}>\n        <Canvas camera={{ position: [3, 18, 8], fov: 50, rotation: [-Math.PI / 4, 0, 0] }}>\n          <Game checkpoints={checkpoints} onCheckpointReach={handleCheckpointReach} walls={walls} />\n        </Canvas>\n      </KeyboardControls>\n    </div>\n  );\n}\n","size_bytes":11145},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7224},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nconst getLocalStorage = (key: string): any =>\n  JSON.parse(window.localStorage.getItem(key) || \"null\");\nconst setLocalStorage = (key: string, value: any): void =>\n  window.localStorage.setItem(key, JSON.stringify(value));\n\nexport { getLocalStorage, setLocalStorage };\n","size_bytes":438},"client/src/pages/Leaderboard.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { Trophy, Medal, Award } from \"lucide-react\";\n\ninterface LeaderboardEntry {\n  username: string;\n  totalXP: number;\n  level: number;\n}\n\nexport default function Leaderboard() {\n  const [leaderboard, setLeaderboard] = useState<LeaderboardEntry[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchLeaderboard();\n  }, []);\n\n  const fetchLeaderboard = async () => {\n    try {\n      const response = await fetch('/api/leaderboard?limit=10');\n      if (response.ok) {\n        const data = await response.json();\n        setLeaderboard(data.leaderboard);\n      }\n    } catch (error) {\n      console.error('Failed to fetch leaderboard:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getRankIcon = (rank: number) => {\n    if (rank === 1) return <Trophy className=\"w-6 h-6 text-yellow-400\" />;\n    if (rank === 2) return <Medal className=\"w-6 h-6 text-gray-300\" />;\n    if (rank === 3) return <Award className=\"w-6 h-6 text-amber-600\" />;\n    return <span className=\"font-game text-lg text-gray-400\">#{rank}</span>;\n  };\n\n  const getRankColor = (rank: number) => {\n    if (rank === 1) return \"from-yellow-500 to-amber-600\";\n    if (rank === 2) return \"from-gray-300 to-gray-400\";\n    if (rank === 3) return \"from-amber-600 to-amber-700\";\n    return \"from-indigo-500 to-purple-500\";\n  };\n\n  return (\n    <div className=\"min-h-screen pt-20 pb-12 px-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h1 className=\"font-game text-2xl sm:text-3xl text-center mb-12 text-yellow-400 glow-text\">\n          Leaderboard\n        </h1>\n\n        <div className=\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl p-6 border-4 border-yellow-500 glow\">\n          <div className=\"flex items-center justify-center gap-3 mb-8\">\n            <Trophy className=\"w-8 h-8 text-yellow-400\" />\n            <h2 className=\"font-game text-xl text-white\">Top Learners</h2>\n          </div>\n\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <div className=\"animate-spin w-12 h-12 border-4 border-yellow-400 border-t-transparent rounded-full mx-auto mb-4\"></div>\n              <p className=\"font-orbitron text-gray-400\">Loading rankings...</p>\n            </div>\n          ) : leaderboard.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <Trophy className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\n              <p className=\"font-orbitron text-gray-400\">No players yet. Be the first!</p>\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {leaderboard.map((entry, index) => {\n                const rank = index + 1;\n                return (\n                  <div\n                    key={entry.username}\n                    className={`bg-gradient-to-r ${getRankColor(rank)} p-[2px] rounded-xl transition-all hover:scale-102`}\n                  >\n                    <div className=\"bg-slate-800 rounded-xl p-4 flex items-center gap-4\">\n                      <div className=\"flex items-center justify-center w-12 h-12 bg-slate-700 rounded-lg\">\n                        {getRankIcon(rank)}\n                      </div>\n\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-game text-lg text-white mb-1\">\n                          {entry.username}\n                        </h3>\n                        <div className=\"flex items-center gap-3 text-sm\">\n                          <span className=\"font-orbitron text-gray-400\">\n                            Level {entry.level}\n                          </span>\n                          <span className=\"text-gray-600\">‚Ä¢</span>\n                          <span className=\"font-orbitron text-purple-400\">\n                            {entry.totalXP.toLocaleString()} XP\n                          </span>\n                        </div>\n                      </div>\n\n                      {rank <= 3 && (\n                        <div className={`px-4 py-2 rounded-lg bg-gradient-to-r ${getRankColor(rank)}`}>\n                          <span className=\"font-game text-xs text-white\">\n                            {rank === 1 ? \"Champion\" : rank === 2 ? \"Expert\" : \"Master\"}\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n\n        <div className=\"mt-8 text-center\">\n          <p className=\"font-orbitron text-sm text-gray-400\">\n            Complete more levels and earn XP to climb the leaderboard!\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":4699},"client/src/pages/Courses.tsx":{"content":"import { useLearning } from \"@/lib/stores/useLearning\";\nimport { Lock, CheckCircle, Circle, ArrowRight } from \"lucide-react\";\nimport { useState } from \"react\";\n\ninterface CoursesProps {\n  onNavigate: (page: string) => void;\n}\n\nexport default function Courses({ onNavigate }: CoursesProps) {\n  const { courses, userProgress, selectLevel } = useLearning();\n  const [selectedCourseId, setSelectedCourseId] = useState(userProgress.currentCourse || courses[0]?.id);\n\n  const selectedCourse = courses.find(c => c.id === selectedCourseId);\n\n  const handleLevelClick = (levelId: string, unlocked: boolean) => {\n    if (!unlocked) return;\n    selectLevel(levelId);\n    onNavigate('challenge');\n  };\n\n  if (!selectedCourse) return null;\n\n  return (\n    <div className=\"min-h-screen pt-24 pb-12 px-4\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"mb-8\">\n          <h1 className=\"font-game text-2xl sm:text-3xl text-center mb-6 text-indigo-300 glow-text\">\n            Course Roadmap\n          </h1>\n          \n          <div className=\"flex flex-wrap justify-center gap-3 mb-8\">\n            {courses.map((course) => (\n              <button\n                key={course.id}\n                onClick={() => setSelectedCourseId(course.id)}\n                className={`\n                  px-6 py-3 rounded-xl font-orbitron font-semibold text-sm\n                  transition-all duration-300 flex items-center gap-2\n                  ${selectedCourseId === course.id\n                    ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white scale-105 glow'\n                    : 'bg-slate-800 text-gray-300 hover:bg-slate-700'\n                  }\n                `}\n                style={{\n                  borderWidth: '2px',\n                  borderColor: selectedCourseId === course.id ? course.color : 'transparent'\n                }}\n              >\n                <span className=\"text-2xl\">{course.icon}</span>\n                <span className=\"hidden sm:inline\">{course.name}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl p-6 sm:p-8 border-4 border-indigo-500/30 mb-8\">\n          <div className=\"flex items-start gap-4 mb-6\">\n            <div className=\"text-6xl\">{selectedCourse.icon}</div>\n            <div className=\"flex-1\">\n              <h2 className=\"font-game text-xl sm:text-2xl mb-2 text-white\">\n                {selectedCourse.name}\n              </h2>\n              <p className=\"font-orbitron text-sm text-gray-300 mb-4\">\n                {selectedCourse.description}\n              </p>\n              <div className=\"flex flex-wrap gap-4\">\n                <div className=\"flex items-center gap-2 bg-slate-700/50 px-4 py-2 rounded-lg\">\n                  <span className=\"text-yellow-400\">‚≠ê</span>\n                  <span className=\"font-orbitron text-sm text-gray-300\">\n                    {selectedCourse.levels.length} Levels\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-2 bg-slate-700/50 px-4 py-2 rounded-lg\">\n                  <CheckCircle className=\"w-4 h-4 text-green-400\" />\n                  <span className=\"font-orbitron text-sm text-gray-300\">\n                    {selectedCourse.levels.filter(l => l.completed).length} Completed\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"relative\">\n          <div className=\"absolute left-8 top-0 bottom-0 w-1 bg-gradient-to-b from-indigo-500 via-purple-500 to-pink-500 hidden sm:block\" />\n          \n          <div className=\"space-y-6\">\n            {selectedCourse.levels.map((level, index) => {\n              const isCompleted = level.completed;\n              const isUnlocked = level.unlocked;\n              const isCurrent = userProgress.currentLevel === level.id;\n\n              return (\n                <div\n                  key={level.id}\n                  className=\"relative\"\n                  style={{\n                    animation: `float 3s ease-in-out infinite ${index * 0.3}s`\n                  }}\n                >\n                  <div className=\"absolute left-8 -translate-x-1/2 w-12 h-12 rounded-full bg-slate-800 border-4 z-10 flex items-center justify-center hidden sm:flex\"\n                       style={{\n                         borderColor: isCompleted ? '#10b981' : isUnlocked ? selectedCourse.color : '#475569'\n                       }}>\n                    {isCompleted ? (\n                      <CheckCircle className=\"w-6 h-6 text-green-400\" />\n                    ) : isUnlocked ? (\n                      <Circle className=\"w-6 h-6\" style={{ color: selectedCourse.color }} />\n                    ) : (\n                      <Lock className=\"w-5 h-5 text-gray-500\" />\n                    )}\n                  </div>\n\n                  <div className=\"sm:ml-20\">\n                    <button\n                      onClick={() => handleLevelClick(level.id, isUnlocked)}\n                      disabled={!isUnlocked}\n                      className={`\n                        w-full text-left bg-gradient-to-br rounded-2xl p-6 border-4 transition-all duration-300\n                        ${isUnlocked \n                          ? 'from-slate-800 to-slate-900 border-slate-700 hover:border-indigo-500 hover:scale-102 cursor-pointer hover:shadow-2xl' \n                          : 'from-slate-900 to-slate-950 border-slate-800 opacity-60 cursor-not-allowed'\n                        }\n                        ${isCurrent ? 'border-indigo-500 glow' : ''}\n                      `}\n                    >\n                      <div className=\"flex items-start justify-between mb-4\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-3 mb-2\">\n                            <span className=\"font-orbitron text-xs px-3 py-1 rounded-full bg-slate-700 text-gray-300\">\n                              Level {index + 1}\n                            </span>\n                            <span className={`font-orbitron text-xs px-3 py-1 rounded-full ${\n                              level.difficulty === 'beginner' ? 'bg-green-900 text-green-300' :\n                              level.difficulty === 'intermediate' ? 'bg-yellow-900 text-yellow-300' :\n                              'bg-red-900 text-red-300'\n                            }`}>\n                              {level.difficulty}\n                            </span>\n                            {isCurrent && (\n                              <span className=\"font-orbitron text-xs px-3 py-1 rounded-full bg-indigo-600 text-white animate-pulse\">\n                                Current\n                              </span>\n                            )}\n                          </div>\n                          \n                          <h3 className=\"font-game text-base sm:text-lg mb-2 text-white flex items-center gap-2\">\n                            {level.title}\n                            {isUnlocked && !isCompleted && (\n                              <ArrowRight className=\"w-5 h-5 text-indigo-400 animate-pulse\" />\n                            )}\n                          </h3>\n                          \n                          <p className=\"font-orbitron text-sm text-gray-400 mb-3\">\n                            {level.description}\n                          </p>\n\n                          {isUnlocked && (\n                            <div className=\"bg-slate-700/50 rounded-lg p-3 mb-3\">\n                              <p className=\"font-orbitron text-xs text-purple-300 italic\">\n                                üìñ {level.story}\n                              </p>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-4\">\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"text-yellow-400\">üíé</span>\n                            <span className=\"font-game text-sm text-yellow-400\">\n                              +{level.xpReward} XP\n                            </span>\n                          </div>\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"text-2xl\">\n                              {level.challengeType === 'coding' ? 'üíª' : \n                               level.challengeType === 'quiz' ? 'üìù' : 'üéÆ'}\n                            </span>\n                            <span className=\"font-orbitron text-xs text-gray-400 capitalize\">\n                              {level.challengeType}\n                            </span>\n                          </div>\n                        </div>\n\n                        {isUnlocked && !isCompleted && (\n                          <div className=\"px-4 py-2 rounded-lg bg-gradient-to-r from-indigo-600 to-purple-600 font-game text-xs text-white\">\n                            Start Quest\n                          </div>\n                        )}\n                        \n                        {isCompleted && (\n                          <div className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-green-900/50 border-2 border-green-500\">\n                            <CheckCircle className=\"w-4 h-4 text-green-400\" />\n                            <span className=\"font-game text-xs text-green-400\">Completed</span>\n                          </div>\n                        )}\n\n                        {!isUnlocked && (\n                          <div className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-800\">\n                            <Lock className=\"w-4 h-4 text-gray-500\" />\n                            <span className=\"font-orbitron text-xs text-gray-500\">Locked</span>\n                          </div>\n                        )}\n                      </div>\n                    </button>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":10246},"server/db.ts":{"content":"import { drizzle } from \"drizzle-orm/neon-serverless\";\nimport { Pool, neonConfig } from \"@neondatabase/serverless\";\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL must be set\");\n}\n\nconst pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":426},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/games/SearchChallenge.tsx":{"content":"import type { GameProps} from './types';\n\nexport function SearchChallenge({ config, onComplete, onExit }: GameProps) {\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4\">\n      <div className=\"text-center\">\n        <h1 className=\"text-4xl font-bold text-white mb-4\">{config.title}</h1>\n        <p className=\"text-slate-300 mb-8\">[Search Challenge - Coming Soon]</p>\n        <button\n          onClick={onExit}\n          className=\"px-6 py-3 bg-slate-600 hover:bg-slate-700 text-white rounded-lg font-semibold\"\n        >\n          Exit\n        </button>\n      </div>\n    </div>\n  );\n}\n","size_bytes":614},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1198},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4873},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path, { dirname } from \"path\";\nimport { fileURLToPath } from \"url\";\nimport { createServer as createViteServer, createLogger, type ServerOptions } from \"vite\";\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(__filename);\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions: ServerOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        __dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(__dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2409},"client/src/pages/Home.tsx":{"content":"import { useLearning } from \"@/lib/stores/useLearning\";\nimport { Sparkles, Star, Zap } from \"lucide-react\";\n\ninterface HomeProps {\n  onNavigate: (page: string) => void;\n}\n\nexport default function Home({ onNavigate }: HomeProps) {\n  const { courses, selectCourse } = useLearning();\n\n  const handleSelectCourse = (courseId: string) => {\n    selectCourse(courseId);\n    onNavigate('courses');\n  };\n\n  return (\n    <div className=\"min-h-screen pt-24 pb-12 px-4\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"text-center mb-16 mt-12\">\n          <div className=\"inline-block mb-6 animate-float\">\n            <div className=\"w-24 h-24 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center glow animate-pulse-glow\">\n              <span className=\"text-6xl\">üéÆ</span>\n            </div>\n          </div>\n          \n          <h1 className=\"font-game text-3xl sm:text-4xl md:text-5xl mb-6 text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 glow-text\">\n            Welcome to SkillQuest\n          </h1>\n          \n          <p className=\"font-orbitron text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto mb-8\">\n            Embark on an epic journey of learning! Choose your path and master new skills through\n            <span className=\"text-indigo-400 font-bold\"> story-driven challenges</span> and \n            <span className=\"text-purple-400 font-bold\"> AI-powered guidance</span>.\n          </p>\n\n          <div className=\"flex flex-wrap justify-center gap-4 mb-12\">\n            <div className=\"flex items-center gap-2 bg-slate-800/80 px-6 py-3 rounded-full border-2 border-indigo-500\">\n              <Sparkles className=\"w-5 h-5 text-indigo-400\" />\n              <span className=\"font-orbitron text-sm font-semibold text-indigo-300\">AI Companion</span>\n            </div>\n            <div className=\"flex items-center gap-2 bg-slate-800/80 px-6 py-3 rounded-full border-2 border-purple-500\">\n              <Star className=\"w-5 h-5 text-purple-400\" />\n              <span className=\"font-orbitron text-sm font-semibold text-purple-300\">Earn Rewards</span>\n            </div>\n            <div className=\"flex items-center gap-2 bg-slate-800/80 px-6 py-3 rounded-full border-2 border-pink-500\">\n              <Zap className=\"w-5 h-5 text-pink-400\" />\n              <span className=\"font-orbitron text-sm font-semibold text-pink-300\">Level Up</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mb-8\">\n          <h2 className=\"font-game text-2xl sm:text-3xl text-center mb-8 text-indigo-300 glow-text\">\n            Choose Your Quest\n          </h2>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {courses.map((course, index) => {\n            const completedCount = course.levels.filter(l => l.completed).length;\n            const totalLevels = course.levels.length;\n            const progressPercent = (completedCount / totalLevels) * 100;\n\n            return (\n              <button\n                key={course.id}\n                onClick={() => handleSelectCourse(course.id)}\n                className=\"group relative bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl p-6 border-4 border-slate-700 hover:border-indigo-500 transition-all duration-300 hover:scale-105 hover:shadow-2xl overflow-hidden\"\n                style={{\n                  animation: `float 3s ease-in-out infinite ${index * 0.2}s`\n                }}\n              >\n                <div className=\"absolute inset-0 bg-gradient-to-br from-indigo-500/10 to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\n                \n                <div className=\"relative z-10\">\n                  <div className=\"text-6xl mb-4 transform group-hover:scale-110 transition-transform duration-300\">\n                    {course.icon}\n                  </div>\n                  \n                  <h3 className=\"font-game text-sm sm:text-base mb-3 text-white group-hover:text-indigo-300 transition-colors\">\n                    {course.name}\n                  </h3>\n                  \n                  <p className=\"font-orbitron text-xs text-gray-400 mb-4 line-clamp-2\">\n                    {course.description}\n                  </p>\n\n                  <div className=\"mb-3\">\n                    <div className=\"flex justify-between items-center mb-2\">\n                      <span className=\"font-orbitron text-xs text-gray-400\">Progress</span>\n                      <span className=\"font-game text-xs text-indigo-400\">\n                        {completedCount}/{totalLevels}\n                      </span>\n                    </div>\n                    <div className=\"w-full h-2 bg-slate-700 rounded-full overflow-hidden\">\n                      <div \n                        className=\"h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-500\"\n                        style={{ width: `${progressPercent}%` }}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"font-orbitron text-xs text-yellow-400 flex items-center gap-1\">\n                      <span>‚≠ê</span>\n                      {totalLevels} Levels\n                    </span>\n                    <div className=\"px-3 py-1 rounded-full text-xs font-game\"\n                         style={{ \n                           backgroundColor: `${course.color}22`,\n                           color: course.color,\n                           border: `2px solid ${course.color}`\n                         }}>\n                      Start\n                    </div>\n                  </div>\n                </div>\n\n                <div \n                  className=\"absolute -bottom-10 -right-10 w-32 h-32 rounded-full blur-2xl opacity-20 group-hover:opacity-40 transition-opacity duration-300\"\n                  style={{ backgroundColor: course.color }}\n                />\n              </button>\n            );\n          })}\n        </div>\n\n        <div className=\"mt-16 text-center\">\n          <div className=\"bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl p-8 border-2 border-indigo-500/30 max-w-4xl mx-auto\">\n            <h3 className=\"font-game text-xl sm:text-2xl mb-4 text-indigo-300\">\n              How It Works\n            </h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8\">\n              <div className=\"text-center\">\n                <div className=\"text-4xl mb-3\">üìö</div>\n                <h4 className=\"font-orbitron font-bold text-sm mb-2 text-white\">Choose a Course</h4>\n                <p className=\"font-orbitron text-xs text-gray-400\">\n                  Select from DSA, Web Dev, AI/ML, or Cloud & DevOps\n                </p>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-4xl mb-3\">üéØ</div>\n                <h4 className=\"font-orbitron font-bold text-sm mb-2 text-white\">Complete Challenges</h4>\n                <p className=\"font-orbitron text-xs text-gray-400\">\n                  Solve interactive games and coding problems\n                </p>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-4xl mb-3\">üèÜ</div>\n                <h4 className=\"font-orbitron font-bold text-sm mb-2 text-white\">Earn Rewards</h4>\n                <p className=\"font-orbitron text-xs text-gray-400\">\n                  Gain XP, unlock badges, and level up!\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":7733},"client/src/games/SortingConveyor.tsx":{"content":"import type { GameProps } from './types';\nimport { useState, useEffect, useRef } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\ninterface SortItem {\n  id: number;\n  value: number;\n  position: [number, number, number];\n  targetPosition: [number, number, number];\n  sorted: boolean;\n}\n\nfunction SortingItem({ item, onClick }: { item: SortItem; onClick: () => void }) {\n  const meshRef = useRef<THREE.Mesh>(null);\n\n  useFrame(() => {\n    if (!meshRef.current) return;\n    \n    const target = new THREE.Vector3(...item.targetPosition);\n    meshRef.current.position.lerp(target, 0.1);\n    \n    meshRef.current.rotation.y += 0.01;\n  });\n\n  const color = item.sorted ? \"#22c55e\" : \"#8b5cf6\";\n  const height = item.value * 0.5;\n\n  return (\n    <mesh\n      ref={meshRef}\n      position={item.position}\n      onClick={onClick}\n      onPointerOver={(e) => {\n        e.stopPropagation();\n        document.body.style.cursor = 'pointer';\n      }}\n      onPointerOut={() => {\n        document.body.style.cursor = 'default';\n      }}\n    >\n      <boxGeometry args={[1.2, height, 1.2]} />\n      <meshStandardMaterial color={color} emissive={color} emissiveIntensity={0.3} />\n      <mesh position={[0, height / 2 + 0.3, 0]}>\n        <boxGeometry args={[0.8, 0.2, 0.8]} />\n        <meshStandardMaterial color=\"#fbbf24\" />\n      </mesh>\n    </mesh>\n  );\n}\n\nfunction Conveyor() {\n  return (\n    <>\n      <mesh position={[0, -0.2, 0]}>\n        <boxGeometry args={[15, 0.3, 4]} />\n        <meshStandardMaterial color=\"#475569\" />\n      </mesh>\n      <mesh position={[0, -0.5, 2.5]}>\n        <boxGeometry args={[15, 0.2, 0.5]} />\n        <meshStandardMaterial color=\"#334155\" />\n      </mesh>\n      <mesh position={[0, -0.5, -2.5]}>\n        <boxGeometry args={[15, 0.2, 0.5]} />\n        <meshStandardMaterial color=\"#334155\" />\n      </mesh>\n    </>\n  );\n}\n\nfunction Game({ items, onItemClick }: { items: SortItem[]; onItemClick: (id: number) => void }) {\n  return (\n    <>\n      <ambientLight intensity={0.5} />\n      <directionalLight position={[5, 10, 5]} intensity={1} />\n      <Conveyor />\n      {items.map(item => (\n        <SortingItem key={item.id} item={item} onClick={() => onItemClick(item.id)} />\n      ))}\n    </>\n  );\n}\n\nexport function SortingConveyor({ config, onComplete, onExit }: GameProps) {\n  const [items, setItems] = useState<SortItem[]>([]);\n  const [score, setScore] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(config.timeLimit || 90);\n  const [selectedItem, setSelectedItem] = useState<number | null>(null);\n  const gameEnded = useRef(false);\n\n  useEffect(() => {\n    const values = [5, 3, 8, 1, 6];\n    const initialItems: SortItem[] = values.map((value, idx) => ({\n      id: idx,\n      value,\n      position: [(idx - 2) * 3, 0, 0] as [number, number, number],\n      targetPosition: [(idx - 2) * 3, 0, 0] as [number, number, number],\n      sorted: false,\n    }));\n    setItems(initialItems);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          handleGameEnd();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current || items.length === 0) return;\n    \n    const isSorted = items.every((item, idx) => {\n      if (idx === 0) return true;\n      return items[idx - 1].value <= item.value;\n    });\n\n    if (isSorted && !items.some(i => i.sorted)) {\n      setItems(prev => prev.map(item => ({ ...item, sorted: true })));\n      setScore(100);\n      setTimeout(() => {\n        if (gameEnded.current) return;\n        gameEnded.current = true;\n        const success = 100 >= config.passingScore;\n        onComplete({\n          score: 100,\n          timeSpent: (config.timeLimit || 90) - timeLeft,\n          success,\n          xpEarned: success ? 150 : 75,\n        });\n      }, 1500);\n    }\n  }, [items]);\n\n  const handleGameEnd = () => {\n    if (gameEnded.current) return;\n    gameEnded.current = true;\n    \n    const success = score >= config.passingScore;\n    onComplete({\n      score,\n      timeSpent: (config.timeLimit || 90) - timeLeft,\n      success,\n      xpEarned: success ? 150 : 75,\n    });\n  };\n\n  const handleItemClick = (id: number) => {\n    if (selectedItem === null) {\n      setSelectedItem(id);\n    } else {\n      const item1Idx = items.findIndex(i => i.id === selectedItem);\n      const item2Idx = items.findIndex(i => i.id === id);\n\n      if (item1Idx !== -1 && item2Idx !== -1 && item1Idx !== item2Idx) {\n        setItems(prev => {\n          const newItems = [...prev];\n          const temp = { ...newItems[item1Idx] };\n          \n          const targetPos1 = newItems[item1Idx].targetPosition;\n          const targetPos2 = newItems[item2Idx].targetPosition;\n          \n          newItems[item1Idx] = {\n            ...newItems[item2Idx],\n            targetPosition: targetPos1,\n          };\n          newItems[item2Idx] = {\n            ...temp,\n            targetPosition: targetPos2,\n          };\n          \n          return newItems;\n        });\n      }\n      setSelectedItem(null);\n    }\n  };\n\n  return (\n    <div className=\"relative w-full h-screen bg-slate-900\">\n      <div className=\"absolute top-0 left-0 right-0 z-10 p-6 bg-gradient-to-b from-slate-900/90 to-transparent\">\n        <div className=\"flex justify-between items-center max-w-6xl mx-auto\">\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Score</div>\n            <div className=\"text-3xl font-bold text-white\">{score}</div>\n          </div>\n          \n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Target</div>\n            <div className=\"text-3xl font-bold text-yellow-400\">{config.passingScore}</div>\n          </div>\n\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Time</div>\n            <div className={`text-3xl font-bold ${timeLeft < 15 ? 'text-red-400' : 'text-white'}`}>\n              {timeLeft}s\n            </div>\n          </div>\n\n          <button\n            onClick={onExit}\n            className=\"px-6 py-3 bg-red-600/80 hover:bg-red-700 backdrop-blur-sm text-white rounded-lg font-semibold border border-red-500/50\"\n          >\n            Exit\n          </button>\n        </div>\n      </div>\n\n      <div className=\"absolute bottom-0 left-0 right-0 z-10 p-6 bg-gradient-to-t from-slate-900/90 to-transparent\">\n        <div className=\"max-w-6xl mx-auto\">\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <p className=\"text-purple-200 text-center\">\n              Click on two items to <span className=\"text-yellow-400 font-bold\">SWAP</span> them. Sort from <span className=\"text-green-400 font-bold\">smallest to largest</span>!\n              {selectedItem !== null && <span className=\"ml-4 text-yellow-400\">‚úì 1 selected</span>}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <Canvas camera={{ position: [0, 8, 12], fov: 50 }}>\n        <Game items={items} onItemClick={handleItemClick} />\n      </Canvas>\n    </div>\n  );\n}\n","size_bytes":7514},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"replit.md":{"content":"# SkillQuest - Gamified Learning Platform\n\n## Overview\n\nSkillQuest is a 2D gamified skill-learning platform where students embark on story-driven educational journeys. Users select courses (DSA, AI/ML, Web Development, etc.) and progress through interactive levels designed as game-like challenges. The platform features an AI-powered learning companion that provides personalized hints, generates adaptive challenges, offers explanations, and delivers motivational messages based on user performance.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Framework & Build System:**\n- React 18 with TypeScript for type-safe component development\n- Vite as the build tool and development server with custom configuration for client-side routing\n- TailwindCSS for utility-first styling with custom game-themed color palette and animations\n- Radix UI component library for accessible, unstyled UI primitives\n\n**State Management:**\n- Custom Zustand stores for client-side state:\n  - `useLearning` - manages courses, levels, user progress, XP, badges, and AI companion interactions\n  - `useAudio` - controls background music, sound effects (hit, success), and mute state\n  - `useGame` - handles game-specific state and phase management\n- React Query for server state management and API communication\n\n**Routing & Navigation:**\n- Client-side page routing via state management (no router library)\n- Pages: Home, Courses, Progress, Profile, Challenge\n- Navigation component with responsive design and XP/level display\n\n**UI/UX Design Decisions:**\n- Gaming-first aesthetic with glowing effects, animations, and retro fonts (Press Start 2P, VT323, Orbitron)\n- Responsive design supporting mobile and desktop viewports\n- Custom 3D rendering support via React Three Fiber and Drei for future enhancement\n- GLSL shader support for advanced visual effects\n\n**Component Architecture:**\n- Presentational components separated from container components\n- Shared UI component library under `client/src/components/ui/`\n- Custom components:\n  - **AssessmentHub**: Combined quiz and coding challenge interface with test runner and AI hints\n  - **VideoRecommendations**: AI-powered video suggestions before assessments\n  - **ResourcesPanel**: External practice resources (LeetCode, NeetCode, W3Schools, MDN)\n  - **TeachingGame**: Interactive 3D mini-games for learning concepts\n  - **GameArena**: Full game experience with briefing and results\n  - **Navigation**: Responsive navbar with XP/level display\n- Atomic design pattern with reusable button, card, dialog, and form components\n\n**Game System:**\n- React Three Fiber (R3F) for 3D game rendering\n- KeyboardControls from @react-three/drei for player input\n- Three playable mini-games integrated into learning flow:\n  - **Loop Arena**: Collect items in a 3D arena using WASD/Arrow keys, teaches loops and iteration\n  - **Recursion Maze**: Navigate through maze with wall collision detection, teaches recursive thinking\n  - **Sorting Conveyor**: Interactive click-to-swap sorting game, teaches sorting algorithms\n- **MATRIX Learning Flow**: Narrative ‚Üí Teaching Game ‚Üí AI Video Recommendations ‚Üí Assessment (Quiz + Coding) ‚Üí Practice Game ‚Üí External Resources ‚Üí Level Complete\n- Complete integration with XP rewards and progress tracking\n- GameArena component manages briefing, gameplay, and results screens\n- Game registry system for easy addition of new games\n\n### Backend Architecture\n\n**Server Framework:**\n- Express.js with TypeScript for the REST API\n- Custom middleware for request/response logging and error handling\n- Separate route registration system for modularity\n\n**API Design:**\n- RESTful endpoints under `/api/` prefix\n- AI-powered routes:\n  - `POST /api/ai/hint` - generates contextual hints for challenges\n  - `POST /api/ai/challenge` - creates adaptive challenges based on topic and difficulty\n  - `POST /api/ai/explanation` - provides explanations for user answers\n  - `POST /api/ai/motivation` - delivers personalized motivational messages\n\n**AI Integration:**\n- OpenAI GPT-5 integration for AI learning companion features\n- **Contextual Hint System**: AI provides stage-aware hints based on:\n  - Current learning stage (narrative, teaching, assessment, etc.)\n  - Problem type (quiz questions vs coding challenges)\n  - User's code and test results for coding problems\n  - Number of attempts to guide difficulty\n- UI integration: Hint buttons in both quiz questions and coding challenges\n- Graceful degradation when API key is unavailable (fallback messages)\n- AI functions designed to be encouraging, educational, and non-spoiling\n\n**Development vs Production:**\n- Development: Vite middleware for HMR and fast refresh\n- Production: Static file serving from built assets\n- Environment-based configuration with clear separation of concerns\n\n### Data Storage Solutions\n\n**Database:**\n- PostgreSQL as the primary database (Neon serverless for scalability)\n- Drizzle ORM for type-safe database interactions and migrations\n- Schema-first approach with Zod validation\n\n**Current Schema:**\n- `users` table with username/password authentication\n- `userProgress` table tracking XP, level, current course/level\n- `completedLevels` table recording level completion and XP earned\n- `badges` table storing earned achievements\n- `certificates` table for course completion certificates\n- `gameSessions` table tracking individual game plays with score, time, and XP\n- `codingAttempts` table for tracking code submissions and test results\n- Insert schemas with Zod validation for type safety\n\n**In-Memory Storage:**\n- `MemStorage` class provides in-memory implementation of IStorage interface\n- Used for development and testing without database dependency\n- Supports user CRUD operations with auto-incrementing IDs\n\n### External Dependencies\n\n**Third-Party Services:**\n- **OpenAI API** - GPT-5 model for AI learning companion functionality\n  - Hint generation\n  - Dynamic challenge creation\n  - Concept explanations\n  - Motivational messaging\n- **Neon Database** - Serverless PostgreSQL hosting\n- **Replit Infrastructure** - Development environment and deployment platform\n\n**Key Libraries:**\n- **Drizzle Kit** - Database schema management and migrations\n- **React Query** - Server state synchronization and caching\n- **Radix UI** - Accessible component primitives (30+ components)\n- **Three.js Ecosystem** - 3D rendering capabilities (@react-three/fiber, @react-three/drei, @react-three/postprocessing)\n- **Class Variance Authority** - Type-safe variant styling\n- **date-fns** - Date manipulation utilities\n- **Nanoid** - Unique ID generation\n\n**Development Tools:**\n- **TSX** - TypeScript execution for development server\n- **ESBuild** - Production bundling for server code\n- **Vite Plugin Runtime Error Modal** - Enhanced error reporting during development\n- **vite-plugin-glsl** - GLSL shader support for advanced graphics\n\n**Asset Management:**\n- Support for 3D model formats (GLTF, GLB)\n- Audio file support (MP3, OGG, WAV)\n- Custom font loading (Google Fonts: Press Start 2P, VT323, Orbitron)\n- Font Awesome integration via Fontsource","size_bytes":7166},"server/index.ts":{"content":"import \"dotenv/config\";\nimport express, { type Request, Response, NextFunction } from \"express\";\nimport session from \"express-session\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use(\n  session({\n    secret: process.env.SESSION_SECRET || \"skillquest-secret-key-change-in-production\",\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n      httpOnly: true,\n      secure: process.env.NODE_ENV === \"production\",\n      maxAge: 1000 * 60 * 60 * 24 * 7,\n    },\n  })\n);\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"‚Ä¶\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // Serve the app on port 5000 for Replit webview\n  // this serves both the API and the client\n  const port = process.env.PORT ? parseInt(process.env.PORT, 10) : 5000;\n  server.listen(port, \"0.0.0.0\", () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2258},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n@layer base {\n  :root {\n    --game-primary: #6366f1;\n    --game-secondary: #8b5cf6;\n    --game-accent: #ec4899;\n    --game-success: #10b981;\n    --game-warning: #f59e0b;\n    --game-danger: #ef4444;\n    --background: 222.2 84% 4.9%;\n    --foreground: 210 40% 98%;\n    --card: 222.2 84% 4.9%;\n    --card-foreground: 210 40% 98%;\n    --popover: 222.2 84% 4.9%;\n    --popover-foreground: 210 40% 98%;\n    --primary: 217.2 91.2% 59.8%;\n    --primary-foreground: 222.2 47.4% 11.2%;\n    --secondary: 217.2 32.6% 17.5%;\n    --secondary-foreground: 210 40% 98%;\n    --muted: 217.2 32.6% 17.5%;\n    --muted-foreground: 215 20.2% 65.1%;\n    --accent: 217.2 32.6% 17.5%;\n    --accent-foreground: 210 40% 98%;\n    --destructive: 0 62.8% 30.6%;\n    --destructive-foreground: 210 40% 98%;\n    --border: 217.2 32.6% 17.5%;\n    --input: 217.2 32.6% 17.5%;\n    --ring: 224.3 76.3% 48%;\n  }\n\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply antialiased bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-foreground;\n    margin: 0;\n    padding: 0;\n    overflow-x: hidden;\n    width: 100vw;\n    min-height: 100vh;\n    font-family: 'Orbitron', sans-serif;\n  }\n}\n\n#root {\n  width: 100%;\n  min-height: 100vh;\n}\n\n.font-game {\n  font-family: 'Press Start 2P', cursive;\n}\n\n.font-retro {\n  font-family: 'VT323', monospace;\n}\n\n.font-orbitron {\n  font-family: 'Orbitron', sans-serif;\n}\n\n.pixel-corners {\n  clip-path: polygon(\n    0 8px, 8px 8px, 8px 0,\n    calc(100% - 8px) 0, calc(100% - 8px) 8px, 100% 8px,\n    100% calc(100% - 8px), calc(100% - 8px) calc(100% - 8px), calc(100% - 8px) 100%,\n    8px 100%, 8px calc(100% - 8px), 0 calc(100% - 8px)\n  );\n}\n\n.glow {\n  box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);\n}\n\n.glow-text {\n  text-shadow: 0 0 10px rgba(99, 102, 241, 0.8), 0 0 20px rgba(99, 102, 241, 0.5);\n}\n\n@keyframes float {\n  0%, 100% { transform: translateY(0px); }\n  50% { transform: translateY(-10px); }\n}\n\n@keyframes pulse-glow {\n  0%, 100% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.5); }\n  50% { box-shadow: 0 0 30px rgba(99, 102, 241, 0.8); }\n}\n\n.animate-float {\n  animation: float 3s ease-in-out infinite;\n}\n\n.animate-pulse-glow {\n  animation: pulse-glow 2s ease-in-out infinite;\n}\n@keyframes breathe { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }\n@keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-20px); } }\n@keyframes glow { 0%, 100% { text-shadow: 0 0 20px rgba(34, 197, 94, 0.5); } 50% { text-shadow: 0 0 30px rgba(34, 197, 94, 0.8), 0 0 40px rgba(59, 130, 246, 0.5); } }\n@keyframes pulse-button { 0%, 100% { box-shadow: 0 0 20px rgba(34, 197, 94, 0.3); } 50% { box-shadow: 0 0 30px rgba(34, 197, 94, 0.6); } }\n.animate-breathe { animation: breathe 8s ease-in-out infinite; }\n.animate-float { animation: float 6s ease-in-out infinite; }\n.animate-glow { animation: glow 3s ease-in-out infinite; }\n.animate-pulse-button { animation: pulse-button 2s ease-in-out infinite; }","size_bytes":3008},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1))\",\n          \"2\": \"hsl(var(--chart-2))\",\n          \"3\": \"hsl(var(--chart-3))\",\n          \"4\": \"hsl(var(--chart-4))\",\n          \"5\": \"hsl(var(--chart-5))\",\n        },\n        sidebar: {\n          DEFAULT: \"hsl(var(--sidebar-background))\",\n          foreground: \"hsl(var(--sidebar-foreground))\",\n          primary: \"hsl(var(--sidebar-primary))\",\n          \"primary-foreground\": \"hsl(var(--sidebar-primary-foreground))\",\n          accent: \"hsl(var(--sidebar-accent))\",\n          \"accent-foreground\": \"hsl(var(--sidebar-accent-foreground))\",\n          border: \"hsl(var(--sidebar-border))\",\n          ring: \"hsl(var(--sidebar-ring))\",\n        },\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":2787},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1486},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: cn(\n          \"relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md\",\n          props.mode === \"range\"\n            ? \"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md\"\n            : \"[&:has([aria-selected])]:rounded-md\"\n        ),\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-8 w-8 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_start: \"day-range-start\",\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2935},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-[0.8rem] text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-[0.8rem] font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4132},"client/src/pages/Auth.tsx":{"content":"import { useState } from \"react\";\nimport { useLearning } from \"../lib/stores/useLearning\";\nimport { Button } from \"../components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"../components/ui/card\";\nimport { Input } from \"../components/ui/input\";\nimport { Label } from \"../components/ui/label\";\n\ninterface AuthProps {\n  onNavigate: (page: string) => void;\n}\n\nexport default function Auth({ onNavigate }: AuthProps) {\n  const [isLogin, setIsLogin] = useState(true);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const { login, signup } = useLearning();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      if (isLogin) {\n        await login(username, password);\n        onNavigate(\"home\");\n      } else {\n        await signup(username, password, email);\n        onNavigate(\"home\");\n      }\n    } catch (err: any) {\n      setError(err.message || \"An error occurred. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-purple-900 via-blue-900 to-black flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md bg-gray-900/90 border-2 border-purple-500 shadow-[0_0_30px_rgba(168,85,247,0.4)]\">\n        <CardHeader className=\"text-center space-y-2\">\n          <CardTitle className=\"text-4xl font-['Press_Start_2P'] text-yellow-400 drop-shadow-[0_0_10px_rgba(250,204,21,0.8)]\">\n            SkillQuest\n          </CardTitle>\n          <CardDescription className=\"text-lg font-['VT323'] text-cyan-400\">\n            {isLogin ? \"Welcome Back!\" : \"Start Your Journey\"}\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"username\" className=\"text-white font-['VT323'] text-xl\">\n                Username\n              </Label>\n              <Input\n                id=\"username\"\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                required\n                className=\"bg-gray-800 border-purple-400 text-white font-['VT323'] text-lg h-12\"\n                placeholder=\"Enter your username\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\" className=\"text-white font-['VT323'] text-xl\">\n                Password\n              </Label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n                className=\"bg-gray-800 border-purple-400 text-white font-['VT323'] text-lg h-12\"\n                placeholder=\"Enter your password\"\n              />\n            </div>\n\n            {!isLogin && (\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\" className=\"text-white font-['VT323'] text-xl\">\n                  Email (Optional)\n                </Label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"bg-gray-800 border-purple-400 text-white font-['VT323'] text-lg h-12\"\n                  placeholder=\"Enter your email\"\n                />\n              </div>\n            )}\n\n            {error && (\n              <div className=\"bg-red-900/50 border border-red-500 text-red-200 p-3 rounded font-['VT323'] text-lg\">\n                {error}\n              </div>\n            )}\n\n            <Button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-['Press_Start_2P'] text-sm py-6 shadow-[0_0_20px_rgba(168,85,247,0.6)]\"\n            >\n              {loading ? \"Loading...\" : isLogin ? \"Login\" : \"Sign Up\"}\n            </Button>\n\n            <div className=\"text-center\">\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setIsLogin(!isLogin);\n                  setError(\"\");\n                }}\n                className=\"text-cyan-400 hover:text-cyan-300 font-['VT323'] text-lg underline\"\n              >\n                {isLogin ? \"Need an account? Sign up\" : \"Already have an account? Login\"}\n              </button>\n            </div>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":4858},"client/src/games/types.ts":{"content":"import type { FC } from 'react';\nimport type { GameConfig, GameResult } from '@shared/types';\n\nexport interface GameProps {\n  config: GameConfig;\n  onComplete: (result: GameResult) => void;\n  onExit: () => void;\n}\n\nexport interface GameLifecycle {\n  init?: () => void;\n  cleanup?: () => void;\n}\n\nexport type GameComponent = FC<GameProps>;\n","size_bytes":339},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1140},"shared/types.ts":{"content":"export interface Course {\n  id: string;\n  name: string;\n  description: string;\n  icon: string;\n  color: string;\n  levels: Level[];\n}\n\nexport type LevelStage = 'narrative' | 'teaching-game' | 'ai-videos' | 'assessment' | 'practice-game' | 'resources' | 'complete';\n\nexport interface GameConfig {\n  id: string;\n  type: 'loop-arena' | 'recursion-maze' | 'sorting-conveyor' | 'pattern-builder' | 'search-challenge' | 'backtracking-puzzle' | 'markup-forge' | 'style-spectrum' | 'script-circuit' | 'component-link' | 'service-runner' | 'data-bridge' | 'deploy-orbit';\n  title: string;\n  description: string;\n  objective: string;\n  controls: string;\n  timeLimit?: number;\n  passingScore: number;\n  importanceWhy?: string;\n}\n\nexport interface CodingProblem {\n  id: string;\n  title: string;\n  description: string;\n  difficulty: 'easy' | 'medium' | 'hard';\n  starterCode: string;\n  solution: string;\n  functionName: string; // The exact function name users should define\n  testCases: CodingTestCase[];\n  hints: string[];\n  timeLimit?: number;\n  tags: string[];\n}\n\nexport interface CodingTestCase {\n  id: string;\n  input: string;\n  expectedOutput: string;\n  isHidden?: boolean;\n}\n\nexport interface ExternalResource {\n  title: string;\n  url: string;\n  type: 'leetcode' | 'neetcode' | 'hackerrank' | 'codeforces' | 'youtube' | 'article' | 'documentation';\n  difficulty?: 'easy' | 'medium' | 'hard';\n  description?: string;\n}\n\nexport interface YouTubeVideo {\n  id: string;\n  title: string;\n  channelTitle: string;\n  thumbnailUrl: string;\n  videoUrl: string;\n}\n\nexport interface QuizQuestion {\n  id: string;\n  question: string;\n  options?: string[];\n  correctAnswer: string;\n  explanation: string;\n  type: 'multiple-choice' | 'short-answer' | 'code-snippet';\n}\n\nexport interface Level {\n  id: string;\n  courseId: string;\n  title: string;\n  description: string;\n  story: string;\n  narrative?: string;\n  xpReward: number;\n  challengeType: 'coding' | 'quiz' | 'interactive';\n  difficulty: 'beginner' | 'intermediate' | 'advanced' | 'expert';\n  unlocked: boolean;\n  completed: boolean;\n  currentStage?: LevelStage;\n  gameConfig?: GameConfig;\n  quizPassScore?: number;\n  teachingContent?: string;\n  quizQuestions?: QuizQuestion[];\n  codingProblems?: CodingProblem[];\n  externalResources?: ExternalResource[];\n  videoTopic?: string;\n  aiSuggestedVideos?: YouTubeVideo[];\n}\n\nexport interface GameProgress {\n  levelId: string;\n  gameId: string;\n  attempts: number;\n  bestScore: number;\n  timeSpent: number;\n  completed: boolean;\n}\n\nexport interface GameResult {\n  score: number;\n  timeSpent: number;\n  success: boolean;\n  xpEarned: number;\n}\n\nexport interface UserProgress {\n  userId: string;\n  totalXP: number;\n  level: number;\n  badges: Badge[];\n  completedLevels: string[];\n  currentCourse: string | null;\n  currentLevel: string | null;\n  currentGame?: GameProgress | null;\n}\n\nexport interface Badge {\n  id: string;\n  name: string;\n  description: string;\n  icon: string;\n  rarity?: 'common' | 'rare' | 'epic' | 'legendary';\n  earnedAt?: Date;\n}\n\nexport interface Challenge {\n  id: string;\n  levelId: string;\n  type: 'coding' | 'quiz' | 'interactive';\n  question: string;\n  hints: string[];\n  solution?: string;\n  testCases?: TestCase[];\n}\n\nexport interface TestCase {\n  input: string;\n  expectedOutput: string;\n}\n\nexport interface AIMessage {\n  role: 'user' | 'assistant' | 'system';\n  content: string;\n  timestamp: Date;\n}\n\nexport interface AICompanionState {\n  isActive: boolean;\n  messages: AIMessage[];\n  currentHint: string | null;\n  adaptiveDifficulty: number;\n}\n","size_bytes":3549},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/lib/stores/useAudio.tsx":{"content":"import { create } from \"zustand\";\n\ninterface AudioState {\n  backgroundMusic: HTMLAudioElement | null;\n  hitSound: HTMLAudioElement | null;\n  successSound: HTMLAudioElement | null;\n  isMuted: boolean;\n  \n  // Setter functions\n  setBackgroundMusic: (music: HTMLAudioElement) => void;\n  setHitSound: (sound: HTMLAudioElement) => void;\n  setSuccessSound: (sound: HTMLAudioElement) => void;\n  \n  // Control functions\n  toggleMute: () => void;\n  playHit: () => void;\n  playSuccess: () => void;\n}\n\nexport const useAudio = create<AudioState>((set, get) => ({\n  backgroundMusic: null,\n  hitSound: null,\n  successSound: null,\n  isMuted: true, // Start muted by default\n  \n  setBackgroundMusic: (music) => set({ backgroundMusic: music }),\n  setHitSound: (sound) => set({ hitSound: sound }),\n  setSuccessSound: (sound) => set({ successSound: sound }),\n  \n  toggleMute: () => {\n    const { isMuted } = get();\n    const newMutedState = !isMuted;\n    \n    // Just update the muted state\n    set({ isMuted: newMutedState });\n    \n    // Log the change\n    console.log(`Sound ${newMutedState ? 'muted' : 'unmuted'}`);\n  },\n  \n  playHit: () => {\n    const { hitSound, isMuted } = get();\n    if (hitSound) {\n      // If sound is muted, don't play anything\n      if (isMuted) {\n        console.log(\"Hit sound skipped (muted)\");\n        return;\n      }\n      \n      // Clone the sound to allow overlapping playback\n      const soundClone = hitSound.cloneNode() as HTMLAudioElement;\n      soundClone.volume = 0.3;\n      soundClone.play().catch(error => {\n        console.log(\"Hit sound play prevented:\", error);\n      });\n    }\n  },\n  \n  playSuccess: () => {\n    const { successSound, isMuted } = get();\n    if (successSound) {\n      // If sound is muted, don't play anything\n      if (isMuted) {\n        console.log(\"Success sound skipped (muted)\");\n        return;\n      }\n      \n      successSound.currentTime = 0;\n      successSound.play().catch(error => {\n        console.log(\"Success sound play prevented:\", error);\n      });\n    }\n  }\n}));\n","size_bytes":2025},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1012},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1037},"client/src/hooks/use-is-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5124},"client/src/lib/stores/useLearning.tsx":{"content":"import { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport type { Course, Level, UserProgress, Badge, AICompanionState, GameResult, LevelStage } from \"@shared/types\";\n\ninterface User {\n  id: number;\n  username: string;\n  email: string | null;\n}\n\ninterface LearningState {\n  user: User | null;\n  courses: Course[];\n  userProgress: UserProgress;\n  aiCompanion: AICompanionState;\n  \n  login: (username: string, password: string) => Promise<void>;\n  signup: (username: string, password: string, email?: string) => Promise<void>;\n  logout: () => void;\n  syncProgress: () => Promise<void>;\n  \n  setCourses: (courses: Course[]) => void;\n  selectCourse: (courseId: string) => void;\n  selectLevel: (levelId: string) => void;\n  advanceStage: (levelId: string, newStage: LevelStage) => boolean;\n  goBackStage: (levelId: string) => boolean;\n  startGame: (levelId: string) => boolean;\n  completeGame: (levelId: string, result: GameResult) => Promise<void>;\n  completeLevel: (levelId: string, xpEarned: number) => Promise<void>;\n  addBadge: (badge: Badge) => Promise<void>;\n  updateAIMessages: (message: { role: 'user' | 'assistant'; content: string }) => void;\n  toggleAICompanion: () => void;\n  setCurrentHint: (hint: string | null) => void;\n}\n\nconst initialCourses: Course[] = [\n  {\n    id: 'dsa',\n    name: 'Data Structures & Algorithms',\n    description: 'Master the fundamentals of computer science',\n    icon: 'üß†',\n    color: '#6366f1',\n    levels: [\n      { \n        id: 'dsa-1', \n        courseId: 'dsa', \n        title: 'Introduction to Programming', \n        description: 'Learn loops, variables, and conditionals', \n        story: 'Welcome to the Valley of Variables! Master loops and conditionals to begin your journey.', \n        xpReward: 100, \n        challengeType: 'interactive', \n        difficulty: 'beginner', \n        unlocked: true, \n        completed: false, \n        currentStage: 'narrative', \n        videoTopic: 'JavaScript loops and variables for beginners',\n        aiSuggestedVideos: [\n          {\n            id: 'dsa1-v1',\n            title: 'JavaScript Loops Explained in 10 Minutes',\n            channelTitle: 'Programming with Mosh',\n            thumbnailUrl: 'https://i.ytimg.com/vi/s9wW2PpJsmQ/maxresdefault.jpg',\n            videoUrl: 'https://www.youtube.com/watch?v=s9wW2PpJsmQ'\n          },\n          {\n            id: 'dsa1-v2',\n            title: 'For Loops vs While Loops - JavaScript Tutorial',\n            channelTitle: 'Web Dev Simplified',\n            thumbnailUrl: 'https://i.ytimg.com/vi/PpeDy5wLvJo/maxresdefault.jpg',\n            videoUrl: 'https://www.youtube.com/watch?v=PpeDy5wLvJo'\n          },\n          {\n            id: 'dsa1-v3',\n            title: 'JavaScript Variables - Let, Const, Var',\n            channelTitle: 'Traversy Media',\n            thumbnailUrl: 'https://i.ytimg.com/vi/9WIJQDvt4Us/maxresdefault.jpg',\n            videoUrl: 'https://www.youtube.com/watch?v=9WIJQDvt4Us'\n          }\n        ],\n        quizQuestions: [\n          {\n            id: 'dsa-1-q1',\n            question: 'What will this code print? for (let i = 1; i <= 5; i++) { console.log(i); }',\n            options: ['1 2 3 4 5', '0 1 2 3 4', '1 2 3 4', '0 1 2 3 4 5'],\n            correctAnswer: '1 2 3 4 5',\n            explanation: 'The loop starts at 1 and runs while i <= 5, printing numbers 1 through 5.',\n            type: 'multiple-choice'\n          },\n          {\n            id: 'dsa-1-q2',\n            question: 'What keyword do you use to declare a variable that can be reassigned?',\n            options: ['const', 'let', 'var', 'Both let and var'],\n            correctAnswer: 'Both let and var',\n            explanation: 'Both let and var allow reassignment. const creates constants that cannot be reassigned.',\n            type: 'multiple-choice'\n          }\n        ],\n        codingProblems: [\n          {\n            id: 'dsa-1-p1',\n            title: 'Sum of Numbers',\n            description: 'Write a function that calculates the sum of numbers from 1 to n using a loop.',\n            difficulty: 'easy',\n            starterCode: 'function sumNumbers(n) {\\n  // Write your code here\\n  \\n}',\n            solution: 'function sumNumbers(n) {\\n  let sum = 0;\\n  for (let i = 1; i <= n; i++) {\\n    sum += i;\\n  }\\n  return sum;\\n}',\n            functionName: 'sumNumbers',\n            testCases: [\n              { id: 't1', input: '5', expectedOutput: '15', isHidden: false },\n              { id: 't2', input: '10', expectedOutput: '55', isHidden: false },\n              { id: 't3', input: '100', expectedOutput: '5050', isHidden: true }\n            ],\n            hints: [\n              'Initialize a sum variable to 0',\n              'Use a for loop from 1 to n',\n              'Add each number to the sum'\n            ],\n            tags: ['loops', 'math', 'beginner']\n          }\n        ],\n        externalResources: [\n          {\n            title: 'Two Sum - LeetCode',\n            url: 'https://leetcode.com/problems/two-sum/',\n            type: 'leetcode',\n            difficulty: 'easy',\n            description: 'Classic array problem using loops'\n          },\n          {\n            title: 'JavaScript Loops - MDN',\n            url: 'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration',\n            type: 'documentation',\n            description: 'Complete guide to JavaScript loops'\n          },\n          {\n            title: 'Loops Tutorial - NeetCode',\n            url: 'https://neetcode.io/courses/lessons/loops-introduction',\n            type: 'neetcode',\n            difficulty: 'easy'\n          }\n        ],\n        gameConfig: { id: 'loop-arena-1', type: 'loop-arena', title: 'Loop Arena: Valley of Variables', description: 'Learn loops by collecting items', objective: 'Collect all items using loop patterns', controls: 'WASD or Arrow Keys', passingScore: 90, importanceWhy: 'Loops are the heartbeat of programming - they let you repeat actions efficiently. This game shows you how loops work visually by having you collect items in patterns. Understanding loops is fundamental to solving any problem that requires repetition.' } \n      },\n      { \n        id: 'dsa-2', \n        courseId: 'dsa', \n        title: 'Arrays & Lists', \n        description: 'Understanding indexed collections', \n        story: 'Enter the Array Temple where data is stored in ordered sequences.', \n        xpReward: 120, \n        challengeType: 'interactive', \n        difficulty: 'beginner', \n        unlocked: false, \n        completed: false, \n        currentStage: 'narrative',\n        videoTopic: 'JavaScript arrays and array methods',\n        aiSuggestedVideos: [\n          {\n            id: 'dsa2-v1',\n            title: 'JavaScript Arrays Crash Course',\n            channelTitle: 'Traversy Media',\n            thumbnailUrl: 'https://i.ytimg.com/vi/7W4pQQ20nJg/maxresdefault.jpg',\n            videoUrl: 'https://www.youtube.com/watch?v=7W4pQQ20nJg'\n          },\n          {\n            id: 'dsa2-v2',\n            title: '8 Must Know JavaScript Array Methods',\n            channelTitle: 'Web Dev Simplified',\n            thumbnailUrl: 'https://i.ytimg.com/vi/R8rmfD9Y5-c/maxresdefault.jpg',\n            videoUrl: 'https://www.youtube.com/watch?v=R8rmfD9Y5-c'\n          }\n        ],\n        quizQuestions: [\n          {\n            id: 'dsa-2-q1',\n            question: 'How do you access the first element of an array named arr?',\n            options: ['arr[0]', 'arr[1]', 'arr.first()', 'arr.get(0)'],\n            correctAnswer: 'arr[0]',\n            explanation: 'Arrays are zero-indexed, so the first element is at index 0.',\n            type: 'multiple-choice'\n          }\n        ],\n        codingProblems: [\n          {\n            id: 'dsa-2-p1',\n            title: 'Find Maximum in Array',\n            description: 'Write a function that finds the maximum number in an array.',\n            difficulty: 'easy',\n            starterCode: 'function findMax(arr) {\\n  // Write your code here\\n  \\n}',\n            solution: 'function findMax(arr) {\\n  let max = arr[0];\\n  for (let i = 1; i < arr.length; i++) {\\n    if (arr[i] > max) max = arr[i];\\n  }\\n  return max;\\n}',\n            functionName: 'findMax',\n            testCases: [\n              { id: 't1', input: '[1, 5, 3, 9, 2]', expectedOutput: '9', isHidden: false },\n              { id: 't2', input: '[-5, -1, -10]', expectedOutput: '-1', isHidden: false }\n            ],\n            hints: ['Start with the first element as max', 'Loop through the array', 'Update max if you find a larger value'],\n            tags: ['arrays', 'loops', 'beginner']\n          }\n        ],\n        externalResources: [\n          {\n            title: 'Contains Duplicate - LeetCode',\n            url: 'https://leetcode.com/problems/contains-duplicate/',\n            type: 'leetcode',\n            difficulty: 'easy'\n          },\n          {\n            title: 'Arrays - NeetCode Roadmap',\n            url: 'https://neetcode.io/roadmap',\n            type: 'neetcode'\n          }\n        ],\n        gameConfig: { id: 'sorting-conveyor-2', type: 'sorting-conveyor', title: 'Array Organizer', description: 'Learn arrays by organizing items', objective: 'Sort items by value', controls: 'Click to swap items', passingScore: 100, importanceWhy: 'Arrays are the most fundamental data structure in programming. This game shows you how to access, manipulate, and organize data in arrays. Every app you use stores and manages lists of data using arrays.' } \n      },\n      {\n        id: 'dsa-3',\n        courseId: 'dsa',\n        title: 'Searching Algorithms',\n        description: 'Linear and binary search',\n        story: 'In the Forest of Search, find treasures using efficient search strategies.',\n        narrative: 'The forest holds many treasures, but finding them requires strategy. Learn two fundamental search algorithms: linear search checks every item one by one, while binary search divides and conquers sorted data for lightning-fast lookups.',\n        teachingContent: 'Linear Search: O(n) time - checks each element sequentially. Simple but slow for large datasets. Binary Search: O(log n) time - repeatedly divides sorted array in half. Much faster but requires sorted data.',\n        xpReward: 130,\n        challengeType: 'interactive',\n        difficulty: 'beginner',\n        unlocked: false,\n        completed: false,\n        currentStage: 'narrative',\n        videoTopic: 'Binary search algorithm explained with examples',\n        quizQuestions: [\n          {\n            id: 'dsa-3-q1',\n            question: 'What is the time complexity of binary search?',\n            options: ['O(1)', 'O(log n)', 'O(n)', 'O(n¬≤)'],\n            correctAnswer: 'O(log n)',\n            explanation: 'Binary search divides the search space in half each time, giving logarithmic time complexity.',\n            type: 'multiple-choice'\n          },\n          {\n            id: 'dsa-3-q2',\n            question: 'What condition must be met to use binary search?',\n            options: ['Array must be sorted', 'Array must be unsorted', 'Array must have duplicates', 'Array must be empty'],\n            correctAnswer: 'Array must be sorted',\n            explanation: 'Binary search only works on sorted arrays because it relies on comparing the middle element to determine which half to search.',\n            type: 'multiple-choice'\n          }\n        ],\n        codingProblems: [\n          {\n            id: 'dsa-3-p1',\n            title: 'Binary Search Implementation',\n            description: 'Write a function that performs binary search on a sorted array. Return the index of the target value, or -1 if not found.',\n            difficulty: 'medium',\n            starterCode: 'function binarySearch(arr, target) {\\n  // Write your code here\\n  \\n}',\n            solution: 'function binarySearch(arr, target) {\\n  let left = 0;\\n  let right = arr.length - 1;\\n  \\n  while (left <= right) {\\n    let mid = Math.floor((left + right) / 2);\\n    \\n    if (arr[mid] === target) return mid;\\n    if (arr[mid] < target) left = mid + 1;\\n    else right = mid - 1;\\n  }\\n  \\n  return -1;\\n}',\n            functionName: 'binarySearch',\n            testCases: [\n              { id: 't1', input: '[[1, 3, 5, 7, 9], 5]', expectedOutput: '2', isHidden: false },\n              { id: 't2', input: '[[1, 3, 5, 7, 9], 6]', expectedOutput: '-1', isHidden: false },\n              { id: 't3', input: '[[10, 20, 30, 40, 50], 10]', expectedOutput: '0', isHidden: true }\n            ],\n            hints: [\n              'Use two pointers: left and right',\n              'Find the middle index: Math.floor((left + right) / 2)',\n              'Compare middle element with target to decide which half to search'\n            ],\n            tags: ['searching', 'binary-search', 'algorithms']\n          }\n        ],\n        externalResources: [\n          {\n            title: 'Binary Search - LeetCode',\n            url: 'https://leetcode.com/problems/binary-search/',\n            type: 'leetcode',\n            difficulty: 'easy',\n            description: 'Classic binary search problem'\n          },\n          {\n            title: 'Search Insert Position - LeetCode',\n            url: 'https://leetcode.com/problems/search-insert-position/',\n            type: 'leetcode',\n            difficulty: 'easy',\n            description: 'Binary search variation'\n          },\n          {\n            title: 'Binary Search - NeetCode',\n            url: 'https://neetcode.io/problems/binary-search',\n            type: 'neetcode',\n            difficulty: 'easy'\n          }\n        ],\n        gameConfig: {\n          id: 'search-challenge-3',\n          type: 'search-challenge',\n          title: 'Treasure Hunt',\n          description: 'Find hidden items using search algorithms',\n          objective: 'Locate all treasures efficiently',\n          controls: 'Click to search, use hints wisely',\n          passingScore: 85,\n          importanceWhy: 'Search algorithms are essential for finding data efficiently. This game demonstrates the dramatic difference between linear and binary search - understanding when to use each can make your programs run 1000x faster on large datasets.'\n        }\n      },\n      {\n        id: 'dsa-4',\n        courseId: 'dsa',\n        title: 'Linked Lists',\n        description: 'Understanding node-based data structures',\n        story: 'Navigate the Chain Bridge where each node points to the next.',\n        narrative: 'In the realm of data structures, linked lists offer dynamic memory allocation where elements (nodes) connect via pointers. Unlike arrays, linked lists excel at insertions and deletions.',\n        teachingContent: 'A linked list consists of nodes, each containing data and a reference (pointer) to the next node. Types include singly linked lists, doubly linked lists, and circular linked lists.',\n        xpReward: 140,\n        challengeType: 'interactive',\n        difficulty: 'beginner',\n        unlocked: false,\n        completed: false,\n        currentStage: 'narrative',\n        videoTopic: 'Linked lists data structure explained with examples',\n        quizQuestions: [\n          {\n            id: 'dsa-4-q1',\n            question: 'What is the time complexity of inserting a node at the beginning of a linked list?',\n            options: ['O(1)', 'O(n)', 'O(log n)', 'O(n¬≤)'],\n            correctAnswer: 'O(1)',\n            explanation: 'Inserting at the beginning only requires updating the head pointer and the new node\\'s next pointer, taking constant time.',\n            type: 'multiple-choice'\n          },\n          {\n            id: 'dsa-4-q2',\n            question: 'What advantage do linked lists have over arrays?',\n            options: ['Random access', 'Dynamic size', 'Less memory usage', 'Faster search'],\n            correctAnswer: 'Dynamic size',\n            explanation: 'Linked lists can grow and shrink dynamically without pre-allocating memory like arrays.',\n            type: 'multiple-choice'\n          }\n        ],\n        codingProblems: [\n          {\n            id: 'dsa-4-p1',\n            title: 'Reverse Linked List',\n            description: 'Reverse a singly linked list and return the new head.',\n            difficulty: 'medium',\n            starterCode: 'function reverseList(head) {\\n  // head is the first node with properties: val and next\\n  // Write your code here\\n  \\n}',\n            solution: 'function reverseList(head) {\\n  let prev = null;\\n  let current = head;\\n  while (current) {\\n    let next = current.next;\\n    current.next = prev;\\n    prev = current;\\n    current = next;\\n  }\\n  return prev;\\n}',\n            functionName: 'reverseList',\n            testCases: [\n              { id: 't1', input: '[{\"val\":1,\"next\":{\"val\":2,\"next\":{\"val\":3,\"next\":null}}}]', expectedOutput: '{\"val\":3,\"next\":{\"val\":2,\"next\":{\"val\":1,\"next\":null}}}', isHidden: false },\n              { id: 't2', input: '[null]', expectedOutput: 'null', isHidden: false }\n            ],\n            hints: ['Use three pointers: prev, current, and next', 'Iterate through the list reversing pointers', 'Return prev at the end'],\n            tags: ['linked-list', 'pointers']\n          }\n        ],\n        externalResources: [\n          {\n            title: 'Reverse Linked List - LeetCode',\n            url: 'https://leetcode.com/problems/reverse-linked-list/',\n            type: 'leetcode',\n            difficulty: 'easy'\n          },\n          {\n            title: 'Linked List Cycle - LeetCode',\n            url: 'https://leetcode.com/problems/linked-list-cycle/',\n            type: 'leetcode',\n            difficulty: 'easy'\n          },\n          {\n            title: 'Linked Lists - NeetCode',\n            url: 'https://neetcode.io/roadmap',\n            type: 'neetcode'\n          }\n        ],\n        gameConfig: {\n          id: 'pattern-builder-4',\n          type: 'pattern-builder',\n          title: 'Chain Bridge Navigator',\n          description: 'Build and traverse linked list chains',\n          objective: 'Connect nodes correctly to form a path',\n          controls: 'Click to connect nodes',\n          passingScore: 85,\n          importanceWhy: 'Linked lists are fundamental to understanding pointers and dynamic data structures. They\\'re used in many applications like browser history, music playlists, and implementing other data structures like stacks and queues.'\n        }\n      },\n      {\n        id: 'dsa-5',\n        courseId: 'dsa',\n        title: 'Stacks',\n        description: 'Last-In-First-Out (LIFO) operations',\n        story: 'Climb the Tower of Stacks where the last item added is first removed.',\n        narrative: 'Stacks are fundamental data structures following LIFO principle. Perfect for undo operations, expression evaluation, and backtracking algorithms.',\n        teachingContent: 'A stack supports push (add to top), pop (remove from top), and peek (view top) operations. Think of a stack of plates - you can only add or remove from the top.',\n        xpReward: 150,\n        challengeType: 'interactive',\n        difficulty: 'beginner',\n        unlocked: false,\n        completed: false,\n        currentStage: 'narrative',\n        videoTopic: 'Stack data structure and applications tutorial',\n        quizQuestions: [\n          {\n            id: 'dsa-5-q1',\n            question: 'Which operation is NOT supported by a standard stack?',\n            options: ['push', 'pop', 'peek', 'random access'],\n            correctAnswer: 'random access',\n            explanation: 'Stacks only allow access to the top element, not random access to middle elements.',\n            type: 'multiple-choice'\n          }\n        ],\n        codingProblems: [\n          {\n            id: 'dsa-5-p1',\n            title: 'Valid Parentheses',\n            description: 'Given a string containing just the characters \\'(\\', \\')\\', \\'{\\', \\'}\\', \\'[\\' and \\']\\', determine if the input string is valid. An input string is valid if brackets close in the correct order.',\n            difficulty: 'easy',\n            starterCode: 'function isValid(s) {\\n  // Write your code here\\n  \\n}',\n            solution: 'function isValid(s) {\\n  const stack = [];\\n  const pairs = {\\\"(\\\": \\\")\\\", \\\"{\\\": \\\"}\\\", \\\"[\\\": \\\"]\\\"};\\n  for (let char of s) {\\n    if (pairs[char]) stack.push(char);\\n    else if (stack.length === 0 || pairs[stack.pop()] !== char) return false;\\n  }\\n  return stack.length === 0;\\n}',\n            functionName: 'isValid',\n            testCases: [\n              { id: 't1', input: '\"()\"', expectedOutput: 'true', isHidden: false },\n              { id: 't2', input: '\"()[]{}\"', expectedOutput: 'true', isHidden: false },\n              { id: 't3', input: '\"(]\"', expectedOutput: 'false', isHidden: false }\n            ],\n            hints: ['Use a stack to keep track of opening brackets', 'When you see a closing bracket, check if it matches the top of the stack'],\n            tags: ['stack', 'string']\n          }\n        ],\n        externalResources: [\n          {\n            title: 'Valid Parentheses - LeetCode',\n            url: 'https://leetcode.com/problems/valid-parentheses/',\n            type: 'leetcode',\n            difficulty: 'easy'\n          },\n          {\n            title: 'Stacks - NeetCode',\n            url: 'https://neetcode.io/roadmap',\n            type: 'neetcode'\n          }\n        ],\n        gameConfig: {\n          id: 'pattern-builder-5',\n          type: 'pattern-builder',\n          title: 'Stack Tower',\n          description: 'Build towers using stack operations',\n          objective: 'Manage items using LIFO principle',\n          controls: 'Click to push/pop',\n          passingScore: 85\n        }\n      },\n      {\n        id: 'dsa-6',\n        courseId: 'dsa',\n        title: 'Queues',\n        description: 'First-In-First-Out (FIFO) operations',\n        story: 'Join the Queue Kingdom where fairness rules - first come, first served!',\n        narrative: 'Queues follow the FIFO principle - first element added is first removed. Essential for BFS, scheduling, and real-world queue simulations.',\n        teachingContent: 'A queue supports enqueue (add to rear), dequeue (remove from front), and peek (view front) operations. Like a line at a store.',\n        xpReward: 150,\n        challengeType: 'interactive',\n        difficulty: 'beginner',\n        unlocked: false,\n        completed: false,\n        currentStage: 'narrative',\n        videoTopic: 'Queue data structure implementation and use cases',\n        quizQuestions: [\n          {\n            id: 'dsa-6-q1',\n            question: 'In a queue, where are new elements added?',\n            options: ['Front', 'Rear', 'Middle', 'Random position'],\n            correctAnswer: 'Rear',\n            explanation: 'In a queue, elements are added at the rear and removed from the front (FIFO).',\n            type: 'multiple-choice'\n          }\n        ],\n        codingProblems: [\n          {\n            id: 'dsa-6-p1',\n            title: 'Implement Queue using Stacks',\n            description: 'Implement a queue using two stacks.',\n            difficulty: 'easy',\n            starterCode: 'class MyQueue {\\n  constructor() {\\n    this.stack1 = [];\\n    this.stack2 = [];\\n  }\\n  \\n  enqueue(x) {\\n    // Write your code here\\n  }\\n  \\n  dequeue() {\\n    // Write your code here\\n  }\\n}',\n            solution: 'class MyQueue {\\n  constructor() {\\n    this.stack1 = [];\\n    this.stack2 = [];\\n  }\\n  enqueue(x) {\\n    this.stack1.push(x);\\n  }\\n  dequeue() {\\n    if (this.stack2.length === 0) {\\n      while (this.stack1.length > 0) {\\n        this.stack2.push(this.stack1.pop());\\n      }\\n    }\\n    return this.stack2.pop();\\n  }\\n}',\n            functionName: 'MyQueue',\n            testCases: [\n              { id: 't1', input: '[\"enqueue\",1,\"enqueue\",2,\"dequeue\"]', expectedOutput: '1', isHidden: false }\n            ],\n            hints: ['Use one stack for enqueue, another for dequeue', 'Transfer elements when dequeue stack is empty'],\n            tags: ['queue', 'stack']\n          }\n        ],\n        externalResources: [\n          {\n            title: 'Implement Queue using Stacks - LeetCode',\n            url: 'https://leetcode.com/problems/implement-queue-using-stacks/',\n            type: 'leetcode',\n            difficulty: 'easy'\n          },\n          {\n            title: 'Queues - NeetCode',\n            url: 'https://neetcode.io/roadmap',\n            type: 'neetcode'\n          }\n        ],\n        gameConfig: {\n          id: 'sorting-conveyor-6',\n          type: 'sorting-conveyor',\n          title: 'Queue Kingdom',\n          description: 'Process items in FIFO order',\n          objective: 'Manage queue operations correctly',\n          controls: 'Click to enqueue/dequeue',\n          passingScore: 85\n        }\n      },\n      {\n        id: 'dsa-7',\n        courseId: 'dsa',\n        title: 'Hash Tables',\n        description: 'Key-value pairs and hashing',\n        story: 'Unlock the Hash Vault where keys open instant access to treasures.',\n        narrative: 'Hash tables provide O(1) average-case lookup, insert, and delete operations using key-value pairs and hash functions.',\n        teachingContent: 'Hash tables use a hash function to compute an index into an array of buckets. Collision resolution techniques include chaining and open addressing.',\n        xpReward: 160,\n        challengeType: 'interactive',\n        difficulty: 'intermediate',\n        unlocked: false,\n        completed: false,\n        currentStage: 'narrative',\n        videoTopic: 'Hash tables and hash maps explained',\n        quizQuestions: [\n          {\n            id: 'dsa-7-q1',\n            question: 'What is the average time complexity of hash table lookup?',\n            options: ['O(1)', 'O(log n)', 'O(n)', 'O(n¬≤)'],\n            correctAnswer: 'O(1)',\n            explanation: 'Hash tables provide constant-time average-case lookup using hash functions.',\n            type: 'multiple-choice'\n          }\n        ],\n        codingProblems: [\n          {\n            id: 'dsa-7-p1',\n            title: 'Two Sum',\n            description: 'Given an array of integers and a target, return indices of two numbers that add up to target.',\n            difficulty: 'easy',\n            starterCode: 'function twoSum(nums, target) {\\n  // Write your code here\\n  \\n}',\n            solution: 'function twoSum(nums, target) {\\n  const map = new Map();\\n  for (let i = 0; i < nums.length; i++) {\\n    const complement = target - nums[i];\\n    if (map.has(complement)) {\\n      return [map.get(complement), i];\\n    }\\n    map.set(nums[i], i);\\n  }\\n  return [];\\n}',\n            functionName: 'twoSum',\n            testCases: [\n              { id: 't1', input: '[[2,7,11,15], 9]', expectedOutput: '[0,1]', isHidden: false },\n              { id: 't2', input: '[[3,2,4], 6]', expectedOutput: '[1,2]', isHidden: false }\n            ],\n            hints: ['Use a hash map to store seen numbers and their indices', 'For each number, check if target - number exists in the map'],\n            tags: ['hash-table', 'array']\n          }\n        ],\n        externalResources: [\n          {\n            title: 'Two Sum - LeetCode',\n            url: 'https://leetcode.com/problems/two-sum/',\n            type: 'leetcode',\n            difficulty: 'easy'\n          },\n          {\n            title: 'Hash Tables - NeetCode',\n            url: 'https://neetcode.io/roadmap',\n            type: 'neetcode'\n          }\n        ],\n        gameConfig: {\n          id: 'search-challenge-7',\n          type: 'search-challenge',\n          title: 'Hash Vault',\n          description: 'Use hashing to find treasures instantly',\n          objective: 'Implement hash-based lookups',\n          controls: 'Click to hash and search',\n          passingScore: 85\n        }\n      },\n      {\n        id: 'dsa-8',\n        courseId: 'dsa',\n        title: 'Binary Trees',\n        description: 'Hierarchical tree structures',\n        story: 'Explore the Binary Forest where each node has at most two children.',\n        narrative: 'Trees are hierarchical data structures with a root node and child nodes. Binary trees limit each node to at most two children.',\n        teachingContent: 'Binary trees have applications in file systems, databases, and expression parsing. Each node contains data and pointers to left and right children.',\n        xpReward: 170,\n        challengeType: 'interactive',\n        difficulty: 'intermediate',\n        unlocked: false,\n        completed: false,\n        currentStage: 'narrative',\n        videoTopic: 'Binary trees structure and basic operations',\n        quizQuestions: [{id: 'dsa-8-q1', question: 'What is the maximum number of children a node can have in a binary tree?', options: ['1', '2', '3', 'Unlimited'], correctAnswer: '2', explanation: 'Binary trees by definition have at most two children per node.', type: 'multiple-choice'}],\n        codingProblems: [{id: 'dsa-8-p1', title: 'Tree Height', description: 'Calculate the height of a binary tree.', difficulty: 'easy', starterCode: 'function maxDepth(root) {\\n  // Write your code here\\n  \\n}', solution: 'function maxDepth(root) {\\n  if (!root) return 0;\\n  return 1 + Math.max(maxDepth(root.left), maxDepth(root.right));\\n}', functionName: 'maxDepth', testCases: [{id: 't1', input: '[null]', expectedOutput: '0'}], hints: ['Use recursion', 'Base case: null node has height 0'], tags: ['tree', 'recursion']}],\n        externalResources: [{title: 'Maximum Depth of Binary Tree - LeetCode', url: 'https://leetcode.com/problems/maximum-depth-of-binary-tree/', type: 'leetcode', difficulty: 'easy'}, {title: 'Binary Trees - NeetCode', url: 'https://neetcode.io/roadmap', type: 'neetcode'}],\n        gameConfig: {id: 'recursion-maze-8', type: 'recursion-maze', title: 'Binary Forest Explorer', description: 'Navigate through binary tree structures', objective: 'Traverse the tree correctly', controls: 'Arrow Keys', passingScore: 85}\n      },\n      {\n        id: 'dsa-9',\n        courseId: 'dsa',\n        title: 'Binary Search Trees',\n        description: 'Ordered binary trees for fast lookup',\n        story: 'Master the BST Cathedral where left is less, right is more.',\n        narrative: 'BSTs maintain order: left subtree < root < right subtree. This enables O(log n) search, insert, and delete.',\n        teachingContent: 'BST property: all left descendants < node < all right descendants. Balanced BSTs guarantee logarithmic operations.',\n        xpReward: 180,\n        challengeType: 'interactive',\n        difficulty: 'intermediate',\n        unlocked: false,\n        completed: false,\n        currentStage: 'narrative',\n        videoTopic: 'Binary search trees and BST operations',\n        quizQuestions: [{id: 'dsa-9-q1', question: 'In a BST, where are smaller values located relative to a node?', options: ['Left subtree', 'Right subtree', 'Parent', 'Either side'], correctAnswer: 'Left subtree', explanation: 'BST property requires smaller values in left subtree.', type: 'multiple-choice'}],\n        codingProblems: [{id: 'dsa-9-p1', title: 'Validate BST', description: 'Determine if a binary tree is a valid BST.', difficulty: 'medium', starterCode: 'function isValidBST(root) {\\n  // Write your code here\\n  \\n}', solution: 'function isValidBST(root, min = -Infinity, max = Infinity) {\\n  if (!root) return true;\\n  if (root.val <= min || root.val >= max) return false;\\n  return isValidBST(root.left, min, root.val) && isValidBST(root.right, root.val, max);\\n}', functionName: 'isValidBST', testCases: [{id: 't1', input: '[null]', expectedOutput: 'true'}], hints: ['Check BST property recursively', 'Pass min/max constraints down'], tags: ['bst', 'tree']}],\n        externalResources: [{title: 'Validate BST - LeetCode', url: 'https://leetcode.com/problems/validate-binary-search-tree/', type: 'leetcode', difficulty: 'medium'}, {title: 'BST Problems - NeetCode', url: 'https://neetcode.io/roadmap', type: 'neetcode'}],\n        gameConfig: {id: 'search-challenge-9', type: 'search-challenge', title: 'BST Cathedral', description: 'Navigate ordered binary search trees', objective: 'Find values using BST property', controls: 'Click to search', passingScore: 85, importanceWhy: 'BSTs combine the benefits of arrays and linked lists. This game shows how the BST property (left < root < right) enables O(log n) searches, making databases and file systems incredibly fast.'}\n      },\n      {\n        id: 'dsa-10',\n        courseId: 'dsa',\n        title: 'Tree Traversals',\n        description: 'Inorder, preorder, postorder, and level-order',\n        story: 'Navigate the Traversal Maze using different paths through the trees.',\n        narrative: 'Different traversal orders visit nodes in specific sequences: inorder (left-root-right), preorder (root-left-right), postorder (left-right-root), level-order (breadth-first).',\n        teachingContent: 'Inorder gives sorted sequence for BST. Preorder good for copying trees. Postorder useful for deletion. Level-order uses queue.',\n        xpReward: 190,\n        challengeType: 'interactive',\n        difficulty: 'intermediate',\n        unlocked: false,\n        completed: false,\n        currentStage: 'narrative',\n        videoTopic: 'Tree traversal algorithms: inorder, preorder, postorder, level-order',\n        quizQuestions: [{id: 'dsa-10-q1', question: 'Which traversal visits nodes in sorted order for a BST?', options: ['Inorder', 'Preorder', 'Postorder', 'Level-order'], correctAnswer: 'Inorder', explanation: 'Inorder traversal (left-root-right) produces sorted sequence for BST.', type: 'multiple-choice'}],\n        codingProblems: [{id: 'dsa-10-p1', title: 'Inorder Traversal', description: 'Return inorder traversal of a binary tree.', difficulty: 'easy', starterCode: 'function inorderTraversal(root) {\\n  // Return array of values\\n  \\n}', solution: 'function inorderTraversal(root) {\\n  if (!root) return [];\\n  return [...inorderTraversal(root.left), root.val, ...inorderTraversal(root.right)];\\n}', functionName: 'inorderTraversal', testCases: [{id: 't1', input: '[null]', expectedOutput: '[]'}], hints: ['Recursively traverse left, visit root, traverse right'], tags: ['tree', 'traversal']}],\n        externalResources: [{title: 'Binary Tree Inorder Traversal - LeetCode', url: 'https://leetcode.com/problems/binary-tree-inorder-traversal/', type: 'leetcode', difficulty: 'easy'}, {title: 'Tree Traversals - NeetCode', url: 'https://neetcode.io/roadmap', type: 'neetcode'}],\n        gameConfig: {id: 'recursion-maze-10', type: 'recursion-maze', title: 'Traversal Maze', description: 'Navigate using tree traversal patterns', objective: 'Reach all checkpoints in order', controls: 'Arrow Keys', passingScore: 90, importanceWhy: 'Tree traversals are fundamental to working with hierarchical data. This game demonstrates different traversal orders - each one is perfect for specific tasks like copying trees, deleting nodes, or processing data in sorted order.'}\n      },\n      {id: 'dsa-11', courseId: 'dsa', title: 'Heaps & Priority Queues', description: 'Min-heap and max-heap structures', story: 'Scale the Heap Mountain where priority determines position.', narrative: 'Heaps are specialized trees where parent is always greater/less than children. Priority queues use heaps for O(log n) insert/extract.', teachingContent: 'Min-heap: parent < children. Max-heap: parent > children. Used in Dijkstra\\'s algorithm, heap sort, scheduling systems.', xpReward: 200, challengeType: 'interactive', difficulty: 'intermediate', unlocked: false, completed: false, currentStage: 'narrative', videoTopic: 'Heaps and priority queues explained', quizQuestions: [{id: 'dsa-11-q1', question: 'What is the time complexity of heap insert?', options: ['O(1)', 'O(log n)', 'O(n)', 'O(n log n)'], correctAnswer: 'O(log n)', explanation: 'Heap insert requires bubbling up, which is O(log n).', type: 'multiple-choice'}], codingProblems: [{id: 'dsa-11-p1', title: 'Kth Largest Element', description: 'Find the kth largest element using a heap.', difficulty: 'medium', starterCode: 'function findKthLargest(nums, k) {\\n  // Write your code here\\n  \\n}', solution: 'function findKthLargest(nums, k) {\\n  nums.sort((a,b) => b-a);\\n  return nums[k-1];\\n}', functionName: 'findKthLargest', testCases: [{id: 't1', input: '[[3,2,1,5,6,4], 2]', expectedOutput: '5'}], hints: ['Sort array descending', 'Return element at index k-1'], tags: ['heap']}], externalResources: [{title: 'Kth Largest Element - LeetCode', url: 'https://leetcode.com/problems/kth-largest-element-in-an-array/', type: 'leetcode', difficulty: 'medium'}, {title: 'Heaps - NeetCode', url: 'https://neetcode.io/roadmap', type: 'neetcode'}], gameConfig: {id: 'pattern-builder-11', type: 'pattern-builder', title: 'Heap Mountain', description: 'Build and maintain heap structures', objective: 'Keep heap property intact', controls: 'Click to insert/extract', passingScore: 85, importanceWhy: 'Heaps power priority queues used everywhere - task schedulers, event systems, Dijkstra\\'s shortest path algorithm. This game shows how heaps maintain priority order efficiently.'}},\n      {id: 'dsa-12', courseId: 'dsa', title: 'Graphs - Basics', description: 'Vertices, edges, and representations', story: 'Map the Graph Galaxy where everything connects to everything.', narrative: 'Graphs model connections: social networks, maps, dependencies. Vertices (nodes) connect via edges.', teachingContent: 'Adjacency list vs matrix. Directed vs undirected. Weighted vs unweighted graphs.', xpReward: 210, challengeType: 'interactive', difficulty: 'intermediate', unlocked: false, completed: false, currentStage: 'narrative', videoTopic: 'Graph data structures and representations', quizQuestions: [{id: 'dsa-12-q1', question: 'Which graph representation is more space-efficient for sparse graphs?', options: ['Adjacency Matrix', 'Adjacency List', 'Both equal', 'Neither'], correctAnswer: 'Adjacency List', explanation: 'Adjacency list only stores existing edges, saving space in sparse graphs.', type: 'multiple-choice'}], codingProblems: [{id: 'dsa-12-p1', title: 'Build Adjacency List', description: 'Convert edge list to adjacency list representation.', difficulty: 'easy', starterCode: 'function buildGraph(edges) {\\n  // Return adjacency list\\n  \\n}', solution: 'function buildGraph(edges) {\\n  const graph = {};\\n  for (let [u,v] of edges) {\\n    if (!graph[u]) graph[u] = [];\\n    if (!graph[v]) graph[v] = [];\\n    graph[u].push(v);\\n    graph[v].push(u);\\n  }\\n  return graph;\\n}', functionName: 'buildGraph', testCases: [{id: 't1', input: '[[[1,2],[1,3]]]', expectedOutput: '{\"1\":[2,3],\"2\":[1],\"3\":[1]}'}], hints: ['Initialize empty object for graph', 'For each edge, add connections both ways'], tags: ['graph']}], externalResources: [{title: 'Graph Theory - LeetCode', url: 'https://leetcode.com/tag/graph/', type: 'leetcode'}, {title: 'Graphs - NeetCode', url: 'https://neetcode.io/roadmap', type: 'neetcode'}], gameConfig: {id: 'search-challenge-12', type: 'search-challenge', title: 'Graph Galaxy', description: 'Connect vertices and explore graphs', objective: 'Build graph structures', controls: 'Click to connect nodes', passingScore: 85, importanceWhy: 'Graphs model real-world networks - social media, GPS systems, recommendation engines. This game shows how to represent and navigate connections, a skill used in countless applications.'}},\n      {id: 'dsa-13', courseId: 'dsa', title: 'Graph Traversals (DFS/BFS)', description: 'Depth-first and breadth-first search', story: 'Explore the Network Nexus using systematic traversal strategies.', narrative: 'DFS explores deep before backtracking. BFS explores level by level. Essential for pathfinding and connectivity.', teachingContent: 'DFS uses stack/recursion. BFS uses queue. DFS for topological sort, BFS for shortest path in unweighted graphs.', xpReward: 220, challengeType: 'interactive', difficulty: 'advanced', unlocked: false, completed: false, currentStage: 'narrative', videoTopic: 'Graph traversal: DFS and BFS algorithms', quizQuestions: [{id: 'dsa-13-q1', question: 'Which data structure does BFS use?', options: ['Stack', 'Queue', 'Heap', 'Tree'], correctAnswer: 'Queue', explanation: 'BFS uses a queue to process nodes level by level.', type: 'multiple-choice'}], codingProblems: [{id: 'dsa-13-p1', title: 'Number of Islands', description: 'Count islands using DFS/BFS in a 2D grid.', difficulty: 'medium', starterCode: 'function numIslands(grid) {\\n  // Write your code here\\n  \\n}', solution: 'function numIslands(grid) {\\n  let count = 0;\\n  for (let i = 0; i < grid.length; i++) {\\n    for (let j = 0; j < grid[0].length; j++) {\\n      if (grid[i][j] === \"1\") {\\n        count++;\\n        dfs(grid, i, j);\\n      }\\n    }\\n  }\\n  return count;\\n}\\nfunction dfs(grid, i, j) {\\n  if (i < 0 || i >= grid.length || j < 0 || j >= grid[0].length || grid[i][j] === \"0\") return;\\n  grid[i][j] = \"0\";\\n  dfs(grid, i+1, j);\\n  dfs(grid, i-1, j);\\n  dfs(grid, i, j+1);\\n  dfs(grid, i, j-1);\\n}', functionName: 'numIslands', testCases: [{id: 't1', input: '[[[\"1\",\"1\"],[\"1\",\"0\"]]]', expectedOutput: '1'}], hints: ['Use DFS to mark connected land', 'Count how many times you start a new DFS'], tags: ['graph', 'dfs']}], externalResources: [{title: 'Number of Islands - LeetCode', url: 'https://leetcode.com/problems/number-of-islands/', type: 'leetcode', difficulty: 'medium'}, {title: 'Graph Traversal - NeetCode', url: 'https://neetcode.io/roadmap', type: 'neetcode'}], gameConfig: {id: 'recursion-maze-13', type: 'recursion-maze', title: 'Network Nexus', description: 'Traverse graphs using DFS and BFS', objective: 'Visit all nodes systematically', controls: 'Arrow Keys', passingScore: 85, importanceWhy: 'Graph traversals power everything from Google searches to finding the shortest route in GPS. This game teaches you how DFS and BFS systematically explore networks.'}},\n      {id: 'dsa-14', courseId: 'dsa', title: 'Sorting - Bubble & Selection', description: 'Simple comparison-based sorting', story: 'Start at the Sorting Academy with fundamental techniques.', narrative: 'Bubble sort repeatedly swaps adjacent elements. Selection sort finds minimum and places it. Both O(n¬≤) but educational.', teachingContent: 'Bubble: compare adjacent, swap if wrong order. Selection: find min, swap with first unsorted.', xpReward: 230, challengeType: 'interactive', difficulty: 'intermediate', unlocked: false, completed: false, currentStage: 'narrative', videoTopic: 'Bubble sort and selection sort algorithms', quizQuestions: [{id: 'dsa-14-q1', question: 'What is the time complexity of bubble sort?', options: ['O(n)', 'O(n log n)', 'O(n¬≤)', 'O(2^n)'], correctAnswer: 'O(n¬≤)', explanation: 'Bubble sort has nested loops, resulting in O(n¬≤) time complexity.', type: 'multiple-choice'}], codingProblems: [{id: 'dsa-14-p1', title: 'Implement Bubble Sort', description: 'Sort an array using bubble sort algorithm.', difficulty: 'easy', starterCode: 'function bubbleSort(arr) {\\n  // Write your code here\\n  \\n}', solution: 'function bubbleSort(arr) {\\n  for (let i = 0; i < arr.length; i++) {\\n    for (let j = 0; j < arr.length - i - 1; j++) {\\n      if (arr[j] > arr[j+1]) {\\n        [arr[j], arr[j+1]] = [arr[j+1], arr[j]];\\n      }\\n    }\\n  }\\n  return arr;\\n}', functionName: 'bubbleSort', testCases: [{id: 't1', input: '[[5,2,8,1]]', expectedOutput: '[1,2,5,8]'}], hints: ['Use nested loops', 'Swap adjacent elements if out of order'], tags: ['sorting']}], externalResources: [{title: 'Sort an Array - LeetCode', url: 'https://leetcode.com/problems/sort-an-array/', type: 'leetcode', difficulty: 'medium'}, {title: 'Sorting - NeetCode', url: 'https://neetcode.io/roadmap', type: 'neetcode'}], gameConfig: {id: 'sorting-conveyor-14', type: 'sorting-conveyor', title: 'Sorting Academy', description: 'Sort items using basic algorithms', objective: 'Arrange items in order', controls: 'Click to swap', passingScore: 85, importanceWhy: 'Sorting is fundamental to computer science. This game shows basic sorting algorithms that teach you how to think about organizing data step-by-step.'}},\n      {id: 'dsa-15', courseId: 'dsa', title: 'Sorting - Merge & Quick', description: 'Divide-and-conquer sorting algorithms', story: 'Master advanced sorting in the Algorithm Arena.', narrative: 'Merge sort divides, sorts, merges. Quick sort picks pivot, partitions. Both O(n log n) average case.', teachingContent: 'Merge sort: stable, predictable O(n log n). Quick sort: in-place, faster average but O(n¬≤) worst case.', xpReward: 240, challengeType: 'interactive', difficulty: 'advanced', unlocked: false, completed: false, currentStage: 'narrative', videoTopic: 'Merge sort and quick sort algorithms explained', quizQuestions: [{id: 'dsa-15-q1', question: 'Which sorting algorithm is stable?', options: ['Quick Sort', 'Merge Sort', 'Heap Sort', 'Selection Sort'], correctAnswer: 'Merge Sort', explanation: 'Merge sort maintains relative order of equal elements (stable).', type: 'multiple-choice'}], codingProblems: [{id: 'dsa-15-p1', title: 'Implement Merge Sort', description: 'Sort an array using merge sort.', difficulty: 'medium', starterCode: 'function mergeSort(arr) {\\n  // Write your code here\\n  \\n}', solution: 'function mergeSort(arr) {\\n  if (arr.length <= 1) return arr;\\n  const mid = Math.floor(arr.length / 2);\\n  const left = mergeSort(arr.slice(0, mid));\\n  const right = mergeSort(arr.slice(mid));\\n  return merge(left, right);\\n}\\nfunction merge(left, right) {\\n  const result = [];\\n  let i = 0, j = 0;\\n  while (i < left.length && j < right.length) {\\n    if (left[i] < right[j]) result.push(left[i++]);\\n    else result.push(right[j++]);\\n  }\\n  return result.concat(left.slice(i)).concat(right.slice(j));\\n}', functionName: 'mergeSort', testCases: [{id: 't1', input: '[[5,2,8,1,9]]', expectedOutput: '[1,2,5,8,9]'}], hints: ['Divide array in half recursively', 'Merge sorted halves'], tags: ['sorting', 'recursion']}], externalResources: [{title: 'Sort an Array - LeetCode', url: 'https://leetcode.com/problems/sort-an-array/', type: 'leetcode', difficulty: 'medium'}, {title: 'Sorting Algorithms - NeetCode', url: 'https://neetcode.io/roadmap', type: 'neetcode'}], gameConfig: {id: 'sorting-conveyor-15', type: 'sorting-conveyor', title: 'Algorithm Arena', description: 'Master advanced sorting techniques', objective: 'Efficiently sort large datasets', controls: 'Click to partition/merge', passingScore: 85, importanceWhy: 'Efficient sorting algorithms like merge sort and quick sort are used in every programming language\\'s built-in sort. Understanding divide-and-conquer techniques is crucial for advanced programming.'}},\n      {id: 'dsa-16', courseId: 'dsa', title: 'Recursion', description: 'Functions calling themselves', story: 'Descend into the Recursive Abyss where functions call themselves infinitely.', narrative: 'Recursion solves problems by breaking them into smaller subproblems. Base case prevents infinite recursion.', teachingContent: 'Every recursive function needs: base case (when to stop) and recursive case (how to make progress).', xpReward: 250, challengeType: 'interactive', difficulty: 'advanced', unlocked: false, completed: false, currentStage: 'narrative', videoTopic: 'Recursion fundamentals and problem-solving', quizQuestions: [{id: 'dsa-16-q1', question: 'What prevents infinite recursion?', options: ['Base case', 'Recursive case', 'Return statement', 'Loop'], correctAnswer: 'Base case', explanation: 'Base case stops recursion by providing a direct answer.', type: 'multiple-choice'}], codingProblems: [{id: 'dsa-16-p1', title: 'Fibonacci Number', description: 'Calculate nth Fibonacci number using recursion.', difficulty: 'easy', starterCode: 'function fib(n) {\\n  // Write your code here\\n  \\n}', solution: 'function fib(n) {\\n  if (n <= 1) return n;\\n  return fib(n-1) + fib(n-2);\\n}', functionName: 'fib', testCases: [{id: 't1', input: '5', expectedOutput: '5'}, {id: 't2', input: '10', expectedOutput: '55'}], hints: ['Base case: fib(0)=0, fib(1)=1', 'Recursive case: fib(n) = fib(n-1) + fib(n-2)'], tags: ['recursion']}], externalResources: [{title: 'Fibonacci Number - LeetCode', url: 'https://leetcode.com/problems/fibonacci-number/', type: 'leetcode', difficulty: 'easy'}, {title: 'Recursion - NeetCode', url: 'https://neetcode.io/roadmap', type: 'neetcode'}], gameConfig: {id: 'recursion-maze-16', type: 'recursion-maze', title: 'Recursive Abyss', description: 'Navigate using recursive thinking', objective: 'Solve problems recursively', controls: 'Arrow Keys', passingScore: 85, importanceWhy: 'Recursion is a powerful problem-solving technique that breaks complex problems into simpler ones. This game visualizes how recursive calls work together to solve problems elegantly.'}},\n      {id: 'dsa-17', courseId: 'dsa', title: 'Backtracking', description: 'Exploring all possibilities', story: 'Navigate the Backtracking Labyrinth by trying all paths.', narrative: 'Backtracking tries all solutions, abandoning invalid paths early. Used for puzzles, permutations, combinations.', teachingContent: 'Build solution incrementally. If invalid, backtrack (undo last choice) and try next option.', xpReward: 260, challengeType: 'interactive', difficulty: 'advanced', unlocked: false, completed: false, currentStage: 'narrative', videoTopic: 'Backtracking algorithm and applications', quizQuestions: [{id: 'dsa-17-q1', question: 'When does backtracking abandon a path?', options: ['When solution is found', 'When path becomes invalid', 'After fixed iterations', 'Never'], correctAnswer: 'When path becomes invalid', explanation: 'Backtracking abandons paths that cannot lead to valid solutions.', type: 'multiple-choice'}], codingProblems: [{id: 'dsa-17-p1', title: 'Generate Permutations', description: 'Generate all permutations of an array.', difficulty: 'medium', starterCode: 'function permute(nums) {\\n  // Return all permutations\\n  \\n}', solution: 'function permute(nums) {\\n  const result = [];\\n  function backtrack(curr) {\\n    if (curr.length === nums.length) {\\n      result.push([...curr]);\\n      return;\\n    }\\n    for (let num of nums) {\\n      if (!curr.includes(num)) {\\n        curr.push(num);\\n        backtrack(curr);\\n        curr.pop();\\n      }\\n    }\\n  }\\n  backtrack([]);\\n  return result;\\n}', functionName: 'permute', testCases: [{id: 't1', input: '[[1,2]]', expectedOutput: '[[1,2],[2,1]]'}], hints: ['Try each number', 'Backtrack by removing last choice'], tags: ['backtracking']}], externalResources: [{title: 'Permutations - LeetCode', url: 'https://leetcode.com/problems/permutations/', type: 'leetcode', difficulty: 'medium'}, {title: 'Backtracking - NeetCode', url: 'https://neetcode.io/roadmap', type: 'neetcode'}], gameConfig: {id: 'backtracking-puzzle-17', type: 'backtracking-puzzle', title: 'Backtracking Labyrinth', description: 'Find paths through trial and error', objective: 'Explore all possibilities', controls: 'Arrow Keys', passingScore: 85}},\n      {id: 'dsa-18', courseId: 'dsa', title: 'Dynamic Programming - Basics', description: 'Optimization using memoization', story: 'Unlock the DP Dimension where remembering saves time.', narrative: 'DP solves optimization problems by storing subproblem solutions. Avoid redundant calculations.', teachingContent: 'Two approaches: top-down (memoization) and bottom-up (tabulation). Identify overlapping subproblems and optimal substructure.', xpReward: 270, challengeType: 'interactive', difficulty: 'advanced', unlocked: false, completed: false, currentStage: 'narrative', videoTopic: 'Dynamic programming introduction and memoization', quizQuestions: [{id: 'dsa-18-q1', question: 'What does memoization store?', options: ['Function calls', 'Subproblem results', 'Loop iterations', 'Variable names'], correctAnswer: 'Subproblem results', explanation: 'Memoization caches results of expensive function calls.', type: 'multiple-choice'}], codingProblems: [{id: 'dsa-18-p1', title: 'Climbing Stairs', description: 'Count ways to climb n stairs (1 or 2 steps at a time).', difficulty: 'easy', starterCode: 'function climbStairs(n) {\\n  // Write your code here\\n  \\n}', solution: 'function climbStairs(n) {\\n  if (n <= 2) return n;\\n  const dp = [0, 1, 2];\\n  for (let i = 3; i <= n; i++) {\\n    dp[i] = dp[i-1] + dp[i-2];\\n  }\\n  return dp[n];\\n}', functionName: 'climbStairs', testCases: [{id: 't1', input: '3', expectedOutput: '3'}, {id: 't2', input: '5', expectedOutput: '8'}], hints: ['Similar to Fibonacci', 'dp[n] = dp[n-1] + dp[n-2]'], tags: ['dp']}], externalResources: [{title: 'Climbing Stairs - LeetCode', url: 'https://leetcode.com/problems/climbing-stairs/', type: 'leetcode', difficulty: 'easy'}, {title: 'Dynamic Programming - NeetCode', url: 'https://neetcode.io/roadmap', type: 'neetcode'}], gameConfig: {id: 'pattern-builder-18', type: 'pattern-builder', title: 'DP Dimension', description: 'Optimize using memoization', objective: 'Solve problems efficiently with DP', controls: 'Click to compute', passingScore: 85}},\n      {id: 'dsa-19', courseId: 'dsa', title: 'Greedy Algorithms', description: 'Making locally optimal choices', story: 'Join the Greedy Guild where best now means best overall.', narrative: 'Greedy algorithms make locally optimal choices hoping for global optimum. Works when local optimal leads to global optimal.', teachingContent: 'Greedy choice property: local optimum leads to global optimum. Used in Huffman coding, Dijkstra\\'s, interval scheduling.', xpReward: 280, challengeType: 'interactive', difficulty: 'advanced', unlocked: false, completed: false, currentStage: 'narrative', videoTopic: 'Greedy algorithms and optimization strategies', quizQuestions: [{id: 'dsa-19-q1', question: 'What does greedy algorithm do at each step?', options: ['Explores all options', 'Makes locally optimal choice', 'Uses memoization', 'Backtracks'], correctAnswer: 'Makes locally optimal choice', explanation: 'Greedy algorithms choose best immediate option without reconsidering.', type: 'multiple-choice'}], codingProblems: [{id: 'dsa-19-p1', title: 'Jump Game', description: 'Can you reach the last index by jumping?', difficulty: 'medium', starterCode: 'function canJump(nums) {\\n  // Write your code here\\n  \\n}', solution: 'function canJump(nums) {\\n  let maxReach = 0;\\n  for (let i = 0; i < nums.length; i++) {\\n    if (i > maxReach) return false;\\n    maxReach = Math.max(maxReach, i + nums[i]);\\n  }\\n  return true;\\n}', functionName: 'canJump', testCases: [{id: 't1', input: '[[2,3,1,1,4]]', expectedOutput: 'true'}, {id: 't2', input: '[[3,2,1,0,4]]', expectedOutput: 'false'}], hints: ['Track maximum reachable index', 'Update as you iterate'], tags: ['greedy']}], externalResources: [{title: 'Jump Game - LeetCode', url: 'https://leetcode.com/problems/jump-game/', type: 'leetcode', difficulty: 'medium'}, {title: 'Greedy - NeetCode', url: 'https://neetcode.io/roadmap', type: 'neetcode'}], gameConfig: {id: 'search-challenge-19', type: 'search-challenge', title: 'Greedy Guild', description: 'Make optimal local choices', objective: 'Optimize using greedy strategy', controls: 'Click to choose', passingScore: 85}},\n      {id: 'dsa-20', courseId: 'dsa', title: 'Advanced Topics', description: 'Tries, segment trees, and beyond', story: 'Reach the Masters Summit with the most complex structures.', narrative: 'Advanced data structures for specialized problems: tries for strings, segment trees for range queries, union-find for connectivity.', teachingContent: 'Trie: prefix tree for string operations. Segment tree: efficient range queries. Union-find: track connected components.', xpReward: 300, challengeType: 'interactive', difficulty: 'expert', unlocked: false, completed: false, currentStage: 'narrative', videoTopic: 'Advanced data structures: tries, segment trees, union-find', quizQuestions: [{id: 'dsa-20-q1', question: 'What is a trie optimized for?', options: ['Numeric operations', 'String prefix operations', 'Graph traversal', 'Sorting'], correctAnswer: 'String prefix operations', explanation: 'Tries excel at prefix matching and autocomplete features.', type: 'multiple-choice'}], codingProblems: [{id: 'dsa-20-p1', title: 'Implement Trie', description: 'Implement a trie with insert, search, and startsWith.', difficulty: 'medium', starterCode: 'class Trie {\\n  constructor() {\\n    // Initialize\\n  }\\n  insert(word) {}\\n  search(word) {}\\n  startsWith(prefix) {}\\n}', solution: 'class Trie {\\n  constructor() {\\n    this.root = {};\\n  }\\n  insert(word) {\\n    let node = this.root;\\n    for (let char of word) {\\n      if (!node[char]) node[char] = {};\\n      node = node[char];\\n    }\\n    node.isEnd = true;\\n  }\\n  search(word) {\\n    let node = this.root;\\n    for (let char of word) {\\n      if (!node[char]) return false;\\n      node = node[char];\\n    }\\n    return !!node.isEnd;\\n  }\\n  startsWith(prefix) {\\n    let node = this.root;\\n    for (let char of prefix) {\\n      if (!node[char]) return false;\\n      node = node[char];\\n    }\\n    return true;\\n  }\\n}', functionName: 'Trie', testCases: [{id: 't1', input: '[\"insert\",\"apple\",\"search\",\"apple\"]', expectedOutput: 'true'}], hints: ['Use nested objects to represent trie', 'Mark end of words with a flag'], tags: ['trie', 'string']}], externalResources: [{title: 'Implement Trie - LeetCode', url: 'https://leetcode.com/problems/implement-trie-prefix-tree/', type: 'leetcode', difficulty: 'medium'}, {title: 'Advanced Topics - NeetCode', url: 'https://neetcode.io/roadmap', type: 'neetcode'}], gameConfig: {id: 'pattern-builder-20', type: 'pattern-builder', title: 'Masters Summit', description: 'Master advanced data structures', objective: 'Solve complex problems', controls: 'Click to build structures', passingScore: 90}},\n    ]\n  },\n  {\n    id: 'webdev',\n    name: 'Web Development',\n    description: 'Build the Matrix - Your AI Gamified Full Stack Journey',\n    icon: 'üåê',\n    color: '#8b5cf6',\n    levels: [\n      {\n        id: 'web-1',\n        courseId: 'webdev',\n        title: 'Enter the Matrix (HTML Basics)',\n        description: 'Build the world using HTML blocks',\n        story: 'You awaken in the Matrix ‚Äî the world is blank; you must build it.',\n        narrative: 'The Matrix world needs structure. Every website begins with HTML - the skeleton that holds everything together. You will learn to create headings, paragraphs, links, images, lists, tables, and semantic tags that give meaning to your content.',\n        teachingContent: 'HTML (HyperText Markup Language) is the foundation of all web pages. Think of it as the blueprint of a building - it defines what goes where. Tags like <h1>, <p>, <img>, and <a> are your building blocks.',\n        xpReward: 150,\n        challengeType: 'interactive',\n        difficulty: 'beginner',\n        unlocked: true,\n        completed: false,\n        currentStage: 'narrative',\n        quizPassScore: 70,\n        gameConfig: {\n          id: 'markup-forge-1',\n          type: 'markup-forge',\n          title: 'The Builder\\'s Origin',\n          description: 'Construct the digital city using HTML blocks',\n          objective: 'Build structures by placing correct HTML elements',\n          controls: 'Click to place elements, WASD to move',\n          passingScore: 80,\n          importanceWhy: 'This game teaches you how HTML elements work together to create structure. Just like building blocks, each HTML tag has a specific purpose. Understanding this foundation is crucial because every website you\\'ll ever build starts with HTML structure.'\n        },\n        videoTopic: 'HTML basics and semantic HTML tutorial',\n        aiSuggestedVideos: [\n          {\n            id: 'web1-v1',\n            title: 'HTML Crash Course For Absolute Beginners',\n            channelTitle: 'Traversy Media',\n            thumbnailUrl: 'https://i.ytimg.com/vi/UB1O30fR-EE/maxresdefault.jpg',\n            videoUrl: 'https://www.youtube.com/watch?v=UB1O30fR-EE'\n          },\n          {\n            id: 'web1-v2',\n            title: 'Learn HTML5 and CSS3 From Scratch',\n            channelTitle: 'Programming with Mosh',\n            thumbnailUrl: 'https://i.ytimg.com/vi/qz0aGYrrlhU/maxresdefault.jpg',\n            videoUrl: 'https://www.youtube.com/watch?v=qz0aGYrrlhU'\n          },\n          {\n            id: 'web1-v3',\n            title: 'Semantic HTML - Why It Matters',\n            channelTitle: 'Kevin Powell',\n            thumbnailUrl: 'https://i.ytimg.com/vi/kGW8Al_cga4/maxresdefault.jpg',\n            videoUrl: 'https://www.youtube.com/watch?v=kGW8Al_cga4'\n          }\n        ],\n        quizQuestions: [\n          {\n            id: 'web-1-q1',\n            question: 'What does HTML stand for?',\n            options: ['Hyper Text Markup Language', 'High Tech Modern Language', 'Home Tool Markup Language', 'Hyperlinks and Text Markup Language'],\n            correctAnswer: 'Hyper Text Markup Language',\n            explanation: 'HTML stands for HyperText Markup Language, the standard markup language for web pages.',\n            type: 'multiple-choice'\n          },\n          {\n            id: 'web-1-q2',\n            question: 'Which tag is used to create a hyperlink?',\n            options: ['<link>', '<a>', '<href>', '<url>'],\n            correctAnswer: '<a>',\n            explanation: 'The <a> (anchor) tag is used to create hyperlinks in HTML.',\n            type: 'multiple-choice'\n          },\n          {\n            id: 'web-1-q3',\n            question: 'What is the purpose of semantic HTML?',\n            options: ['To make pages load faster', 'To give meaning to the structure', 'To add colors and styles', 'To make code shorter'],\n            correctAnswer: 'To give meaning to the structure',\n            explanation: 'Semantic HTML uses tags like <header>, <nav>, <article> to give meaning to content structure, improving accessibility and SEO.',\n            type: 'multiple-choice'\n          }\n        ],\n        codingProblems: [\n          {\n            id: 'web-1-p1',\n            title: 'Create a Profile Card',\n            description: 'Write HTML code to create a simple profile card with a heading (h1), paragraph (p), and image (img).',\n            difficulty: 'easy',\n            starterCode: 'function createProfile(name, bio, imageUrl) {\\n  // Return HTML string\\n  \\n}',\n            solution: 'function createProfile(name, bio, imageUrl) {\\n  return `<div>\\n    <h1>${name}</h1>\\n    <img src=\"${imageUrl}\" alt=\"${name}\">\\n    <p>${bio}</p>\\n  </div>`;\\n}',\n            functionName: 'createProfile',\n            testCases: [\n              { id: 't1', input: '[\"John Doe\", \"Web Developer\", \"photo.jpg\"]', expectedOutput: '\"<div>\\\\n    <h1>John Doe</h1>\\\\n    <img src=\\\\\"photo.jpg\\\\\" alt=\\\\\"John Doe\\\\\">\\\\n    <p>Web Developer</p>\\\\n  </div>\"', isHidden: false },\n              { id: 't2', input: '[\"Jane\", \"Designer\", \"avatar.png\"]', expectedOutput: '\"<div>\\\\n    <h1>Jane</h1>\\\\n    <img src=\\\\\"avatar.png\\\\\" alt=\\\\\"Jane\\\\\">\\\\n    <p>Designer</p>\\\\n  </div>\"', isHidden: false }\n            ],\n            hints: [\n              'Use template literals to build the HTML string',\n              'Include h1 for name, img for image, and p for bio',\n              'Remember to use proper HTML structure with opening and closing tags'\n            ],\n            tags: ['html', 'basics', 'web-development']\n          }\n        ],\n        externalResources: [\n          {\n            title: 'Two Sum - LeetCode',\n            url: 'https://leetcode.com/problems/two-sum/',\n            type: 'leetcode',\n            difficulty: 'easy',\n            description: 'Classic array problem - great for beginners'\n          },\n          {\n            title: 'Valid Parentheses - LeetCode',\n            url: 'https://leetcode.com/problems/valid-parentheses/',\n            type: 'leetcode',\n            difficulty: 'easy',\n            description: 'Stack-based string validation problem'\n          },\n          {\n            title: 'Palindrome Number - LeetCode',\n            url: 'https://leetcode.com/problems/palindrome-number/',\n            type: 'leetcode',\n            difficulty: 'easy',\n            description: 'Number manipulation and logic'\n          },\n          {\n            title: 'Roman to Integer - LeetCode',\n            url: 'https://leetcode.com/problems/roman-to-integer/',\n            type: 'leetcode',\n            difficulty: 'easy',\n            description: 'String processing and mapping'\n          },\n          {\n            title: 'Longest Common Prefix - LeetCode',\n            url: 'https://leetcode.com/problems/longest-common-prefix/',\n            type: 'leetcode',\n            difficulty: 'easy',\n            description: 'String comparison and iteration'\n          }\n        ]\n      },\n      {\n        id: 'web-2',\n        courseId: 'webdev',\n        title: 'The Stylist\\'s Realm (CSS)',\n        description: 'Color the Matrix with CSS styling',\n        story: 'You\\'ve built the structure, now bring color and beauty to the Matrix.',\n        narrative: 'The Matrix city exists but it\\'s gray and lifeless. CSS (Cascading Style Sheets) is your tool to paint this world - colors, layouts, animations, and responsive designs that adapt to any screen.',\n        teachingContent: 'CSS controls how HTML elements look. Selectors target elements, properties define styles. The box model (margin, padding, border) controls spacing. Flexbox and Grid create layouts. Animations bring life to static pages.',\n        xpReward: 180,\n        challengeType: 'interactive',\n        difficulty: 'beginner',\n        unlocked: true,\n        completed: false,\n        currentStage: 'narrative',\n        quizPassScore: 75,\n        videoTopic: 'CSS fundamentals: selectors, box model, flexbox, and grid',\n        aiSuggestedVideos: [\n          {\n            id: 'web2-v1',\n            title: 'CSS Crash Course For Absolute Beginners',\n            channelTitle: 'Traversy Media',\n            thumbnailUrl: 'https://i.ytimg.com/vi/yfoY53QXEnI/maxresdefault.jpg',\n            videoUrl: 'https://www.youtube.com/watch?v=yfoY53QXEnI'\n          },\n          {\n            id: 'web2-v2',\n            title: 'Learn CSS Flexbox in 20 Minutes',\n            channelTitle: 'Web Dev Simplified',\n            thumbnailUrl: 'https://i.ytimg.com/vi/FTlczfR82mQ/maxresdefault.jpg',\n            videoUrl: 'https://www.youtube.com/watch?v=FTlczfR82mQ'\n          },\n          {\n            id: 'web2-v3',\n            title: 'CSS Grid Layout Crash Course',\n            channelTitle: 'Traversy Media',\n            thumbnailUrl: 'https://i.ytimg.com/vi/jV8B24rSN5o/maxresdefault.jpg',\n            videoUrl: 'https://www.youtube.com/watch?v=jV8B24rSN5o'\n          }\n        ],\n        quizQuestions: [\n          {\n            id: 'web-2-q1',\n            question: 'What does CSS stand for?',\n            options: ['Cascading Style Sheets', 'Creative Style System', 'Computer Style Syntax', 'Colorful Style Sheets'],\n            correctAnswer: 'Cascading Style Sheets',\n            explanation: 'CSS stands for Cascading Style Sheets, used to style HTML elements.',\n            type: 'multiple-choice'\n          },\n          {\n            id: 'web-2-q2',\n            question: 'Which CSS property controls the space between an element\\'s content and its border?',\n            options: ['margin', 'padding', 'border', 'spacing'],\n            correctAnswer: 'padding',\n            explanation: 'Padding creates space between content and border. Margin is outside the border.',\n            type: 'multiple-choice'\n          }\n        ],\n        codingProblems: [\n          {\n            id: 'web-2-p1',\n            title: 'Generate CSS Styles',\n            description: 'Write a function that generates CSS styling for a card component with background color, padding, and border radius.',\n            difficulty: 'easy',\n            starterCode: 'function generateCardCSS(bgColor, padding, borderRadius) {\\n  // Return CSS string\\n  \\n}',\n            solution: 'function generateCardCSS(bgColor, padding, borderRadius) {\\n  return `.card {\\n  background-color: ${bgColor};\\n  padding: ${padding}px;\\n  border-radius: ${borderRadius}px;\\n}`;\\n}',\n            functionName: 'generateCardCSS',\n            testCases: [\n              { id: 't1', input: '[\"#fff\", 20, 8]', expectedOutput: '\".card {\\\\n  background-color: #fff;\\\\n  padding: 20px;\\\\n  border-radius: 8px;\\\\n}\"', isHidden: false }\n            ],\n            hints: ['Use template literals to build the CSS string', 'Include property names and values with proper syntax'],\n            tags: ['css', 'styling']\n          }\n        ],\n        externalResources: [\n          {\n            title: 'Best Time to Buy and Sell Stock - LeetCode',\n            url: 'https://leetcode.com/problems/best-time-to-buy-and-sell-stock/',\n            type: 'leetcode',\n            difficulty: 'easy',\n            description: 'Array manipulation and profit calculation'\n          },\n          {\n            title: 'Maximum Subarray - LeetCode',\n            url: 'https://leetcode.com/problems/maximum-subarray/',\n            type: 'leetcode',\n            difficulty: 'medium',\n            description: 'Dynamic programming classic problem'\n          },\n          {\n            title: 'Merge Two Sorted Lists - LeetCode',\n            url: 'https://leetcode.com/problems/merge-two-sorted-lists/',\n            type: 'leetcode',\n            difficulty: 'easy',\n            description: 'Linked list merging algorithm'\n          },\n          {\n            title: 'Valid Anagram - LeetCode',\n            url: 'https://leetcode.com/problems/valid-anagram/',\n            type: 'leetcode',\n            difficulty: 'easy',\n            description: 'String manipulation and sorting'\n          }\n        ],\n        gameConfig: {\n          id: 'style-spectrum-2',\n          type: 'style-spectrum',\n          title: 'Design the City',\n          description: 'Transform the grayscale city with CSS styling',\n          objective: 'Apply correct styles to restore color and layout',\n          controls: 'Select elements and apply CSS properties',\n          passingScore: 85,\n          importanceWhy: 'Styling is what separates amateur websites from professional ones. This game shows you how CSS properties work together - colors, layouts, spacing, and responsive design. Mastering CSS means you can bring any design vision to life.'\n        }\n      },\n      {\n        id: 'web-3',\n        courseId: 'webdev',\n        title: 'The Logic Chamber (JavaScript)',\n        description: 'Give life to the Matrix with JavaScript logic',\n        story: 'The city is beautiful but static. JavaScript brings intelligence and interactivity.',\n        narrative: 'Now the Matrix needs a brain. JavaScript makes websites interactive - responding to clicks, processing data, updating content dynamically. You\\'ll learn variables, functions, loops, events, and how to manipulate the DOM.',\n        teachingContent: 'JavaScript is the programming language of the web. Variables store data, functions perform actions, loops repeat tasks, and events respond to user interactions. The DOM (Document Object Model) lets you change HTML and CSS on the fly.',\n        xpReward: 220,\n        challengeType: 'interactive',\n        difficulty: 'intermediate',\n        unlocked: true,\n        completed: false,\n        currentStage: 'narrative',\n        quizPassScore: 75,\n        videoTopic: 'JavaScript fundamentals: variables, functions, DOM manipulation',\n        quizQuestions: [\n          {\n            id: 'web-3-q1',\n            question: 'What does DOM stand for?',\n            options: ['Document Object Model', 'Data Object Management', 'Digital Output Module', 'Document Oriented Markup'],\n            correctAnswer: 'Document Object Model',\n            explanation: 'DOM represents the HTML document as a tree structure that JavaScript can manipulate.',\n            type: 'multiple-choice'\n          },\n          {\n            id: 'web-3-q2',\n            question: 'Which method adds an event listener to an HTML element?',\n            options: ['addEventListener', 'attachEvent', 'onClick', 'bindEvent'],\n            correctAnswer: 'addEventListener',\n            explanation: 'addEventListener is the standard method to attach event handlers to elements.',\n            type: 'multiple-choice'\n          }\n        ],\n        codingProblems: [\n          {\n            id: 'web-3-p1',\n            title: 'Toggle Class',\n            description: 'Write a function that toggles a CSS class on an element (returns new class list as string).',\n            difficulty: 'easy',\n            starterCode: 'function toggleClass(currentClasses, toggleClass) {\\n  // currentClasses is string like \"btn active\"\\n  // Return new classes after toggle\\n  \\n}',\n            solution: 'function toggleClass(currentClasses, toggleClass) {\\n  const classes = currentClasses.split(\" \").filter(c => c);\\n  const index = classes.indexOf(toggleClass);\\n  if (index > -1) classes.splice(index, 1);\\n  else classes.push(toggleClass);\\n  return classes.join(\" \");\\n}',\n            functionName: 'toggleClass',\n            testCases: [\n              { id: 't1', input: '[\"btn\", \"active\"]', expectedOutput: '\"btn active\"', isHidden: false },\n              { id: 't2', input: '[\"btn active\", \"active\"]', expectedOutput: '\"btn\"', isHidden: false }\n            ],\n            hints: ['Split the class string into an array', 'Check if the class exists, add or remove accordingly'],\n            tags: ['javascript', 'dom']\n          }\n        ],\n        externalResources: [\n          {\n            title: 'JavaScript Guide - MDN',\n            url: 'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide',\n            type: 'documentation',\n            description: 'Comprehensive JavaScript guide'\n          },\n          {\n            title: 'JavaScript30 - Free Course',\n            url: 'https://javascript30.com/',\n            type: 'article',\n            description: '30 Day Vanilla JS Coding Challenge'\n          }\n        ],\n        gameConfig: {\n          id: 'script-circuit-3',\n          type: 'script-circuit',\n          title: 'The Code Core',\n          description: 'Fix broken bots using JavaScript commands',\n          objective: 'Write JavaScript logic to activate circuit nodes',\n          controls: 'Type code, click to execute',\n          passingScore: 80,\n          importanceWhy: 'JavaScript is where web development becomes powerful. This game demonstrates core programming concepts - variables, functions, loops - in a visual way. Every interactive feature you\\'ve ever used on a website uses JavaScript.'\n        }\n      },\n      {\n        id: 'web-4',\n        courseId: 'webdev',\n        title: 'The Portal of Components (React.js)',\n        description: 'Master component-based architecture',\n        story: 'You can now manipulate the Matrix using reusable components.',\n        narrative: 'Building complex interfaces one element at a time is inefficient. React teaches you to think in components - reusable, composable pieces that manage their own state and can be combined to build sophisticated applications.',\n        teachingContent: 'React is a JavaScript library for building user interfaces. Components are like custom HTML tags you create. Props pass data down, State manages data within. Hooks like useState and useEffect add functionality. React makes complex UIs manageable.',\n        xpReward: 280,\n        challengeType: 'interactive',\n        difficulty: 'intermediate',\n        unlocked: true,\n        completed: false,\n        currentStage: 'narrative',\n        quizPassScore: 80,\n        videoTopic: 'React fundamentals: components, props, state, and hooks',\n        quizQuestions: [\n          {\n            id: 'web-4-q1',\n            question: 'What is the correct way to pass data to a child component in React?',\n            options: ['Props', 'State', 'Context', 'Refs'],\n            correctAnswer: 'Props',\n            explanation: 'Props (properties) are used to pass data from parent to child components.',\n            type: 'multiple-choice'\n          },\n          {\n            id: 'web-4-q2',\n            question: 'Which hook is used to manage component state in React?',\n            options: ['useState', 'useEffect', 'useContext', 'useRef'],\n            correctAnswer: 'useState',\n            explanation: 'useState hook allows functional components to have state.',\n            type: 'multiple-choice'\n          }\n        ],\n        codingProblems: [\n          {\n            id: 'web-4-p1',\n            title: 'Create React Component String',\n            description: 'Write a function that generates a simple React component string with given name and props.',\n            difficulty: 'medium',\n            starterCode: 'function createComponent(name, propsObj) {\\n  // Return JSX-like string\\n  \\n}',\n            solution: 'function createComponent(name, propsObj) {\\n  const props = Object.entries(propsObj).map(([k,v]) => `${k}=\"${v}\"`).join(\" \");\\n  return `<${name} ${props} />`;\\n}',\n            functionName: 'createComponent',\n            testCases: [\n              { id: 't1', input: '[\"Button\", {\"color\": \"blue\", \"size\": \"large\"}]', expectedOutput: '\"<Button color=\\\\\"blue\\\\\" size=\\\\\"large\\\\\" />\"', isHidden: false }\n            ],\n            hints: ['Convert props object to key=\"value\" format', 'Combine into JSX-like syntax'],\n            tags: ['react', 'jsx']\n          }\n        ],\n        externalResources: [\n          {\n            title: 'React Documentation',\n            url: 'https://react.dev/',\n            type: 'documentation',\n            description: 'Official React documentation'\n          },\n          {\n            title: 'React Tutorial - Scrimba',\n            url: 'https://scrimba.com/learn/learnreact',\n            type: 'article',\n            description: 'Interactive React course'\n          }\n        ],\n        gameConfig: {\n          id: 'component-link-4',\n          type: 'component-link',\n          title: 'Build the Resistance Network',\n          description: 'Create a dashboard by connecting React components',\n          objective: 'Link components with correct props and state',\n          controls: 'Drag to connect, click to configure',\n          passingScore: 85,\n          importanceWhy: 'React revolutionized web development by introducing component thinking. This game shows how components communicate through props, manage internal state, and compose into complex interfaces. Understanding this pattern is essential for modern web development.'\n        }\n      },\n      {\n        id: 'web-5',\n        courseId: 'webdev',\n        title: 'The Underworld of Servers (Node.js + Express)',\n        description: 'Build the backend infrastructure',\n        story: 'The Matrix backend is corrupted ‚Äî rebuild it with server logic.',\n        narrative: 'Every website needs a server - something that stores data, processes requests, and sends responses. Node.js lets you write server code in JavaScript. Express makes it easy to create APIs that your frontend can talk to.',\n        teachingContent: 'Node.js runs JavaScript outside the browser. Express is a framework for building web servers. REST APIs use HTTP methods (GET, POST, PUT, DELETE) to perform operations. Routing directs requests, middleware processes them, and responses send data back.',\n        xpReward: 320,\n        challengeType: 'interactive',\n        difficulty: 'advanced',\n        unlocked: true,\n        completed: false,\n        currentStage: 'narrative',\n        quizPassScore: 80,\n        videoTopic: 'Node.js and Express: building REST APIs and server-side logic',\n        quizQuestions: [\n          {\n            id: 'web-5-q1',\n            question: 'What HTTP method is used to retrieve data from a server?',\n            options: ['GET', 'POST', 'PUT', 'DELETE'],\n            correctAnswer: 'GET',\n            explanation: 'GET requests retrieve data without modifying it on the server.',\n            type: 'multiple-choice'\n          },\n          {\n            id: 'web-5-q2',\n            question: 'What is middleware in Express.js?',\n            options: ['Functions that process requests before reaching route handlers', 'Database connectors', 'Template engines', 'Error handlers only'],\n            correctAnswer: 'Functions that process requests before reaching route handlers',\n            explanation: 'Middleware functions have access to request, response, and can modify them or end the request-response cycle.',\n            type: 'multiple-choice'\n          }\n        ],\n        codingProblems: [\n          {\n            id: 'web-5-p1',\n            title: 'Create API Route',\n            description: 'Write a function that returns an API route definition object with method, path, and handler.',\n            difficulty: 'medium',\n            starterCode: 'function createRoute(method, path, data) {\\n  // Return route object\\n  \\n}',\n            solution: 'function createRoute(method, path, data) {\\n  return { method, path, handler: () => data };\\n}',\n            functionName: 'createRoute',\n            testCases: [\n              { id: 't1', input: '[\"GET\", \"/api/users\", {\"users\": []}]', expectedOutput: '{\"method\":\"GET\",\"path\":\"/api/users\"}', isHidden: false }\n            ],\n            hints: ['Return an object with method, path, and handler properties', 'Handler should be a function returning data'],\n            tags: ['nodejs', 'express', 'api']\n          }\n        ],\n        externalResources: [\n          {\n            title: 'Express.js Guide',\n            url: 'https://expressjs.com/en/guide/routing.html',\n            type: 'documentation',\n            description: 'Official Express routing guide'\n          },\n          {\n            title: 'Node.js Best Practices',\n            url: 'https://github.com/goldbergyoni/nodebestpractices',\n            type: 'article',\n            description: 'Comprehensive Node.js best practices'\n          }\n        ],\n        gameConfig: {\n          id: 'service-runner-5',\n          type: 'service-runner',\n          title: 'Server Reboot Protocol',\n          description: 'Repair server nodes through API routing puzzles',\n          objective: 'Connect routes to correct handlers and middleware',\n          controls: 'Click to route requests, configure endpoints',\n          passingScore: 85,\n          importanceWhy: 'Backend development is where data lives. This game visualizes how HTTP requests flow through routes and middleware to endpoints. Understanding the server-side is crucial - without it, your frontend has nowhere to save or fetch data.'\n        }\n      },\n      {\n        id: 'web-6',\n        courseId: 'webdev',\n        title: 'The Memory Grid (Database)',\n        description: 'Restore the world\\'s data and memory',\n        story: 'Data fragments are lost ‚Äî restore the Matrix\\'s memory with database operations.',\n        narrative: 'Your application needs to remember things - user accounts, posts, settings. Databases store this information permanently. You\\'ll learn about SQL vs NoSQL, creating schemas, relationships between data, and performing CRUD operations.',\n        teachingContent: 'Databases persist data beyond page refreshes. SQL databases (PostgreSQL, MySQL) use structured tables with relationships. NoSQL databases (MongoDB) use flexible documents. Schemas define data structure. CRUD means Create, Read, Update, Delete - the four basic operations.',\n        xpReward: 350,\n        challengeType: 'interactive',\n        difficulty: 'advanced',\n        unlocked: true,\n        completed: false,\n        currentStage: 'narrative',\n        quizPassScore: 80,\n        videoTopic: 'SQL databases, schemas, and CRUD operations tutorial',\n        quizQuestions: [\n          {\n            id: 'web-6-q1',\n            question: 'What does CRUD stand for in database operations?',\n            options: ['Create, Read, Update, Delete', 'Connect, Retrieve, Upload, Download', 'Copy, Run, Update, Delete', 'Create, Remove, Upload, Deploy'],\n            correctAnswer: 'Create, Read, Update, Delete',\n            explanation: 'CRUD represents the four basic operations for persistent storage.',\n            type: 'multiple-choice'\n          },\n          {\n            id: 'web-6-q2',\n            question: 'What SQL command is used to retrieve data?',\n            options: ['SELECT', 'GET', 'FETCH', 'RETRIEVE'],\n            correctAnswer: 'SELECT',\n            explanation: 'SELECT is the SQL command to query and retrieve data from database tables.',\n            type: 'multiple-choice'\n          }\n        ],\n        codingProblems: [\n          {\n            id: 'web-6-p1',\n            title: 'Build SQL Query',\n            description: 'Write a function that generates a SQL SELECT query for a given table and columns.',\n            difficulty: 'easy',\n            starterCode: 'function buildQuery(table, columns) {\\n  // Return SQL query string\\n  \\n}',\n            solution: 'function buildQuery(table, columns) {\\n  return `SELECT ${columns.join(\", \")} FROM ${table};`;\\n}',\n            functionName: 'buildQuery',\n            testCases: [\n              { id: 't1', input: '[\"users\", [\"id\", \"name\", \"email\"]]', expectedOutput: '\"SELECT id, name, email FROM users;\"', isHidden: false }\n            ],\n            hints: ['Use SELECT keyword followed by column names', 'End with FROM table_name'],\n            tags: ['sql', 'database']\n          }\n        ],\n        externalResources: [\n          {\n            title: 'SQL Tutorial - W3Schools',\n            url: 'https://www.w3schools.com/sql/',\n            type: 'documentation',\n            description: 'Interactive SQL tutorial'\n          },\n          {\n            title: 'PostgreSQL Documentation',\n            url: 'https://www.postgresql.org/docs/',\n            type: 'documentation',\n            description: 'Official PostgreSQL docs'\n          }\n        ],\n        gameConfig: {\n          id: 'data-bridge-6',\n          type: 'data-bridge',\n          title: 'Data Reconstruction',\n          description: 'Collect and connect data shards into meaningful relationships',\n          objective: 'Build database schema and establish relationships',\n          controls: 'Drag tables, connect relationships',\n          passingScore: 85,\n          importanceWhy: 'Databases are the foundation of data-driven applications. This game shows how data relates - users have posts, posts have comments. Understanding relationships and schema design determines how well your application scales and performs.'\n        }\n      },\n      {\n        id: 'web-7',\n        courseId: 'webdev',\n        title: 'The Final Layer (Deployment & Integration)',\n        description: 'Release your creation to the real world',\n        story: 'It\\'s time to release the Matrix to the world beyond.',\n        narrative: 'You\\'ve built a complete application - frontend, backend, and database. Now you need to deploy it so anyone can access it. Learn about environment variables, version control with Git, CI/CD pipelines, and deployment platforms.',\n        teachingContent: 'Deployment means making your app accessible on the internet. Git tracks code changes. Environment variables store secrets securely. CI/CD automates testing and deployment. Platforms like Render, Vercel, and Replit host your application. HTTPS encrypts connections.',\n        xpReward: 400,\n        challengeType: 'interactive',\n        difficulty: 'advanced',\n        unlocked: true,\n        completed: false,\n        currentStage: 'narrative',\n        quizPassScore: 85,\n        gameConfig: {\n          id: 'deploy-orbit-7',\n          type: 'deploy-orbit',\n          title: 'The Great Launch',\n          description: 'Deploy your project and launch it to production',\n          objective: 'Configure deployment pipeline and fix environment issues',\n          controls: 'Click to configure, solve deployment puzzles',\n          passingScore: 90,\n          importanceWhy: 'Building something amazing means nothing if no one can use it. This game simulates real deployment challenges - environment variables, build errors, DNS configuration. Mastering deployment means you can ship your ideas to real users.'\n        }\n      }\n    ]\n  },\n  {\n    id: 'aiml',\n    name: 'AI & Machine Learning',\n    description: 'Explore artificial intelligence',\n    icon: 'ü§ñ',\n    color: '#ec4899',\n    levels: [\n      {\n        id: 'ai-1',\n        courseId: 'aiml',\n        title: 'Introduction to AI',\n        description: 'What is artificial intelligence?',\n        story: 'Welcome to the AI Realm, where machines learn and evolve!',\n        xpReward: 100,\n        challengeType: 'quiz',\n        difficulty: 'beginner',\n        unlocked: true,\n        completed: false,\n      },\n      {\n        id: 'ai-2',\n        courseId: 'aiml',\n        title: 'Neural Networks',\n        description: 'Understanding brain-inspired computing',\n        story: 'Dive into the Neural Network Nexus and unlock the secrets of machine cognition.',\n        xpReward: 150,\n        challengeType: 'interactive',\n        difficulty: 'intermediate',\n        unlocked: false,\n        completed: false,\n      }\n    ]\n  },\n  {\n    id: 'cloud',\n    name: 'Cloud & DevOps',\n    description: 'Deploy and scale applications',\n    icon: '‚òÅÔ∏è',\n    color: '#10b981',\n    levels: [\n      {\n        id: 'cloud-1',\n        courseId: 'cloud',\n        title: 'Cloud Computing Basics',\n        description: 'Introduction to cloud platforms',\n        story: 'Ascend to the Cloud City and learn to deploy your applications to the sky!',\n        xpReward: 100,\n        challengeType: 'quiz',\n        difficulty: 'beginner',\n        unlocked: true,\n        completed: false,\n      },\n      {\n        id: 'cloud-2',\n        courseId: 'cloud',\n        title: 'Docker Containers',\n        description: 'Containerize your applications',\n        story: 'Master the art of containerization in the Docker Docks.',\n        xpReward: 150,\n        challengeType: 'interactive',\n        difficulty: 'intermediate',\n        unlocked: false,\n        completed: false,\n      }\n    ]\n  }\n];\n\nexport const useLearning = create<LearningState>()(\n  persist(\n    (set, get) => ({\n      user: null,\n      courses: initialCourses,\n      userProgress: {\n        userId: 'guest',\n        totalXP: 0,\n        level: 1,\n        badges: [],\n        completedLevels: [],\n        currentCourse: null,\n        currentLevel: null,\n      },\n      aiCompanion: {\n        isActive: false,\n        messages: [],\n        currentHint: null,\n        adaptiveDifficulty: 1,\n      },\n      \n      login: async (username: string, password: string) => {\n        const response = await fetch('/api/auth/login', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ username, password }),\n        });\n        \n        if (!response.ok) {\n          const error = await response.json();\n          throw new Error(error.error || 'Login failed');\n        }\n        \n        const data = await response.json();\n        set({ user: data.user });\n        \n        await get().syncProgress();\n      },\n      \n      signup: async (username: string, password: string, email?: string) => {\n        const response = await fetch('/api/auth/signup', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ username, password, email }),\n        });\n        \n        if (!response.ok) {\n          const error = await response.json();\n          throw new Error(error.error || 'Signup failed');\n        }\n        \n        const data = await response.json();\n        set({ user: data.user });\n        \n        await get().syncProgress();\n      },\n      \n      logout: () => {\n        set({\n          user: null,\n          userProgress: {\n            userId: 'guest',\n            totalXP: 0,\n            level: 1,\n            badges: [],\n            completedLevels: [],\n            currentCourse: null,\n            currentLevel: null,\n          }\n        });\n      },\n      \n      syncProgress: async () => {\n        const { user } = get();\n        if (!user) return;\n        \n        try {\n          const response = await fetch(`/api/progress`);\n          if (response.ok) {\n            const data = await response.json();\n            \n            if (data.progress) {\n              set((state) => ({\n                userProgress: {\n                  userId: user.id.toString(),\n                  totalXP: data.progress.totalXP || 0,\n                  level: data.progress.level || 1,\n                  badges: data.badges || [],\n                  completedLevels: data.completedLevels?.map((cl: any) => cl.levelId) || [],\n                  currentCourse: data.progress.currentCourse,\n                  currentLevel: data.progress.currentLevel,\n                },\n                courses: state.courses.map(course => ({\n                  ...course,\n                  levels: course.levels.map((level, index) => {\n                    const isCompleted = data.completedLevels?.some((cl: any) => cl.levelId === level.id);\n                    const prevCompleted = index === 0 || data.completedLevels?.some((cl: any) => cl.levelId === course.levels[index - 1].id);\n                    return {\n                      ...level,\n                      completed: isCompleted,\n                      unlocked: index === 0 || prevCompleted,\n                    };\n                  })\n                }))\n              }));\n            }\n          }\n        } catch (error) {\n          console.error('Failed to sync progress:', error);\n        }\n      },\n      \n      setCourses: (courses) => set({ courses }),\n      \n      selectCourse: (courseId) => set((state) => ({\n        userProgress: {\n          ...state.userProgress,\n          currentCourse: courseId,\n          currentLevel: null,\n        }\n      })),\n      \n      selectLevel: (levelId) => {\n        set((state) => {\n          const updatedCourses = state.courses.map(course => ({\n            ...course,\n            levels: course.levels.map(level => \n              level.id === levelId \n                ? { ...level, currentStage: 'narrative' as LevelStage }\n                : level\n            )\n          }));\n          \n          return {\n            courses: updatedCourses,\n            userProgress: {\n              ...state.userProgress,\n              currentLevel: levelId,\n            }\n          };\n        });\n      },\n      \n      advanceStage: (levelId, newStage) => {\n        const stageOrder: LevelStage[] = ['narrative', 'teaching-game', 'ai-videos', 'assessment', 'practice-game', 'resources', 'complete'];\n\n        const state = get();\n        const level = state.courses\n          .flatMap(c => c.levels)\n          .find(l => l.id === levelId);\n\n        if (!level) {\n          console.error(`Level ${levelId} not found`);\n          return false;\n        }\n\n        const currentStage = level.currentStage || 'narrative';\n\n        if (currentStage === newStage) {\n          console.warn(`Level already on stage ${newStage}`);\n          return false;\n        }\n\n        const currentIndex = stageOrder.indexOf(currentStage);\n        const newIndex = stageOrder.indexOf(newStage);\n\n        const hasGame = !!level.gameConfig;\n        const hasResources = !!level.externalResources && level.externalResources.length > 0;\n\n        const isValidTransition =\n          newIndex > currentIndex ||\n          (newIndex === stageOrder.indexOf('complete') && !hasResources && currentStage === 'practice-game') ||\n          (newIndex === 0 && currentStage !== 'teaching-game') ||\n          (currentStage === 'ai-videos' && newStage === 'teaching-game');\n\n        if (!isValidTransition) {\n          console.error(`Invalid stage transition from ${currentStage} to ${newStage}`);\n          return false;\n        }\n\n        set((state) => ({\n          courses: state.courses.map(course => ({\n            ...course,\n            levels: course.levels.map(level =>\n              level.id === levelId\n                ? { ...level, currentStage: newStage }\n                : level\n            )\n          }))\n        }));\n\n        return true;\n      },\n\n      goBackStage: (levelId) => {\n        const stageOrder: LevelStage[] = ['narrative', 'teaching-game', 'ai-videos', 'assessment', 'practice-game', 'resources', 'complete'];\n\n        const state = get();\n        const level = state.courses\n          .flatMap(c => c.levels)\n          .find(l => l.id === levelId);\n\n        if (!level) {\n          console.error(`Level ${levelId} not found`);\n          return false;\n        }\n\n        const currentStage = level.currentStage || 'narrative';\n        const currentIndex = stageOrder.indexOf(currentStage);\n\n        if (currentIndex <= 0) {\n          console.warn(`Cannot go back from the first stage: ${currentStage}`);\n          return false;\n        }\n\n        const previousStage = stageOrder[currentIndex - 1];\n\n        set((state) => ({\n          courses: state.courses.map(course => ({\n            ...course,\n            levels: course.levels.map(level =>\n              level.id === levelId\n                ? { ...level, currentStage: previousStage }\n                : level\n            )\n          }))\n        }));\n\n        return true;\n      },\n      \n      startGame: (levelId) => {\n        const { courses, userProgress } = get();\n        const level = courses\n          .flatMap(c => c.levels)\n          .find(l => l.id === levelId);\n        \n        if (!level?.gameConfig) {\n          console.error('No game config found for level:', levelId);\n          return false;\n        }\n        \n        const currentStage = level.currentStage || 'narrative';\n        if (currentStage !== 'practice-game' && currentStage !== 'teaching-game') {\n          console.error(`Cannot start game from stage ${currentStage}. Must be in practice-game or teaching-game stage.`);\n          return false;\n        }\n        \n        const existingGame = userProgress.currentGame;\n        const isResuming = existingGame?.levelId === levelId;\n        \n        set((state) => ({\n          userProgress: {\n            ...state.userProgress,\n            currentGame: {\n              levelId,\n              gameId: level.gameConfig!.id,\n              attempts: isResuming && existingGame ? existingGame.attempts : 0,\n              bestScore: isResuming && existingGame ? existingGame.bestScore : 0,\n              timeSpent: isResuming && existingGame ? existingGame.timeSpent : 0,\n              completed: false,\n            }\n          }\n        }));\n        \n        return true;\n      },\n      \n      completeGame: async (levelId, result) => {\n        const { userProgress } = get();\n        \n        const currentGame = userProgress.currentGame;\n        if (!currentGame) {\n          console.error('No active game session to complete');\n          return;\n        }\n        \n        const newBestScore = Math.max(currentGame.bestScore, result.score);\n        const newAttempts = currentGame.attempts + 1;\n        const newTimeSpent = currentGame.timeSpent + result.timeSpent;\n        \n        if (result.success) {\n          set((state) => ({\n            userProgress: {\n              ...state.userProgress,\n              currentGame: {\n                ...currentGame,\n                attempts: newAttempts,\n                bestScore: newBestScore,\n                timeSpent: newTimeSpent,\n                completed: true,\n              }\n            }\n          }));\n          \n          await get().completeLevel(levelId, result.xpEarned);\n\n          get().advanceStage(levelId, 'assessment');\n          \n          set((state) => ({\n            userProgress: {\n              ...state.userProgress,\n              currentGame: null,\n            }\n          }));\n        } else {\n          set((state) => ({\n            userProgress: {\n              ...state.userProgress,\n              currentGame: {\n                ...currentGame,\n                attempts: newAttempts,\n                bestScore: newBestScore,\n                timeSpent: newTimeSpent,\n              }\n            }\n          }));\n        }\n      },\n      \n      completeLevel: async (levelId, xpEarned) => {\n        const { user, userProgress, courses } = get();\n        const newTotalXP = userProgress.totalXP + xpEarned;\n        const newLevel = Math.floor(newTotalXP / 500) + 1;\n        \n        const courseId = courses.find(c => c.levels.some(l => l.id === levelId))?.id || '';\n        \n        const updatedCourses = courses.map(course => ({\n          ...course,\n          levels: course.levels.map((level, index) => {\n            if (level.id === levelId) {\n              return { ...level, completed: true };\n            }\n            if (course.levels[index - 1]?.id === levelId) {\n              return { ...level, unlocked: true };\n            }\n            return level;\n          })\n        }));\n        \n        set({\n          courses: updatedCourses,\n          userProgress: {\n            ...userProgress,\n            totalXP: newTotalXP,\n            level: newLevel,\n            completedLevels: [...userProgress.completedLevels, levelId],\n          }\n        });\n        \n        if (user) {\n          try {\n            await fetch('/api/progress/complete-level', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({ levelId, courseId, xpEarned }),\n            });\n            \n            await fetch('/api/progress/update', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({\n                totalXP: newTotalXP,\n                level: newLevel,\n                currentCourse: courseId,\n                currentLevel: levelId,\n              }),\n            });\n          } catch (error) {\n            console.error('Failed to save progress to database:', error);\n          }\n        }\n      },\n      \n      addBadge: async (badge) => {\n        const { user } = get();\n        \n        set((state) => ({\n          userProgress: {\n            ...state.userProgress,\n            badges: [...state.userProgress.badges, badge],\n          }\n        }));\n        \n        if (user) {\n          try {\n            await fetch('/api/badges/earn', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({\n                badgeId: badge.id,\n                name: badge.name,\n                description: badge.description,\n                icon: badge.icon,\n                rarity: badge.rarity || 'common',\n              }),\n            });\n          } catch (error) {\n            console.error('Failed to save badge to database:', error);\n          }\n        }\n      },\n      \n      updateAIMessages: (message) => set((state) => ({\n        aiCompanion: {\n          ...state.aiCompanion,\n          messages: [\n            ...state.aiCompanion.messages,\n            { ...message, timestamp: new Date() }\n          ]\n        }\n      })),\n      \n      toggleAICompanion: () => set((state) => ({\n        aiCompanion: {\n          ...state.aiCompanion,\n          isActive: !state.aiCompanion.isActive,\n        }\n      })),\n      \n      setCurrentHint: (hint) => set((state) => ({\n        aiCompanion: {\n          ...state.aiCompanion,\n          currentHint: hint,\n        }\n      })),\n    }),\n    {\n      name: 'skillquest-learning',\n      version: 3,\n      migrate: (persistedState: any, version: number) => {\n        if (version < 2) {\n          console.log('Migrating from version', version, 'to version 2 - Resetting all level stages');\n          \n          if (persistedState.courses) {\n            persistedState.courses = persistedState.courses.map((course: any) => ({\n              ...course,\n              levels: course.levels.map((level: any) => ({\n                ...level,\n                currentStage: 'narrative'\n              }))\n            }));\n          }\n          \n          if (persistedState.userProgress) {\n            persistedState.userProgress.currentLevel = null;\n          }\n        }\n        return persistedState;\n      }\n    }\n  )\n);\n","size_bytes":104116},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1877},"client/src/games/PatternBuilder.tsx":{"content":"import type { GameProps } from './types';\n\nexport function PatternBuilder({ config, onComplete, onExit }: GameProps) {\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4\">\n      <div className=\"text-center\">\n        <h1 className=\"text-4xl font-bold text-white mb-4\">{config.title}</h1>\n        <p className=\"text-slate-300 mb-8\">[Pattern Builder - Coming Soon]</p>\n        <button\n          onClick={onExit}\n          className=\"px-6 py-3 bg-slate-600 hover:bg-slate-700 text-white rounded-lg font-semibold\"\n        >\n          Exit\n        </button>\n      </div>\n    </div>\n  );\n}\n","size_bytes":613},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { VariantProps, cva } from \"class-variance-authority\";\nimport { PanelLeft } from \"lucide-react\";\n\nimport { useIsMobile } from \"@/hooks/use-is-mobile\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\";\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\nconst SIDEBAR_WIDTH = \"16rem\";\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\";\nconst SIDEBAR_WIDTH_ICON = \"3rem\";\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\n\ntype SidebarContext = {\n  state: \"expanded\" | \"collapsed\";\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  openMobile: boolean;\n  setOpenMobile: (open: boolean) => void;\n  isMobile: boolean;\n  toggleSidebar: () => void;\n};\n\nconst SidebarContext = React.createContext<SidebarContext | null>(null);\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext);\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\n  }\n\n  return context;\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean;\n    open?: boolean;\n    onOpenChange?: (open: boolean) => void;\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref,\n  ) => {\n    const isMobile = useIsMobile();\n    const [openMobile, setOpenMobile] = React.useState(false);\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen);\n    const open = openProp ?? _open;\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value;\n        if (setOpenProp) {\n          setOpenProp(openState);\n        } else {\n          _setOpen(openState);\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\n      },\n      [setOpenProp, open],\n    );\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open);\n    }, [isMobile, setOpen, setOpenMobile]);\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault();\n          toggleSidebar();\n        }\n      };\n\n      window.addEventListener(\"keydown\", handleKeyDown);\n      return () => window.removeEventListener(\"keydown\", handleKeyDown);\n    }, [toggleSidebar]);\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\";\n\n    const contextValue = React.useMemo<SidebarContext>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      ],\n    );\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className,\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    );\n  },\n);\nSidebarProvider.displayName = \"SidebarProvider\";\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\";\n    variant?: \"sidebar\" | \"floating\" | \"inset\";\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\";\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref,\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className,\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      );\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      );\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\",\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className,\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\nSidebar.displayName = \"Sidebar\";\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar();\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event);\n        toggleSidebar();\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  );\n});\nSidebarTrigger.displayName = \"SidebarTrigger\";\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar();\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarRail.displayName = \"SidebarRail\";\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarInset.displayName = \"SidebarInset\";\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarInput.displayName = \"SidebarInput\";\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  );\n});\nSidebarHeader.displayName = \"SidebarHeader\";\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  );\n});\nSidebarFooter.displayName = \"SidebarFooter\";\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  );\n});\nSidebarSeparator.displayName = \"SidebarSeparator\";\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarContent.displayName = \"SidebarContent\";\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  );\n});\nSidebarGroup.displayName = \"SidebarGroup\";\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\";\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarGroupAction.displayName = \"SidebarGroupAction\";\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n));\nSidebarGroupContent.displayName = \"SidebarGroupContent\";\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n));\nSidebarMenu.displayName = \"SidebarMenu\";\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n));\nSidebarMenuItem.displayName = \"SidebarMenuItem\";\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    isActive?: boolean;\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>;\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref,\n  ) => {\n    const Comp = asChild ? Slot : \"button\";\n    const { isMobile, state } = useSidebar();\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    );\n\n    if (!tooltip) {\n      return button;\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      };\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    );\n  },\n);\nSidebarMenuButton.displayName = \"SidebarMenuButton\";\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    showOnHover?: boolean;\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuAction.displayName = \"SidebarMenuAction\";\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className,\n    )}\n    {...props}\n  />\n));\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\";\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean;\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`;\n  }, []);\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  );\n});\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\";\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className,\n    )}\n    {...props}\n  />\n));\nSidebarMenuSub.displayName = \"SidebarMenuSub\";\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />);\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\";\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean;\n    size?: \"sm\" | \"md\";\n    isActive?: boolean;\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\";\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n};\n","size_bytes":23790},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1419},"server/services/aiTutor.ts":{"content":"import OpenAI from 'openai';\n\nconst openai = process.env.OPENAI_API_KEY ? new OpenAI({ apiKey: process.env.OPENAI_API_KEY }) : null;\n\ninterface BehavioralData {\n  timeToSolve: number;\n  hintsUsed: number;\n  mistakeCount: number;\n  attemptsCount: number;\n  successRate: number;\n}\n\nexport interface PerformanceAnalysis {\n  strengths: string[];\n  weaknesses: string[];\n  recommendedDifficulty: 'beginner' | 'intermediate' | 'advanced' | 'expert';\n  suggestedTopics: string[];\n  encouragement: string;\n}\n\nexport async function analyzeUserPerformance(\n  userId: number,\n  currentTopic: string,\n  behavioralData: BehavioralData[]\n): Promise<PerformanceAnalysis> {\n  if (!openai) {\n    return getFallbackAnalysis(behavioralData);\n  }\n\n  try {\n    const avgTime = behavioralData.reduce((sum, d) => sum + d.timeToSolve, 0) / behavioralData.length;\n    const avgHints = behavioralData.reduce((sum, d) => sum + d.hintsUsed, 0) / behavioralData.length;\n    const avgMistakes = behavioralData.reduce((sum, d) => sum + d.mistakeCount, 0) / behavioralData.length;\n    const avgSuccess = behavioralData.reduce((sum, d) => sum + d.successRate, 0) / behavioralData.length;\n\n    const prompt = `Analyze this student's learning performance for ${currentTopic}:\n- Average time to solve: ${avgTime}s\n- Average hints used: ${avgHints}\n- Average mistakes: ${avgMistakes}\n- Success rate: ${avgSuccess}%\n\nProvide:\n1. 2-3 specific strengths\n2. 2-3 areas for improvement\n3. Recommended difficulty level (beginner/intermediate/advanced/expert)\n4. 2-3 suggested related topics to study next\n5. Brief encouraging message\n\nFormat as JSON with fields: strengths[], weaknesses[], recommendedDifficulty, suggestedTopics[], encouragement`;\n\n    const response = await openai.chat.completions.create({\n      model: 'gpt-4o-mini',\n      messages: [{ role: 'user', content: prompt }],\n      temperature: 0.7,\n    });\n\n    const analysis = JSON.parse(response.choices[0].message.content || '{}');\n    return analysis;\n  } catch (error) {\n    console.error('AI tutor analysis error:', error);\n    return getFallbackAnalysis(behavioralData);\n  }\n}\n\nfunction getFallbackAnalysis(data: BehavioralData[]): PerformanceAnalysis {\n  const avgSuccess = data.reduce((sum, d) => sum + d.successRate, 0) / data.length;\n  const avgHints = data.reduce((sum, d) => sum + d.hintsUsed, 0) / data.length;\n  \n  let recommendedDifficulty: 'beginner' | 'intermediate' | 'advanced' | 'expert' = 'beginner';\n  if (avgSuccess > 80 && avgHints < 1) recommendedDifficulty = 'expert';\n  else if (avgSuccess > 70) recommendedDifficulty = 'advanced';\n  else if (avgSuccess > 50) recommendedDifficulty = 'intermediate';\n\n  return {\n    strengths: avgSuccess > 60 ? ['Good problem-solving speed', 'Consistent performance'] : ['Perseverance'],\n    weaknesses: avgHints > 2 ? ['Consider reviewing fundamentals', 'Practice more independently'] : ['Keep challenging yourself'],\n    recommendedDifficulty,\n    suggestedTopics: ['Related algorithms', 'Data structures practice'],\n    encouragement: 'Keep up the great work! Every challenge makes you stronger.',\n  };\n}\n\nexport async function getAdaptiveHint(\n  topic: string,\n  userCode: string,\n  mistakesMade: number\n): Promise<string> {\n  if (!openai) {\n    return `Hint: Think about how ${topic} works step by step. Try breaking down the problem.`;\n  }\n\n  try {\n    const hintLevel = mistakesMade < 2 ? 'subtle' : mistakesMade < 4 ? 'moderate' : 'direct';\n    \n    const prompt = `Provide a ${hintLevel} hint for this ${topic} problem. User's current code:\n${userCode}\n\nMistakes made so far: ${mistakesMade}\nGive an encouraging ${hintLevel} hint without spoiling the solution.`;\n\n    const response = await openai.chat.completions.create({\n      model: 'gpt-4o-mini',\n      messages: [{ role: 'user', content: prompt }],\n      temperature: 0.8,\n    });\n\n    return response.choices[0].message.content || 'Keep trying! You\\'re on the right track.';\n  } catch (error) {\n    console.error('Adaptive hint error:', error);\n    return `Hint: Consider the key concepts of ${topic}. What patterns do you see?`;\n  }\n}\n","size_bytes":4086},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey[0] as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1376},"client/src/components/Navigation.tsx":{"content":"import { Home, BookOpen, Trophy, User, Award } from \"lucide-react\";\nimport { useLearning } from \"@/lib/stores/useLearning\";\n\ninterface NavigationProps {\n  currentPage: string;\n  onNavigate: (page: string) => void;\n}\n\nexport default function Navigation({ currentPage, onNavigate }: NavigationProps) {\n  const { userProgress } = useLearning();\n\n  const navItems = [\n    { id: 'home', label: 'Home', icon: Home },\n    { id: 'courses', label: 'Courses', icon: BookOpen },\n    { id: 'progress', label: 'Progress', icon: Trophy },\n    { id: 'leaderboard', label: 'Leaderboard', icon: Award },\n    { id: 'profile', label: 'Profile', icon: User },\n  ];\n\n  return (\n    <nav className=\"fixed top-0 left-0 right-0 z-50 bg-slate-900/90 backdrop-blur-md border-b-4 border-indigo-500\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-20\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center glow\">\n              <span className=\"text-2xl\">üéÆ</span>\n            </div>\n            <h1 className=\"font-game text-lg sm:text-xl text-indigo-400 glow-text\">\n              SkillQuest\n            </h1>\n          </div>\n\n          <div className=\"flex items-center space-x-1 sm:space-x-2\">\n            {navItems.map((item) => {\n              const Icon = item.icon;\n              const isActive = currentPage === item.id;\n              \n              return (\n                <button\n                  key={item.id}\n                  onClick={() => onNavigate(item.id)}\n                  className={`\n                    flex flex-col sm:flex-row items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 rounded-lg\n                    transition-all duration-300 font-orbitron text-xs sm:text-sm font-semibold\n                    ${isActive \n                      ? 'bg-indigo-600 text-white glow scale-105' \n                      : 'text-gray-300 hover:bg-slate-800 hover:text-indigo-400'\n                    }\n                  `}\n                >\n                  <Icon className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n                  <span className=\"hidden sm:inline\">{item.label}</span>\n                </button>\n              );\n            })}\n          </div>\n\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"hidden sm:flex items-center space-x-2 bg-slate-800 px-4 py-2 rounded-lg border-2 border-purple-500\">\n              <span className=\"font-retro text-2xl text-yellow-400\">‚≠ê</span>\n              <div className=\"flex flex-col\">\n                <span className=\"font-orbitron text-xs text-gray-400\">Level</span>\n                <span className=\"font-game text-sm text-purple-400\">{userProgress.level}</span>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-2 bg-slate-800 px-3 sm:px-4 py-2 rounded-lg border-2 border-indigo-500\">\n              <span className=\"font-retro text-xl sm:text-2xl\">üíé</span>\n              <div className=\"flex flex-col\">\n                <span className=\"font-orbitron text-xs text-gray-400 hidden sm:block\">XP</span>\n                <span className=\"font-game text-xs sm:text-sm text-indigo-400\">{userProgress.totalXP}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n","size_bytes":3439},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":1902},"client/src/games/registry.tsx":{"content":"import type { GameComponent } from './types';\nimport { LoopArena } from './LoopArena';\nimport { RecursionMaze } from './RecursionMaze';\nimport { SortingConveyor } from './SortingConveyor';\nimport { PatternBuilder } from './PatternBuilder';\nimport { SearchChallenge } from './SearchChallenge';\nimport { BacktrackingPuzzle } from './BacktrackingPuzzle';\nimport { MarkupForge } from './MarkupForge';\nimport { StyleSpectrum } from './StyleSpectrum';\nimport { ScriptCircuit } from './ScriptCircuit';\nimport { ComponentLink } from './ComponentLink';\nimport { ServiceRunner } from './ServiceRunner';\nimport { DataBridge } from './DataBridge';\nimport { DeployOrbit } from './DeployOrbit';\n\ntype GameType = 'loop-arena' | 'recursion-maze' | 'sorting-conveyor' | 'pattern-builder' | 'search-challenge' | 'backtracking-puzzle' | 'markup-forge' | 'style-spectrum' | 'script-circuit' | 'component-link' | 'service-runner' | 'data-bridge' | 'deploy-orbit';\n\nexport const gameRegistry: Record<GameType, GameComponent> = {\n  'loop-arena': LoopArena,\n  'recursion-maze': RecursionMaze,\n  'sorting-conveyor': SortingConveyor,\n  'pattern-builder': PatternBuilder,\n  'search-challenge': SearchChallenge,\n  'backtracking-puzzle': BacktrackingPuzzle,\n  'markup-forge': MarkupForge,\n  'style-spectrum': StyleSpectrum,\n  'script-circuit': ScriptCircuit,\n  'component-link': ComponentLink,\n  'service-runner': ServiceRunner,\n  'data-bridge': DataBridge,\n  'deploy-orbit': DeployOrbit,\n};\n\nexport function getGameComponent(gameType: GameType): GameComponent | null {\n  return gameRegistry[gameType] || null;\n}\n","size_bytes":1584},"client/src/components/TeachingGame.tsx":{"content":"import { useState } from 'react';\nimport { Button } from './ui/button';\nimport { PlayCircle, CheckCircle2 } from 'lucide-react';\n\ninterface TeachingGameProps {\n  topic: string;\n  concept: string;\n  interactive: {\n    title: string;\n    description: string;\n    demoCode?: string;\n    visualDemo?: string;\n  };\n  onComplete: () => void;\n}\n\nexport default function TeachingGame({ topic, concept, interactive, onComplete }: TeachingGameProps) {\n  const [step, setStep] = useState<'intro' | 'complete'>('intro');\n\n  const handleNext = () => {\n    if (step === 'intro') setStep('complete');\n  };\n\n  if (step === 'complete') {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 flex items-center justify-center p-8\">\n        <div className=\"max-w-2xl w-full bg-slate-800/90 rounded-3xl p-12 border-4 border-green-500 text-center\">\n          <CheckCircle2 className=\"w-24 h-24 text-green-400 mx-auto mb-6\" />\n          <h1 className=\"text-4xl font-game text-white mb-4\">Concept Mastered!</h1>\n          <p className=\"text-xl text-gray-300 mb-8 font-orbitron\">\n            You now understand <span className=\"text-purple-400 font-bold\">{topic}</span>\n          </p>\n          <Button\n            onClick={onComplete}\n            className=\"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white px-12 py-6 text-xl font-game\"\n          >\n            Continue to Learn More ‚Üí\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 p-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        {step === 'intro' && (\n          <div className=\"bg-slate-800/90 rounded-3xl p-8 border-4 border-indigo-500\">\n            <div className=\"text-center mb-8\">\n              <PlayCircle className=\"w-20 h-20 text-indigo-400 mx-auto mb-4\" />\n              <h1 className=\"text-4xl font-game text-white mb-4\">Let's Learn: {topic}</h1>\n              <p className=\"text-xl text-gray-300 font-orbitron\">{concept}</p>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-yellow-900/30 to-orange-900/30 rounded-xl p-6 mb-6 border-2 border-yellow-500\">\n              <h2 className=\"text-2xl font-game text-yellow-300 mb-3 flex items-center gap-2\">\n                <span>üéÆ</span> Why This Game?\n              </h2>\n              <p className=\"text-gray-200 font-orbitron leading-relaxed text-lg\">\n                This interactive game will help you understand <span className=\"text-purple-300 font-bold\">{topic}</span> by letting you practice in a fun way. You'll see how the concept works step-by-step, making it easier to remember when solving coding problems later!\n              </p>\n            </div>\n\n            <div className=\"bg-slate-900 rounded-xl p-6 mb-8 border-2 border-purple-500\">\n              <h2 className=\"text-2xl font-game text-purple-300 mb-4\">What You'll Discover</h2>\n              <p className=\"text-gray-300 font-orbitron leading-relaxed\">\n                {interactive.description}\n              </p>\n            </div>\n\n            <Button\n              onClick={handleNext}\n              className=\"w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white py-6 text-xl font-game\"\n            >\n              Start Learning ‚Üí\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":3483},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":649},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/App.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useAudio } from \"./lib/stores/useAudio\";\nimport { useLearning } from \"./lib/stores/useLearning\";\nimport Navigation from \"./components/Navigation\";\nimport Home from \"./pages/Home\";\nimport Courses from \"./pages/Courses\";\nimport Progress from \"./pages/Progress\";\nimport Profile from \"./pages/Profile\";\nimport Challenge from \"./pages/Challenge\";\nimport Leaderboard from \"./pages/Leaderboard\";\nimport Auth from \"./pages/Auth\";\nimport Intro from \"./pages/intro\";\nimport { GameArena } from \"./pages/GameArena\";\n\nfunction App() {\n  const [currentPage, setCurrentPage] = useState<string>('intro');\n  const [showIntro, setShowIntro] = useState(true);\n  const { setBackgroundMusic, setHitSound, setSuccessSound, isMuted } = useAudio();\n  const { user } = useLearning();\n\n  useEffect(() => {\n    const bgMusic = new Audio('/sounds/background.mp3');\n    bgMusic.loop = true;\n    bgMusic.volume = 0.3;\n    setBackgroundMusic(bgMusic);\n\n    const hitAudio = new Audio('/sounds/hit.mp3');\n    setHitSound(hitAudio);\n\n    const successAudio = new Audio('/sounds/success.mp3');\n    setSuccessSound(successAudio);\n\n    if (!isMuted) {\n      bgMusic.play().catch(err => console.log('Background music autoplay prevented:', err));\n    }\n\n    return () => {\n      bgMusic.pause();\n    };\n  }, [setBackgroundMusic, setHitSound, setSuccessSound, isMuted]);\n\n  if (showIntro) {\n    return <Intro onNavigate={(page) => {\n      setShowIntro(false);\n      setCurrentPage(page);\n    }} />;\n  }\n\n  if (!user) {\n    return <Auth onNavigate={setCurrentPage} />;\n  }\n\n  const renderPage = () => {\n    switch (currentPage) {\n      case 'home':\n        return <Home onNavigate={setCurrentPage} />;\n      case 'courses':\n        return <Courses onNavigate={setCurrentPage} />;\n      case 'progress':\n        return <Progress />;\n      case 'profile':\n        return <Profile />;\n      case 'challenge':\n        return <Challenge onNavigate={setCurrentPage} />;\n      case 'game-arena':\n        return <GameArena onNavigate={setCurrentPage} />;\n      case 'leaderboard':\n        return <Leaderboard />;\n      default:\n        return <Home onNavigate={setCurrentPage} />;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen\">\n      <Navigation currentPage={currentPage} onNavigate={setCurrentPage} />\n      {renderPage()}\n    </div>\n  );\n}\n\nexport default App;\n","size_bytes":2380},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationLink,\n  PaginationItem,\n  PaginationPrevious,\n  PaginationNext,\n  PaginationEllipsis,\n}\n","size_bytes":2751},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\n      \"p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2859},"server/types.ts":{"content":"import \"express-session\";\n\ndeclare module \"express-session\" {\n  interface SessionData {\n    userId?: number;\n    username?: string;\n  }\n}\n","size_bytes":138},"server/services/youtube.ts":{"content":"import fetch from 'node-fetch';\n\ninterface YouTubeVideo {\n  id: string;\n  title: string;\n  channelTitle: string;\n  thumbnailUrl: string;\n  videoUrl: string;\n}\n\nexport async function getRecommendedVideos(topic: string, difficulty: string): Promise<YouTubeVideo[]> {\n  const apiKey = process.env.YOUTUBE_API_KEY;\n  \n  if (!apiKey) {\n    console.warn('YouTube API key not found, returning fallback videos');\n    return getFallbackVideos(topic);\n  }\n\n  try {\n    const searchQuery = `${topic} ${difficulty} tutorial programming`;\n    const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(searchQuery)}&type=video&maxResults=5&key=${apiKey}&videoDuration=medium&relevanceLanguage=en`;\n    \n    const response = await fetch(url);\n    const data = await response.json() as any;\n    \n    if (data.items) {\n      return data.items.map((item: any) => ({\n        id: item.id.videoId,\n        title: item.snippet.title,\n        channelTitle: item.snippet.channelTitle,\n        thumbnailUrl: item.snippet.thumbnails.medium.url,\n        videoUrl: `https://www.youtube.com/watch?v=${item.id.videoId}`,\n      }));\n    }\n    \n    return getFallbackVideos(topic);\n  } catch (error) {\n    console.error('YouTube API error:', error);\n    return getFallbackVideos(topic);\n  }\n}\n\nfunction getFallbackVideos(topic: string): YouTubeVideo[] {\n  const fallbackVideos: Record<string, YouTubeVideo[]> = {\n    'Arrays': [\n      { id: 'fallback1', title: 'Arrays Explained - Data Structures', channelTitle: 'Programming Channel', thumbnailUrl: '', videoUrl: 'https://www.youtube.com/results?search_query=arrays+tutorial' }\n    ],\n    'Linked Lists': [\n      { id: 'fallback2', title: 'Linked Lists Tutorial', channelTitle: 'Coding Channel', thumbnailUrl: '', videoUrl: 'https://www.youtube.com/results?search_query=linked+list+tutorial' }\n    ],\n  };\n  \n  return fallbackVideos[topic] || [\n    { id: 'fallback', title: `${topic} Tutorial`, channelTitle: 'Educational', thumbnailUrl: '', videoUrl: `https://www.youtube.com/results?search_query=${encodeURIComponent(topic)}+tutorial` }\n  ];\n}\n","size_bytes":2101},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1828},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1148},"client/src/pages/GameArena.tsx":{"content":"import { useEffect, useState } from 'react';\nimport { useLearning } from '@/lib/stores/useLearning';\nimport { getGameComponent } from '@/games/registry';\nimport type { GameResult } from '@shared/types';\nimport { Button } from '@/components/ui/button';\nimport { Card } from '@/components/ui/card';\nimport { Trophy, XCircle, Lightbulb } from 'lucide-react';\n\ninterface GameArenaProps {\n  onNavigate: (page: string) => void;\n}\n\nexport function GameArena({ onNavigate }: GameArenaProps) {\n  const { userProgress, courses, completeGame, updateAIMessages, toggleAICompanion } = useLearning();\n  const [startTime, setStartTime] = useState<number>(0);\n  const [showBriefing, setShowBriefing] = useState(true);\n  const [gameResult, setGameResult] = useState<GameResult | null>(null);\n  const [cachedLevel, setCachedLevel] = useState<any>(null);\n\n  const currentGame = userProgress.currentGame;\n  const freshLevel = courses\n    .flatMap(c => c.levels)\n    .find(l => l.id === currentGame?.levelId);\n  const currentLevel = freshLevel || cachedLevel;\n\n  useEffect(() => {\n    setStartTime(Date.now());\n  }, []);\n\n  useEffect(() => {\n    if (currentGame?.levelId && freshLevel && !cachedLevel) {\n      setCachedLevel(freshLevel);\n    }\n  }, [currentGame?.levelId, freshLevel, cachedLevel]);\n\n  const handleComplete = async (result: GameResult) => {\n    const timeSpent = Math.floor((Date.now() - startTime) / 1000);\n    const finalResult = {\n      ...result,\n      timeSpent,\n    };\n    \n    setGameResult(finalResult);\n    if (currentGame) {\n      await completeGame(currentGame.levelId, finalResult);\n    }\n  };\n\n  const handleExit = () => {\n    onNavigate('challenge');\n  };\n\n  const handleAIHelpInGame = () => {\n    const hint = getAIHint(currentLevel.id);\n    updateAIMessages({ role: 'assistant', content: hint });\n    toggleAICompanion();\n  };\n\n  const getAIHint = (levelId: string): string => {\n    const hints: Record<string, string> = {\n      'dsa-1': 'Think about how many times the loop runs. Count from 1 to 10!',\n      'dsa-2': 'Arrays are created using square brackets [ ] and items are separated by commas.',\n      'dsa-3': 'Binary search divides the array in half each time. How many steps for 8 elements?',\n      'web-1': 'The game shows you need to place blocks in the correct order: div (blue), h1 (purple), p (pink), img (yellow), button (green). Click on a colored block first, then click on the grid slot where it belongs. The purple block (h1) goes in the middle slot of the first row.',\n      'web-2': 'CSS uses the property name, then a colon, then the value, and ends with a semicolon.',\n      'web-3': 'Functions in JavaScript are declared with the \"function\" keyword.',\n      'ai-1': 'AI systems improve through experience. This is called machine learning!',\n      'ai-2': 'This type of AI is inspired by the human brain with interconnected nodes.',\n      'cloud-1': 'One key benefit is the ability to handle more users by adding resources.',\n      'cloud-2': 'Docker packages applications in isolated environments called...',\n    };\n    return hints[levelId] || 'Keep thinking! You can do this!';\n  };\n\n  const handleReturnToCourses = () => {\n    onNavigate('courses');\n  };\n\n  if (gameResult && currentLevel?.gameConfig) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pt-24 flex items-center justify-center p-4\">\n        <Card className=\"max-w-2xl p-8 bg-slate-800/50 border-purple-500/30\">\n          <div className=\"text-center mb-6\">\n            {gameResult.success ? (\n              <>\n                <Trophy className=\"w-20 h-20 text-yellow-400 mx-auto mb-4\" />\n                <h1 className=\"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-400 mb-2\">\n                  Victory!\n                </h1>\n                <p className=\"text-xl text-green-300\">You passed the challenge!</p>\n              </>\n            ) : (\n              <>\n                <XCircle className=\"w-20 h-20 text-red-400 mx-auto mb-4\" />\n                <h1 className=\"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-pink-400 mb-2\">\n                  Try Again!\n                </h1>\n                <p className=\"text-xl text-red-300\">You didn't reach the passing score</p>\n              </>\n            )}\n          </div>\n\n          <div className=\"space-y-4 mb-8\">\n            <div className=\"p-4 bg-slate-700/50 rounded-lg border border-purple-500/30\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-purple-300 font-semibold\">Your Score:</span>\n                <span className=\"text-white text-2xl font-bold\">{gameResult.score}</span>\n              </div>\n            </div>\n\n            <div className=\"p-4 bg-slate-700/50 rounded-lg border border-purple-500/30\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-purple-300 font-semibold\">Passing Score:</span>\n                <span className=\"text-white text-xl\">{currentLevel.gameConfig.passingScore}</span>\n              </div>\n            </div>\n\n            {gameResult.success && (\n              <div className=\"p-4 bg-green-900/30 rounded-lg border border-green-500/30\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-green-300 font-semibold\">XP Earned:</span>\n                  <span className=\"text-yellow-400 text-2xl font-bold\">+{gameResult.xpEarned}</span>\n                </div>\n              </div>\n            )}\n\n            <div className=\"p-4 bg-slate-700/50 rounded-lg border border-purple-500/30\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-purple-300 font-semibold\">Time Spent:</span>\n                <span className=\"text-white\">{gameResult.timeSpent}s</span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex gap-4\">\n            {gameResult.success ? (\n              <Button\n                onClick={handleReturnToCourses}\n                className=\"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-bold py-3\"\n              >\n                Continue Learning\n              </Button>\n            ) : (\n              <>\n                <Button\n                  onClick={() => {\n                    setGameResult(null);\n                    setShowBriefing(true);\n                    setStartTime(Date.now());\n                  }}\n                  className=\"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-3\"\n                >\n                  Try Again\n                </Button>\n                <Button\n                  onClick={handleReturnToCourses}\n                  variant=\"outline\"\n                  className=\"px-6 border-purple-500/50 text-purple-300 hover:bg-purple-500/20\"\n                >\n                  Exit\n                </Button>\n              </>\n            )}\n          </div>\n        </Card>\n      </div>\n    );\n  }\n\n  if (!currentLevel || !currentLevel.gameConfig) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pt-24 flex items-center justify-center p-4\">\n        <Card className=\"p-8 bg-slate-800/50 border-purple-500/30\">\n          <h1 className=\"text-2xl font-bold text-white mb-4\">No Active Game</h1>\n          <p className=\"text-slate-300 mb-4\">Please select a level and complete the quiz first.</p>\n          <Button onClick={() => onNavigate('courses')}>\n            Back to Courses\n          </Button>\n        </Card>\n      </div>\n    );\n  }\n\n  const GameComponent = getGameComponent(currentLevel.gameConfig.type);\n\n  if (!GameComponent) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pt-24 flex items-center justify-center p-4\">\n        <Card className=\"p-8 bg-slate-800/50 border-purple-500/30\">\n          <h1 className=\"text-2xl font-bold text-white mb-4\">Game Not Found</h1>\n          <p className=\"text-slate-300 mb-4\">Game type: {currentLevel.gameConfig.type}</p>\n          <Button onClick={() => onNavigate('courses')}>\n            Back to Courses\n          </Button>\n        </Card>\n      </div>\n    );\n  }\n\n  if (showBriefing) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pt-24 flex items-center justify-center p-4\">\n        <Card className=\"max-w-2xl p-8 bg-slate-800/50 border-purple-500/30\">\n          <div className=\"mb-6\">\n            <h1 className=\"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 mb-2\">\n              {currentLevel.gameConfig.title}\n            </h1>\n            <p className=\"text-xl text-slate-300\">{currentLevel.gameConfig.description}</p>\n          </div>\n\n          <div className=\"space-y-4 mb-8\">\n            {currentLevel.gameConfig.importanceWhy && (\n              <div className=\"p-4 bg-gradient-to-r from-yellow-900/50 to-orange-900/50 rounded-lg border-2 border-yellow-500/50\">\n                <h2 className=\"text-lg font-semibold text-yellow-300 mb-2 flex items-center gap-2\">\n                  üí° Why This Matters\n                </h2>\n                <p className=\"text-slate-100 leading-relaxed\">{currentLevel.gameConfig.importanceWhy}</p>\n              </div>\n            )}\n\n            <div className=\"p-4 bg-slate-700/50 rounded-lg border border-purple-500/30\">\n              <h2 className=\"text-lg font-semibold text-purple-300 mb-2\">Objective</h2>\n              <p className=\"text-slate-200\">{currentLevel.gameConfig.objective}</p>\n            </div>\n\n            <div className=\"p-4 bg-slate-700/50 rounded-lg border border-purple-500/30\">\n              <h2 className=\"text-lg font-semibold text-purple-300 mb-2\">Controls</h2>\n              <p className=\"text-slate-200\">{currentLevel.gameConfig.controls}</p>\n            </div>\n\n            {currentLevel.gameConfig.timeLimit && (\n              <div className=\"p-4 bg-slate-700/50 rounded-lg border border-purple-500/30\">\n                <h2 className=\"text-lg font-semibold text-purple-300 mb-2\">Time Limit</h2>\n                <p className=\"text-slate-200\">{currentLevel.gameConfig.timeLimit} seconds</p>\n              </div>\n            )}\n\n            <div className=\"p-4 bg-slate-700/50 rounded-lg border border-purple-500/30\">\n              <h2 className=\"text-lg font-semibold text-purple-300 mb-2\">Victory Condition</h2>\n              <p className=\"text-slate-200\">Score {currentLevel.gameConfig.passingScore} or more to pass!</p>\n            </div>\n          </div>\n\n          <div className=\"flex gap-4\">\n            <Button\n              onClick={() => setShowBriefing(false)}\n              className=\"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-3\"\n            >\n              Start Game\n            </Button>\n            <Button\n              onClick={handleExit}\n              variant=\"outline\"\n              className=\"px-6 border-purple-500/50 text-purple-300 hover:bg-purple-500/20\"\n            >\n              Exit\n            </Button>\n          </div>\n\n          {currentGame && currentGame.attempts > 0 && (\n            <div className=\"mt-6 p-4 bg-purple-900/30 rounded-lg border border-purple-500/30\">\n              <p className=\"text-sm text-purple-200\">\n                Attempt #{currentGame.attempts + 1} | Best Score: {currentGame.bestScore}\n              </p>\n            </div>\n          )}\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pt-20 relative\">\n      <button\n        onClick={handleAIHelpInGame}\n        className=\"absolute top-4 right-4 px-4 py-2 rounded-lg bg-purple-600 hover:bg-purple-500 font-orbitron text-sm text-white transition-colors flex items-center gap-2 z-50\"\n      >\n        <Lightbulb className=\"w-4 h-4\" />\n        AI Help\n      </button>\n      <GameComponent\n        config={currentLevel.gameConfig}\n        onComplete={handleComplete}\n        onExit={handleExit}\n      />\n    </div>\n  );\n}\n","size_bytes":12326},"client/src/components/VideoRecommendations.tsx":{"content":"import { useEffect, useState } from 'react';\nimport { Card } from './ui/card';\nimport { Button } from './ui/button';\n\ninterface YouTubeVideo {\n  id: string;\n  title: string;\n  channelTitle: string;\n  thumbnailUrl: string;\n  videoUrl: string;\n}\n\ninterface VideoRecommendationsProps {\n  topic: string;\n  difficulty: string;\n  aiSuggestedVideos?: YouTubeVideo[];\n  hasGame?: boolean;\n  onComplete: () => void;\n}\n\nexport default function VideoRecommendations({ topic, difficulty, aiSuggestedVideos, hasGame, onComplete }: VideoRecommendationsProps) {\n  const [videos, setVideos] = useState<YouTubeVideo[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (aiSuggestedVideos && aiSuggestedVideos.length > 0) {\n      setVideos(aiSuggestedVideos);\n      setLoading(false);\n    } else {\n      // Fallback videos if AI suggested videos aren't available\n      const fallbackVideos = [\n        {\n          id: 'fallback-1',\n          title: 'HTML Crash Course For Absolute Beginners',\n          channelTitle: 'Traversy Media',\n          thumbnailUrl: 'https://i.ytimg.com/vi/UB1O30fR-EE/maxresdefault.jpg',\n          videoUrl: 'https://www.youtube.com/watch?v=UB1O30fR-EE'\n        },\n        {\n          id: 'fallback-2',\n          title: 'Learn HTML5 and CSS3 From Scratch',\n          channelTitle: 'Programming with Mosh',\n          thumbnailUrl: 'https://i.ytimg.com/vi/qz0aGYrrlhU/maxresdefault.jpg',\n          videoUrl: 'https://www.youtube.com/watch?v=qz0aGYrrlhU'\n        },\n        {\n          id: 'fallback-3',\n          title: 'Semantic HTML - Why It Matters',\n          channelTitle: 'Kevin Powell',\n          thumbnailUrl: 'https://i.ytimg.com/vi/kGW8Al_cga4/maxresdefault.jpg',\n          videoUrl: 'https://www.youtube.com/watch?v=kGW8Al_cga4'\n        }\n      ];\n      setVideos(fallbackVideos);\n      setLoading(false);\n    }\n  }, [topic, difficulty, aiSuggestedVideos]);\n\n  const fetchVideos = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('/api/youtube/recommendations', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ topic, difficulty }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch videos');\n      }\n\n      const data = await response.json();\n      setVideos(data.videos);\n    } catch (err) {\n      setError('Could not load video recommendations');\n      console.error('Video fetch error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900\">\n        <div className=\"text-white text-2xl font-game\">Loading videos...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900\">\n        <div className=\"text-white text-xl mb-4\">{error}</div>\n        <Button onClick={onComplete}>Continue Anyway</Button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-8\">\n      <div className=\"max-w-6xl mx-auto\">\n        <h1 className=\"text-4xl font-game text-white mb-2 text-center\">\n          ü§ñ AI Recommended Videos\n        </h1>\n        <p className=\"text-gray-300 text-center mb-8\">\n          Watch these AI-curated tutorials about {topic} to prepare for the next challenge\n        </p>\n\n        {videos.length > 0 ? (\n          <>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8\">\n              {videos.map((video) => (\n                <Card key={video.id} className=\"bg-gray-800 border-2 border-purple-500 hover:border-purple-400 hover:scale-105 transition-all overflow-hidden shadow-2xl\">\n                  <a href={video.videoUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"block\">\n                    {video.thumbnailUrl && (\n                      <div className=\"relative\">\n                        <img\n                          src={video.thumbnailUrl}\n                          alt={video.title}\n                          className=\"w-full h-64 object-cover\"\n                          onError={(e) => {\n                            console.log('Image failed to load:', video.thumbnailUrl);\n                            e.currentTarget.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjY2NjIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPllvdVR1YmUgVmlkZW88L3RleHQ+PC9zdmc+';\n                          }}\n                        />\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent\"></div>\n                        <div className=\"absolute bottom-4 left-4 right-4\">\n                          <h3 className=\"text-white font-bold text-xl mb-1 drop-shadow-lg\">\n                            {video.title}\n                          </h3>\n                          <p className=\"text-gray-200 text-sm drop-shadow-md\">{video.channelTitle}</p>\n                        </div>\n                      </div>\n                    )}\n                  </a>\n                </Card>\n              ))}\n            </div>\n\n            <div className=\"flex justify-center\">\n              <Button\n                onClick={onComplete}\n                className=\"bg-purple-600 hover:bg-purple-700 text-white px-8 py-4 text-xl font-game\"\n              >\n                {hasGame ? 'Continue to Game ‚Üí' : 'Continue to Assessment ‚Üí'}\n              </Button>\n            </div>\n          </>\n        ) : (\n          <div className=\"text-center\">\n            <p className=\"text-gray-300 text-xl mb-8\">No videos available at the moment.</p>\n            <Button\n              onClick={onComplete}\n              className=\"bg-purple-600 hover:bg-purple-700 text-white px-8 py-4 text-xl font-game\"\n            >\n              {hasGame ? 'Continue to Game ‚Üí' : 'Continue to Assessment ‚Üí'}\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":6363},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"server/routes.ts":{"content":"import type { Express, Request, Response, NextFunction } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { generateHint, generateChallenge, provideExplanation, getMotivationalMessage } from \"./ai\";\nimport { getRecommendedVideos } from \"./services/youtube\";\nimport { analyzeUserPerformance, getAdaptiveHint } from \"./services/aiTutor\";\nimport bcrypt from \"bcrypt\";\nimport { nanoid } from \"nanoid\";\nimport \"./types\";\n\nconst requireAuth = (req: Request, res: Response, next: NextFunction) => {\n  if (!req.session.userId) {\n    return res.status(401).json({ error: \"Authentication required\" });\n  }\n  next();\n};\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Authentication Routes\n  app.post(\"/api/auth/signup\", async (req, res) => {\n    try {\n      const { username, password, email } = req.body;\n      \n      if (!username || !password) {\n        return res.status(400).json({ error: \"Username and password are required\" });\n      }\n\n      const existingUser = await storage.getUserByUsername(username);\n      if (existingUser) {\n        return res.status(409).json({ error: \"Username already exists\" });\n      }\n\n      const hashedPassword = await bcrypt.hash(password, 10);\n      const user = await storage.createUser({\n        username,\n        password: hashedPassword,\n        email: email || null,\n      });\n\n      req.session.userId = user.id;\n      req.session.username = user.username;\n\n      const { password: _, ...userWithoutPassword } = user;\n      res.json({ user: userWithoutPassword, message: \"Account created successfully!\" });\n    } catch (error) {\n      console.error(\"Error during signup:\", error);\n      res.status(500).json({ error: \"Failed to create account\" });\n    }\n  });\n\n  app.post(\"/api/auth/login\", async (req, res) => {\n    try {\n      const { username, password } = req.body;\n\n      if (!username || !password) {\n        return res.status(400).json({ error: \"Username and password are required\" });\n      }\n\n      const user = await storage.getUserByUsername(username);\n      if (!user) {\n        return res.status(401).json({ error: \"Invalid username or password\" });\n      }\n\n      const validPassword = await bcrypt.compare(password, user.password);\n      if (!validPassword) {\n        return res.status(401).json({ error: \"Invalid username or password\" });\n      }\n\n      req.session.userId = user.id;\n      req.session.username = user.username;\n\n      const { password: _, ...userWithoutPassword } = user;\n      res.json({ user: userWithoutPassword, message: \"Logged in successfully!\" });\n    } catch (error) {\n      console.error(\"Error during login:\", error);\n      res.status(500).json({ error: \"Failed to log in\" });\n    }\n  });\n\n  app.post(\"/api/auth/logout\", (req, res) => {\n    req.session.destroy((err) => {\n      if (err) {\n        return res.status(500).json({ error: \"Failed to logout\" });\n      }\n      res.json({ message: \"Logged out successfully\" });\n    });\n  });\n\n  // User Progress Routes\n  app.get(\"/api/progress\", requireAuth, async (req, res) => {\n    try {\n      const userId = req.session.userId!;\n      const progress = await storage.getUserProgress(userId);\n      const completedLevels = await storage.getCompletedLevels(userId);\n      const badges = await storage.getUserBadges(userId);\n\n      res.json({ progress, completedLevels, badges });\n    } catch (error) {\n      console.error(\"Error fetching progress:\", error);\n      res.status(500).json({ error: \"Failed to fetch progress\" });\n    }\n  });\n\n  app.post(\"/api/progress/update\", requireAuth, async (req, res) => {\n    try {\n      const userId = req.session.userId!;\n      const { totalXP, level, currentCourse, currentLevel } = req.body;\n      const progress = await storage.updateUserProgress(userId, {\n        totalXP,\n        level,\n        currentCourse,\n        currentLevel,\n      });\n      res.json({ progress });\n    } catch (error) {\n      console.error(\"Error updating progress:\", error);\n      res.status(500).json({ error: \"Failed to update progress\" });\n    }\n  });\n\n  app.post(\"/api/progress/complete-level\", requireAuth, async (req, res) => {\n    try {\n      const userId = req.session.userId!;\n      const { levelId, courseId, xpEarned } = req.body;\n      const completedLevel = await storage.addCompletedLevel(userId, levelId, courseId, xpEarned);\n      res.json({ success: true, completedLevel });\n    } catch (error) {\n      console.error(\"Error completing level:\", error);\n      res.status(500).json({ error: \"Failed to complete level\" });\n    }\n  });\n\n  // Badge Routes\n  app.post(\"/api/badges/earn\", requireAuth, async (req, res) => {\n    try {\n      const userId = req.session.userId!;\n      const { badgeId, name, description, icon, rarity } = req.body;\n      const badge = await storage.addBadge(userId, { badgeId, name, description, icon, rarity });\n      res.json({ badge });\n    } catch (error) {\n      console.error(\"Error earning badge:\", error);\n      res.status(500).json({ error: \"Failed to earn badge\" });\n    }\n  });\n\n  // Certificate Routes\n  app.post(\"/api/certificates/create\", requireAuth, async (req, res) => {\n    try {\n      const userId = req.session.userId!;\n      const { courseId, courseName } = req.body;\n      const shareableId = nanoid(10);\n      const certificate = await storage.createCertificate(userId, courseId, courseName, shareableId);\n      res.json({ certificate });\n    } catch (error) {\n      console.error(\"Error creating certificate:\", error);\n      res.status(500).json({ error: \"Failed to create certificate\" });\n    }\n  });\n\n  app.get(\"/api/certificates/:shareableId\", async (req, res) => {\n    try {\n      const { shareableId } = req.params;\n      const certificate = await storage.getCertificate(shareableId);\n      \n      if (!certificate) {\n        return res.status(404).json({ error: \"Certificate not found\" });\n      }\n\n      const user = await storage.getUser(certificate.userId);\n      res.json({ certificate, username: user?.username });\n    } catch (error) {\n      console.error(\"Error fetching certificate:\", error);\n      res.status(500).json({ error: \"Failed to fetch certificate\" });\n    }\n  });\n\n  app.get(\"/api/certificates\", requireAuth, async (req, res) => {\n    try {\n      const userId = req.session.userId!;\n      const certificates = await storage.getUserCertificates(userId);\n      res.json({ certificates });\n    } catch (error) {\n      console.error(\"Error fetching user certificates:\", error);\n      res.status(500).json({ error: \"Failed to fetch certificates\" });\n    }\n  });\n\n  // Leaderboard Routes\n  app.get(\"/api/leaderboard\", async (req, res) => {\n    try {\n      const limit = parseInt(req.query.limit as string) || 10;\n      const topUsers = await storage.getTopUsers(limit);\n      \n      const leaderboard = topUsers.map((user) => ({\n        username: user.username,\n        totalXP: user.totalXP || 0,\n        level: user.level || 1,\n      }));\n\n      res.json({ leaderboard });\n    } catch (error) {\n      console.error(\"Error fetching leaderboard:\", error);\n      res.status(500).json({ error: \"Failed to fetch leaderboard\" });\n    }\n  });\n\n  // AI Learning Companion Routes\n  app.post(\"/api/ai/hint\", async (req, res) => {\n    try {\n      const { levelId, courseId, userProgress, difficulty } = req.body;\n      const hint = await generateHint({ levelId, courseId, userProgress, difficulty });\n      res.json({ hint });\n    } catch (error) {\n      console.error(\"Error generating hint:\", error);\n      res.status(500).json({ error: \"Failed to generate hint\" });\n    }\n  });\n\n  app.post(\"/api/ai/challenge\", async (req, res) => {\n    try {\n      const { topic, difficulty, challengeType } = req.body;\n      const challenge = await generateChallenge({ topic, difficulty, challengeType });\n      res.json(challenge);\n    } catch (error) {\n      console.error(\"Error generating challenge:\", error);\n      res.status(500).json({ error: \"Failed to generate challenge\" });\n    }\n  });\n\n  app.post(\"/api/ai/explanation\", async (req, res) => {\n    try {\n      const { topic, userAnswer, correctAnswer } = req.body;\n      const explanation = await provideExplanation(topic, userAnswer, correctAnswer);\n      res.json({ explanation });\n    } catch (error) {\n      console.error(\"Error generating explanation:\", error);\n      res.status(500).json({ error: \"Failed to generate explanation\" });\n    }\n  });\n\n  app.post(\"/api/ai/motivation\", async (req, res) => {\n    try {\n      const { completedLevels, totalXP } = req.body;\n      const message = await getMotivationalMessage(completedLevels, totalXP);\n      res.json({ message });\n    } catch (error) {\n      console.error(\"Error generating motivational message:\", error);\n      res.status(500).json({ error: \"Failed to generate message\" });\n    }\n  });\n\n  app.post(\"/api/youtube/recommendations\", async (req, res) => {\n    try {\n      const { topic, difficulty } = req.body;\n      \n      if (!topic) {\n        return res.status(400).json({ error: 'Topic is required' });\n      }\n      \n      const videos = await getRecommendedVideos(topic, difficulty || 'beginner');\n      res.json({ videos });\n    } catch (error) {\n      console.error('Error fetching video recommendations:', error);\n      res.status(500).json({ error: 'Failed to fetch recommendations' });\n    }\n  });\n\n  app.post(\"/api/ai/analyze-performance\", requireAuth, async (req, res) => {\n    try {\n      const { topic, levelId } = req.body;\n      const userId = req.session.userId!;\n      \n      if (!topic) {\n        return res.status(400).json({ error: 'Topic is required' });\n      }\n      \n      const metrics = await storage.getBehavioralMetrics(userId, levelId);\n      \n      if (metrics.length === 0) {\n        return res.json({\n          strengths: ['Just getting started!'],\n          weaknesses: [],\n          recommendedDifficulty: 'beginner',\n          suggestedTopics: [],\n          encouragement: 'Ready to begin your learning journey!',\n        });\n      }\n      \n      const analysis = await analyzeUserPerformance(userId, topic, metrics);\n      res.json(analysis);\n    } catch (error) {\n      console.error('Error analyzing performance:', error);\n      res.status(500).json({ error: 'Failed to analyze performance' });\n    }\n  });\n\n  app.post(\"/api/ai/adaptive-hint\", requireAuth, async (req, res) => {\n    try {\n      const { topic, userCode, mistakesMade } = req.body;\n      \n      const hint = await getAdaptiveHint(topic, userCode || '', mistakesMade || 0);\n      res.json({ hint });\n    } catch (error) {\n      console.error('Error getting adaptive hint:', error);\n      res.status(500).json({ error: 'Failed to get hint' });\n    }\n  });\n\n  app.post(\"/api/behavioral/track\", requireAuth, async (req, res) => {\n    try {\n      const { levelId, activityType, timeToSolve, hintsUsed, mistakeCount, successRate } = req.body;\n      const userId = req.session.userId!;\n      \n      await storage.trackBehavior({\n        userId,\n        levelId,\n        activityType,\n        timeToSolve: timeToSolve || null,\n        hintsUsed: hintsUsed || 0,\n        mistakeCount: mistakeCount || 0,\n        attemptsCount: 1,\n        successRate: successRate || 0,\n      });\n      \n      res.json({ success: true });\n    } catch (error) {\n      console.error('Error tracking behavior:', error);\n      res.status(500).json({ error: 'Failed to track behavior' });\n    }\n  });\n\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n","size_bytes":11454},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7480},"client/src/games/LoopArena.tsx":{"content":"import type { GameProps } from './types';\nimport { useState, useEffect, useRef } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport { KeyboardControls, useKeyboardControls } from '@react-three/drei';\nimport * as THREE from 'three';\n\nenum Controls {\n  forward = 'forward',\n  back = 'back',\n  left = 'left',\n  right = 'right',\n}\n\ninterface Collectible {\n  id: number;\n  position: [number, number, number];\n  collected: boolean;\n}\n\nfunction Player({ onCollect }: { onCollect: (pos: THREE.Vector3) => void }) {\n  const meshRef = useRef<THREE.Mesh>(null);\n  const velocity = useRef(new THREE.Vector3());\n  const [, getKeys] = useKeyboardControls<Controls>();\n\n  useFrame((state, delta) => {\n    if (!meshRef.current) return;\n\n    const keys = getKeys();\n    const speed = 5;\n    \n    velocity.current.set(0, 0, 0);\n    \n    if (keys.forward) velocity.current.z -= speed * delta;\n    if (keys.back) velocity.current.z += speed * delta;\n    if (keys.left) velocity.current.x -= speed * delta;\n    if (keys.right) velocity.current.x += speed * delta;\n\n    meshRef.current.position.add(velocity.current);\n\n    meshRef.current.position.x = Math.max(-10, Math.min(10, meshRef.current.position.x));\n    meshRef.current.position.z = Math.max(-10, Math.min(10, meshRef.current.position.z));\n\n    onCollect(meshRef.current.position);\n  });\n\n  return (\n    <mesh ref={meshRef} position={[0, 0.5, 0]}>\n      <boxGeometry args={[0.8, 0.8, 0.8]} />\n      <meshStandardMaterial color=\"#8b5cf6\" />\n    </mesh>\n  );\n}\n\nfunction Collectibles({ items, onCollect }: { items: Collectible[], onCollect: (id: number) => void }) {\n  const meshRefs = useRef<Map<number, THREE.Mesh>>(new Map());\n\n  useFrame(() => {\n    items.forEach(item => {\n      const mesh = meshRefs.current.get(item.id);\n      if (mesh && !item.collected) {\n        mesh.rotation.y += 0.02;\n      }\n    });\n  });\n\n  return (\n    <>\n      {items.map(item => (\n        !item.collected && (\n          <mesh\n            key={item.id}\n            ref={ref => {\n              if (ref) meshRefs.current.set(item.id, ref);\n            }}\n            position={item.position}\n          >\n            <boxGeometry args={[0.6, 0.6, 0.6]} />\n            <meshStandardMaterial color=\"#fbbf24\" emissive=\"#fbbf24\" emissiveIntensity={0.5} />\n          </mesh>\n        )\n      ))}\n    </>\n  );\n}\n\nfunction Arena() {\n  return (\n    <>\n      <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, 0, 0]}>\n        <planeGeometry args={[20, 20]} />\n        <meshStandardMaterial color=\"#1e293b\" />\n      </mesh>\n      \n      <mesh position={[0, 1, -10]}>\n        <boxGeometry args={[20, 2, 0.5]} />\n        <meshStandardMaterial color=\"#475569\" />\n      </mesh>\n      <mesh position={[0, 1, 10]}>\n        <boxGeometry args={[20, 2, 0.5]} />\n        <meshStandardMaterial color=\"#475569\" />\n      </mesh>\n      <mesh position={[-10, 1, 0]}>\n        <boxGeometry args={[0.5, 2, 20]} />\n        <meshStandardMaterial color=\"#475569\" />\n      </mesh>\n      <mesh position={[10, 1, 0]}>\n        <boxGeometry args={[0.5, 2, 20]} />\n        <meshStandardMaterial color=\"#475569\" />\n      </mesh>\n    </>\n  );\n}\n\nfunction Game({ collectibles, onCollect }: { collectibles: Collectible[], onCollect: (id: number) => void }) {\n  const handlePlayerCollect = (playerPos: THREE.Vector3) => {\n    collectibles.forEach(item => {\n      if (!item.collected) {\n        const itemPos = new THREE.Vector3(...item.position);\n        const distance = playerPos.distanceTo(itemPos);\n        if (distance < 1) {\n          onCollect(item.id);\n        }\n      }\n    });\n  };\n\n  return (\n    <>\n      <ambientLight intensity={0.5} />\n      <directionalLight position={[5, 10, 5]} intensity={1} />\n      <Arena />\n      <Collectibles items={collectibles} onCollect={onCollect} />\n      <Player onCollect={handlePlayerCollect} />\n    </>\n  );\n}\n\nexport function LoopArena({ config, onComplete, onExit }: GameProps) {\n  const [score, setScore] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(config.timeLimit || 60);\n  const [collectibles, setCollectibles] = useState<Collectible[]>([]);\n  const gameEnded = useRef(false);\n\n  useEffect(() => {\n    const items: Collectible[] = [];\n    let id = 0;\n    \n    for (let i = 0; i < 3; i++) {\n      for (let j = 0; j < 3; j++) {\n        items.push({\n          id: id++,\n          position: [i * 6 - 6, 0.5, j * 6 - 6],\n          collected: false,\n        });\n      }\n    }\n    \n    setCollectibles(items);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          handleGameEnd();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n    \n    const allCollected = collectibles.length > 0 && collectibles.every(c => c.collected);\n    if (allCollected && score >= config.passingScore) {\n      handleGameEnd();\n    }\n  }, [score, collectibles]);\n\n  const handleGameEnd = () => {\n    if (gameEnded.current) return;\n    gameEnded.current = true;\n    \n    const success = score >= config.passingScore;\n    onComplete({\n      score,\n      timeSpent: (config.timeLimit || 60) - timeLeft,\n      success,\n      xpEarned: success ? 100 : 50,\n    });\n  };\n\n  const handleCollect = (id: number) => {\n    setCollectibles(prev =>\n      prev.map(item =>\n        item.id === id ? { ...item, collected: true } : item\n      )\n    );\n    setScore(prev => prev + 10);\n  };\n\n  const keyMap = [\n    { name: Controls.forward, keys: ['ArrowUp', 'KeyW'] },\n    { name: Controls.back, keys: ['ArrowDown', 'KeyS'] },\n    { name: Controls.left, keys: ['ArrowLeft', 'KeyA'] },\n    { name: Controls.right, keys: ['ArrowRight', 'KeyD'] },\n  ];\n\n  return (\n    <div className=\"relative w-full h-screen bg-slate-900\">\n      <div className=\"absolute top-0 left-0 right-0 z-10 p-6 bg-gradient-to-b from-slate-900/90 to-transparent\">\n        <div className=\"flex justify-between items-center max-w-6xl mx-auto\">\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Score</div>\n            <div className=\"text-3xl font-bold text-white\">{score}</div>\n          </div>\n          \n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Target</div>\n            <div className=\"text-3xl font-bold text-yellow-400\">{config.passingScore}</div>\n          </div>\n\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Time</div>\n            <div className={`text-3xl font-bold ${timeLeft < 10 ? 'text-red-400' : 'text-white'}`}>\n              {timeLeft}s\n            </div>\n          </div>\n\n          <button\n            onClick={onExit}\n            className=\"px-6 py-3 bg-red-600/80 hover:bg-red-700 backdrop-blur-sm text-white rounded-lg font-semibold border border-red-500/50\"\n          >\n            Exit\n          </button>\n        </div>\n      </div>\n\n      <div className=\"absolute bottom-0 left-0 right-0 z-10 p-6 bg-gradient-to-t from-slate-900/90 to-transparent\">\n        <div className=\"max-w-6xl mx-auto\">\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <p className=\"text-purple-200 text-center\">\n              Use <span className=\"text-yellow-400 font-bold\">WASD</span> or <span className=\"text-yellow-400 font-bold\">Arrow Keys</span> to move and collect yellow cubes!\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <KeyboardControls map={keyMap}>\n        <Canvas camera={{ position: [0, 12, 12], fov: 50 }}>\n          <Game collectibles={collectibles} onCollect={handleCollect} />\n        </Canvas>\n      </KeyboardControls>\n    </div>\n  );\n}\n","size_bytes":8092},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/games/BacktrackingPuzzle.tsx":{"content":"import type { GameProps } from './types';\n\nexport function BacktrackingPuzzle({ config, onComplete, onExit }: GameProps) {\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4\">\n      <div className=\"text-center\">\n        <h1 className=\"text-4xl font-bold text-white mb-4\">{config.title}</h1>\n        <p className=\"text-slate-300 mb-8\">[Backtracking Puzzle - Coming Soon]</p>\n        <button\n          onClick={onExit}\n          className=\"px-6 py-3 bg-slate-600 hover:bg-slate-700 text-white rounded-lg font-semibold\"\n        >\n          Exit\n        </button>\n      </div>\n    </div>\n  );\n}\n","size_bytes":621},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1598},"shared/schema.ts":{"content":"import { pgTable, text, serial, integer, boolean, timestamp, jsonb } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: serial(\"id\").primaryKey(),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n  email: text(\"email\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const userProgress = pgTable(\"user_progress\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull().references(() => users.id),\n  totalXP: integer(\"total_xp\").notNull().default(0),\n  level: integer(\"level\").notNull().default(1),\n  currentCourse: text(\"current_course\"),\n  currentLevel: text(\"current_level\"),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const completedLevels = pgTable(\"completed_levels\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull().references(() => users.id),\n  levelId: text(\"level_id\").notNull(),\n  courseId: text(\"course_id\").notNull(),\n  xpEarned: integer(\"xp_earned\").notNull(),\n  completedAt: timestamp(\"completed_at\").defaultNow().notNull(),\n});\n\nexport const badges = pgTable(\"badges\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull().references(() => users.id),\n  badgeId: text(\"badge_id\").notNull(),\n  name: text(\"name\").notNull(),\n  description: text(\"description\").notNull(),\n  icon: text(\"icon\").notNull(),\n  rarity: text(\"rarity\").notNull().default(\"common\"),\n  earnedAt: timestamp(\"earned_at\").defaultNow().notNull(),\n});\n\nexport const certificates = pgTable(\"certificates\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull().references(() => users.id),\n  courseId: text(\"course_id\").notNull(),\n  courseName: text(\"course_name\").notNull(),\n  shareableId: text(\"shareable_id\").notNull().unique(),\n  issuedAt: timestamp(\"issued_at\").defaultNow().notNull(),\n});\n\nexport const gameSessions = pgTable(\"game_sessions\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull().references(() => users.id),\n  levelId: text(\"level_id\").notNull(),\n  courseId: text(\"course_id\").notNull(),\n  gameType: text(\"game_type\").notNull(),\n  score: integer(\"score\").notNull(),\n  timeSpent: integer(\"time_spent\").notNull(),\n  success: boolean(\"success\").notNull(),\n  xpEarned: integer(\"xp_earned\").notNull(),\n  playedAt: timestamp(\"played_at\").defaultNow().notNull(),\n});\n\nexport const behavioralMetrics = pgTable(\"behavioral_metrics\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull().references(() => users.id),\n  levelId: text(\"level_id\").notNull(),\n  activityType: text(\"activity_type\").notNull(),\n  timeToSolve: integer(\"time_to_solve\"),\n  hintsUsed: integer(\"hints_used\").notNull().default(0),\n  mistakeCount: integer(\"mistake_count\").notNull().default(0),\n  attemptsCount: integer(\"attempts_count\").notNull().default(1),\n  successRate: integer(\"success_rate\"),\n  performanceScore: integer(\"performance_score\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const codingAttempts = pgTable(\"coding_attempts\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull().references(() => users.id),\n  levelId: text(\"level_id\").notNull(),\n  problemId: text(\"problem_id\").notNull(),\n  code: text(\"code\").notNull(),\n  language: text(\"language\").notNull().default(\"javascript\"),\n  passed: boolean(\"passed\").notNull(),\n  testsPassed: integer(\"tests_passed\").notNull(),\n  totalTests: integer(\"total_tests\").notNull(),\n  timeSpent: integer(\"time_spent\"),\n  submittedAt: timestamp(\"submitted_at\").defaultNow().notNull(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n  email: true,\n});\n\nexport const insertProgressSchema = createInsertSchema(userProgress);\nexport const insertCompletedLevelSchema = createInsertSchema(completedLevels);\nexport const insertBadgeSchema = createInsertSchema(badges);\nexport const insertCertificateSchema = createInsertSchema(certificates);\nexport const insertGameSessionSchema = createInsertSchema(gameSessions);\nexport const insertCodingAttemptSchema = createInsertSchema(codingAttempts);\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\nexport type UserProgress = typeof userProgress.$inferSelect;\nexport type CompletedLevel = typeof completedLevels.$inferSelect;\nexport type Badge = typeof badges.$inferSelect;\nexport type Certificate = typeof certificates.$inferSelect;\nexport type GameSession = typeof gameSessions.$inferSelect;\nexport type CodingAttempt = typeof codingAttempts.$inferSelect;\n","size_bytes":4691},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Minus } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-1 ring-ring\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Minus />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2143},"client/src/components/AssessmentHub.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { Level, QuizQuestion, CodingProblem } from '@shared/types';\nimport { CheckCircle, XCircle, Code, Play, Lightbulb } from 'lucide-react';\n\ninterface AssessmentHubProps {\n  level: Level;\n  onComplete: () => void;\n  onAIHelp?: (context?: { type: 'quiz' | 'coding'; title?: string; description?: string; userCode?: string; testResults?: string; attempts?: number; }) => void;\n}\n\nexport function AssessmentHub({ level, onComplete, onAIHelp }: AssessmentHubProps) {\n  const [currentMode, setCurrentMode] = useState<'quiz' | 'coding'>('quiz');\n  const [quizAnswers, setQuizAnswers] = useState<Record<string, string>>({});\n  const [quizSubmitted, setQuizSubmitted] = useState(false);\n  const [quizScore, setQuizScore] = useState(0);\n  \n  const [currentCode, setCurrentCode] = useState('');\n  const [codeOutput, setCodeOutput] = useState<string[]>([]);\n  const [testResults, setTestResults] = useState<{passed: number, total: number} | null>(null);\n  const [currentProblemIndex, setCurrentProblemIndex] = useState(0);\n  const [quizAttempts, setQuizAttempts] = useState(0);\n\n  const hasQuiz = level.quizQuestions && level.quizQuestions.length > 0;\n  const hasCoding = level.codingProblems && level.codingProblems.length > 0;\n  const currentProblem = level.codingProblems?.[currentProblemIndex];\n\n  useEffect(() => {\n    if (currentProblem) {\n      setCurrentCode(currentProblem.starterCode);\n    }\n  }, [currentProblem]);\n\n  const handleQuizSubmit = () => {\n    if (!level.quizQuestions) return;\n    \n    let correct = 0;\n    level.quizQuestions.forEach(q => {\n      if (quizAnswers[q.id] === q.correctAnswer) {\n        correct++;\n      }\n    });\n    \n    setQuizScore(correct);\n    setQuizSubmitted(true);\n    setQuizAttempts(prev => prev + 1);\n  };\n\n  const handleRequestQuizHint = (question: QuizQuestion) => {\n    if (onAIHelp) {\n      onAIHelp({\n        type: 'quiz',\n        title: question.question,\n        description: question.options?.join(', ') || '',\n        attempts: quizAttempts\n      });\n    }\n  };\n\n  const [codingAttempts, setCodingAttempts] = useState(0);\n\n  const handleRequestCodingHint = () => {\n    if (onAIHelp && currentProblem) {\n      // Always provide the direct answer for coding problems\n      onAIHelp({\n        type: 'coding',\n        title: currentProblem.title,\n        description: `Here's the complete solution for \"${currentProblem.title}\":\\n\\n${currentProblem.solution}\\n\\nThis solution passes all test cases. Study it carefully and try to understand each part before using it.`,\n        userCode: currentCode,\n        testResults: testResults\n          ? `Passed ${testResults.passed}/${testResults.total} tests. Output: ${codeOutput.join('; ')}`\n          : undefined,\n        attempts: codingAttempts\n      });\n    }\n  };\n\n  const handleRunCode = () => {\n    if (!currentProblem) return;\n    \n    setCodingAttempts(prev => prev + 1);\n    const output: string[] = [];\n    let passed = 0;\n    \n    try {\n      // Execute user code and return the function they defined\n      const userFunction = new Function(`\n        ${currentCode}\n        return ${currentProblem.functionName};\n      `)();\n      \n      if (typeof userFunction !== 'function') {\n        throw new Error(`Expected function '${currentProblem.functionName}' but got ${typeof userFunction}. Make sure you define a function with this exact name.`);\n      }\n      \n      currentProblem.testCases.forEach((test, idx) => {\n        try {\n          const input = JSON.parse(test.input);\n          const result = Array.isArray(input) ? userFunction(...input) : userFunction(input);\n          const expected = JSON.parse(test.expectedOutput);\n          \n          if (JSON.stringify(result) === JSON.stringify(expected)) {\n            passed++;\n            output.push(`‚úì Test ${idx + 1}: PASSED`);\n          } else {\n            output.push(`‚úó Test ${idx + 1}: FAILED (Expected: ${JSON.stringify(expected)}, Got: ${JSON.stringify(result)})`);\n          }\n        } catch (e) {\n          output.push(`‚úó Test ${idx + 1}: ERROR - ${(e as Error).message}`);\n        }\n      });\n      \n      setTestResults({ passed, total: currentProblem.testCases.length });\n      setCodeOutput(output);\n    } catch (e) {\n      setCodeOutput([`Error: ${(e as Error).message}`]);\n      setTestResults({ passed: 0, total: currentProblem.testCases.length });\n    }\n  };\n\n  const allTestsPassed = testResults && testResults.passed === testResults.total;\n  const quizPassed = quizSubmitted && quizScore >= (level.quizQuestions?.length || 0) * 0.7;\n  const canComplete = (!hasQuiz || quizPassed) && (!hasCoding || allTestsPassed);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pt-24 p-8\">\n      <div className=\"max-w-6xl mx-auto\">\n        <div className=\"bg-slate-800/50 backdrop-blur-sm rounded-2xl border-2 border-purple-500 p-8\">\n          {/* AI Help Button */}\n          <div className=\"flex justify-end mb-4\">\n            <button\n              onClick={() => {\n                if (onAIHelp) {\n                  const quizAnswers = level.quizQuestions?.map((q, idx) => \n                    `${idx + 1}. ${q.question} - ${q.correctAnswer}`\n                  ) || [];\n                  \n                  const codingAnswers = level.codingProblems?.map((p, idx) => \n                    `Problem ${idx + 1}: ${p.title}\\n${p.solution}`\n                  ) || [];\n\n                  let content = `Here's the complete solution for \"${level.title}\":\\n\\n`;\n\n                  if (quizAnswers.length > 0) {\n                    content += `üìù QUIZ ANSWERS:\\n`;\n                    quizAnswers.forEach((answer) => {\n                      content += `${answer}\\n`;\n                    });\n                    content += `\\n`;\n                  }\n\n                  if (codingAnswers.length > 0) {\n                    content += `üíª CODING SOLUTIONS:\\n`;\n                    codingAnswers.forEach((solution) => {\n                      content += `${solution}\\n\\n`;\n                    });\n                  }\n\n                  content += `Study these solutions carefully and try to understand each part before using them.`;\n\n                  onAIHelp({\n                    type: 'quiz',\n                    description: content\n                  });\n                }\n              }}\n              className=\"px-6 py-3 rounded-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 font-orbitron text-sm text-white transition-all flex items-center gap-2\"\n            >\n              <Lightbulb className=\"w-4 h-4\" />\n              AI HELP\n            </button>\n          </div>\n\n          <h1 className=\"font-game text-3xl text-purple-300 mb-6 flex items-center gap-3\">\n            <span>‚ö°</span>\n            Assessment: {level.title}\n          </h1>\n\n          {/* Mode Selector */}\n          {hasQuiz && hasCoding && (\n            <div className=\"flex gap-4 mb-8\">\n              <button\n                onClick={() => setCurrentMode('quiz')}\n                className={`flex-1 px-6 py-3 rounded-lg font-orbitron transition-all ${\n                  currentMode === 'quiz'\n                    ? 'bg-purple-600 text-white'\n                    : 'bg-slate-700 text-gray-300 hover:bg-slate-600'\n                }`}\n              >\n                üìù Quiz Questions\n              </button>\n              <button\n                onClick={() => setCurrentMode('coding')}\n                className={`flex-1 px-6 py-3 rounded-lg font-orbitron transition-all ${\n                  currentMode === 'coding'\n                    ? 'bg-indigo-600 text-white'\n                    : 'bg-slate-700 text-gray-300 hover:bg-slate-600'\n                }`}\n              >\n                <Code className=\"inline w-4 h-4 mr-2\" />\n                Coding Challenge\n              </button>\n            </div>\n          )}\n\n          {/* Quiz Section */}\n          {currentMode === 'quiz' && hasQuiz && (\n            <div className=\"space-y-6\">\n              {level.quizQuestions!.map((question, idx) => (\n                <div key={question.id} className=\"bg-slate-900 rounded-lg p-6 border border-slate-700\">\n                  <h3 className=\"font-orbitron text-lg text-white mb-4\">\n                    {idx + 1}. {question.question}\n                  </h3>\n                  \n                  {question.type === 'multiple-choice' && question.options && (\n                    <div className=\"space-y-2\">\n                      {question.options.map((option) => (\n                        <label\n                          key={option}\n                          className={`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-all ${\n                            quizAnswers[question.id] === option\n                              ? 'bg-purple-600/30 border-2 border-purple-500'\n                              : 'bg-slate-800 border-2 border-slate-700 hover:border-purple-500'\n                          }`}\n                        >\n                          <input\n                            type=\"radio\"\n                            name={question.id}\n                            value={option}\n                            checked={quizAnswers[question.id] === option}\n                            onChange={(e) =>\n                              setQuizAnswers({ ...quizAnswers, [question.id]: e.target.value })\n                            }\n                            className=\"w-4 h-4\"\n                            disabled={quizSubmitted}\n                          />\n                          <span className=\"font-orbitron text-sm text-gray-300\">{option}</span>\n                        </label>\n                      ))}\n                    </div>\n                  )}\n                  \n\n\n                  {quizSubmitted && (\n                    <div className={`mt-4 p-4 rounded-lg ${\n                      quizAnswers[question.id] === question.correctAnswer\n                        ? 'bg-green-900/30 border border-green-500'\n                        : 'bg-red-900/30 border border-red-500'\n                    }`}>\n                      <p className=\"font-orbitron text-sm text-white mb-2\">\n                        {quizAnswers[question.id] === question.correctAnswer ? '‚úì Correct!' : '‚úó Incorrect'}\n                      </p>\n                      <p className=\"font-orbitron text-xs text-gray-300\">{question.explanation}</p>\n                    </div>\n                  )}\n                </div>\n              ))}\n\n              {!quizSubmitted && (\n                <button\n                  onClick={handleQuizSubmit}\n                  className=\"w-full px-6 py-3 rounded-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 font-game text-white transition-all\"\n                >\n                  Submit Quiz\n                </button>\n              )}\n\n              {quizSubmitted && (\n                <div className=\"bg-slate-900 rounded-lg p-6 border-2 border-purple-500\">\n                  <h3 className=\"font-game text-xl text-white mb-2\">\n                    Score: {quizScore}/{level.quizQuestions!.length}\n                  </h3>\n                  <p className=\"font-orbitron text-sm text-gray-300\">\n                    {quizPassed ? 'üéâ Passed! ' : '‚ùå Need 70% to pass. '} \n                    {hasCoding && 'Complete the coding challenge to proceed.'}\n                  </p>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Coding Section */}\n          {currentMode === 'coding' && hasCoding && currentProblem && (\n            <div className=\"space-y-6\">\n              <div className=\"bg-slate-900 rounded-lg p-6 border border-slate-700\">\n                <h3 className=\"font-game text-xl text-purple-300 mb-2\">{currentProblem.title}</h3>\n                <p className=\"font-orbitron text-sm text-gray-300 mb-4\">{currentProblem.description}</p>\n                <div className=\"bg-indigo-900/30 border border-indigo-500/50 rounded-lg p-3 mb-4\">\n                  <p className=\"font-mono text-xs text-indigo-300\">\n                    üí° Define a function named: <span className=\"font-bold text-white\">{currentProblem.functionName}</span>\n                  </p>\n                </div>\n                <div className=\"flex gap-2 mb-4\">\n                  <span className={`px-3 py-1 rounded-full text-xs font-orbitron ${\n                    currentProblem.difficulty === 'easy' ? 'bg-green-900 text-green-300' :\n                    currentProblem.difficulty === 'medium' ? 'bg-yellow-900 text-yellow-300' :\n                    'bg-red-900 text-red-300'\n                  }`}>\n                    {currentProblem.difficulty}\n                  </span>\n                  {currentProblem.tags.map(tag => (\n                    <span key={tag} className=\"px-3 py-1 rounded-full text-xs font-orbitron bg-purple-900 text-purple-300\">\n                      {tag}\n                    </span>\n                  ))}\n                </div>\n              </div>\n\n              <textarea\n                value={currentCode}\n                onChange={(e) => setCurrentCode(e.target.value)}\n                className=\"w-full h-64 px-4 py-3 rounded-lg bg-slate-900 border-2 border-slate-700 focus:border-indigo-500 outline-none font-mono text-sm text-white resize-y\"\n                placeholder=\"Write your solution here...\"\n              />\n\n              <button\n                onClick={handleRunCode}\n                className=\"w-full px-6 py-3 rounded-lg bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 font-game text-white transition-all flex items-center justify-center gap-2\"\n              >\n                <Play className=\"w-4 h-4\" />\n                Run Tests\n              </button>\n\n              {codeOutput.length > 0 && (\n                <div className=\"bg-slate-900 rounded-lg p-6 border border-slate-700\">\n                  <h4 className=\"font-orbitron text-sm text-gray-400 mb-3\">Test Results:</h4>\n                  <div className=\"space-y-2 font-mono text-sm\">\n                    {codeOutput.map((line, idx) => (\n                      <div\n                        key={idx}\n                        className={`p-2 rounded ${\n                          line.startsWith('‚úì') ? 'bg-green-900/30 text-green-300' :\n                          line.startsWith('‚úó') ? 'bg-red-900/30 text-red-300' :\n                          'text-gray-300'\n                        }`}\n                      >\n                        {line}\n                      </div>\n                    ))}\n                  </div>\n                  {testResults && (\n                    <div className=\"mt-4 p-4 rounded-lg bg-slate-800\">\n                      <p className=\"font-orbitron text-white\">\n                        Passed: {testResults.passed}/{testResults.total} tests\n                      </p>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Complete Button */}\n          {canComplete && (\n            <button\n              onClick={onComplete}\n              className=\"w-full mt-8 px-6 py-4 rounded-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 font-game text-lg text-white transition-all glow\"\n            >\n              ‚ú® Complete Assessment & Continue\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":15487},"client/src/games/ComponentLink.tsx":{"content":"import type { GameProps } from './types';\nimport { useState, useEffect, useRef } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\ninterface Component {\n  id: number;\n  type: 'parent' | 'child';\n  position: [number, number, number];\n  connected: boolean;\n  parentId?: number;\n}\n\nfunction ComponentBox({ component, onClick, isHighlighted }: { component: Component; onClick: () => void; isHighlighted: boolean }) {\n  const meshRef = useRef<THREE.Mesh>(null);\n\n  useFrame(() => {\n    if (meshRef.current) {\n      if (isHighlighted) {\n        meshRef.current.position.y = component.position[1] + Math.sin(Date.now() * 0.004) * 0.2;\n      }\n      meshRef.current.rotation.y += component.connected ? 0 : 0.01;\n    }\n  });\n\n  const color = component.type === 'parent' ? '#8b5cf6' : '#3b82f6';\n\n  return (\n    <mesh ref={meshRef} position={component.position} onClick={onClick}>\n      <boxGeometry args={component.type === 'parent' ? [2, 1.5, 1.5] : [1.2, 1.2, 1.2]} />\n      <meshStandardMaterial\n        color={component.connected ? color : '#64748b'}\n        emissive={component.connected ? color : isHighlighted ? '#f59e0b' : '#000000'}\n        emissiveIntensity={component.connected ? 0.5 : isHighlighted ? 0.4 : 0}\n      />\n    </mesh>\n  );\n}\n\nfunction ConnectionLine({ start, end }: { start: [number, number, number]; end: [number, number, number] }) {\n  const startVec = new THREE.Vector3(...start);\n  const endVec = new THREE.Vector3(...end);\n  const midPoint = new THREE.Vector3().lerpVectors(startVec, endVec, 0.5);\n  const distance = startVec.distanceTo(endVec);\n  const direction = new THREE.Vector3().subVectors(endVec, startVec).normalize();\n  const angle = Math.atan2(direction.x, direction.z);\n\n  return (\n    <mesh position={[midPoint.x, midPoint.y, midPoint.z]} rotation={[0, -angle, 0]}>\n      <boxGeometry args={[0.1, 0.1, distance]} />\n      <meshStandardMaterial color=\"#10b981\" emissive=\"#10b981\" emissiveIntensity={0.5} />\n    </mesh>\n  );\n}\n\nfunction Scene({ components, onComponentClick, selectedComponent, connections }: {\n  components: Component[];\n  onComponentClick: (id: number) => void;\n  selectedComponent: number | null;\n  connections: Array<{ parent: number; child: number }>;\n}) {\n  return (\n    <>\n      <ambientLight intensity={0.6} />\n      <directionalLight position={[5, 10, 5]} intensity={1} />\n      <pointLight position={[0, 5, 0]} intensity={0.5} color=\"#8b5cf6\" />\n      \n      <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, 0, 0]}>\n        <planeGeometry args={[25, 25]} />\n        <meshStandardMaterial color=\"#0f172a\" />\n      </mesh>\n\n      {connections.map((conn, index) => {\n        const parent = components.find(c => c.id === conn.parent);\n        const child = components.find(c => c.id === conn.child);\n        if (parent && child) {\n          return <ConnectionLine key={index} start={parent.position} end={child.position} />;\n        }\n        return null;\n      })}\n\n      {components.map(component => (\n        <ComponentBox\n          key={component.id}\n          component={component}\n          onClick={() => onComponentClick(component.id)}\n          isHighlighted={selectedComponent === component.id}\n        />\n      ))}\n    </>\n  );\n}\n\nexport function ComponentLink({ config, onComplete }: GameProps) {\n  const [score, setScore] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(config.timeLimit || 80);\n  const [components, setComponents] = useState<Component[]>([]);\n  const [selectedComponent, setSelectedComponent] = useState<number | null>(null);\n  const [connections, setConnections] = useState<Array<{ parent: number; child: number }>>([]);\n  const gameEnded = useRef(false);\n\n  useEffect(() => {\n    const initialComponents: Component[] = [\n      { id: 0, type: 'parent', position: [-5, 2, 0], connected: false },\n      { id: 1, type: 'child', position: [-5, 1, -3], connected: false, parentId: 0 },\n      { id: 2, type: 'child', position: [-5, 1, 3], connected: false, parentId: 0 },\n      \n      { id: 3, type: 'parent', position: [0, 2, 0], connected: false },\n      { id: 4, type: 'child', position: [0, 1, -3], connected: false, parentId: 3 },\n      { id: 5, type: 'child', position: [0, 1, 3], connected: false, parentId: 3 },\n      \n      { id: 6, type: 'parent', position: [5, 2, 0], connected: false },\n      { id: 7, type: 'child', position: [5, 1, -3], connected: false, parentId: 6 },\n      { id: 8, type: 'child', position: [5, 1, 3], connected: false, parentId: 6 },\n    ];\n    \n    setComponents(initialComponents);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          handleGameEnd();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n    const allConnected = components.filter(c => c.type === 'child').every(c => c.connected);\n    if (allConnected && score >= config.passingScore) {\n      handleGameEnd();\n    }\n  }, [components, score]);\n\n  const handleGameEnd = () => {\n    if (gameEnded.current) return;\n    gameEnded.current = true;\n    \n    const success = score >= config.passingScore;\n    onComplete({\n      score,\n      timeSpent: (config.timeLimit || 80) - timeLeft,\n      success,\n      xpEarned: success ? 280 : 140,\n    });\n  };\n\n  const handleComponentClick = (id: number) => {\n    if (selectedComponent === null) {\n      setSelectedComponent(id);\n    } else {\n      const first = components.find(c => c.id === selectedComponent);\n      const second = components.find(c => c.id === id);\n      \n      if (first && second && first.id !== second.id) {\n        if (first.type === 'parent' && second.type === 'child' && second.parentId === first.id) {\n          setComponents(prev =>\n            prev.map(c =>\n              c.id === second.id ? { ...c, connected: true } : c\n            )\n          );\n          setConnections(prev => [...prev, { parent: first.id, child: second.id }]);\n          setScore(prev => prev + 15);\n        } else if (second.type === 'parent' && first.type === 'child' && first.parentId === second.id) {\n          setComponents(prev =>\n            prev.map(c =>\n              c.id === first.id ? { ...c, connected: true } : c\n            )\n          );\n          setConnections(prev => [...prev, { parent: second.id, child: first.id }]);\n          setScore(prev => prev + 15);\n        } else {\n          setScore(prev => Math.max(0, prev - 5));\n        }\n      }\n      \n      setSelectedComponent(null);\n    }\n  };\n\n  return (\n    <div className=\"relative w-full h-screen bg-slate-900\">\n      <div className=\"absolute top-0 left-0 right-0 z-10 p-6 bg-gradient-to-b from-slate-900/90 to-transparent\">\n        <div className=\"flex justify-between items-center max-w-6xl mx-auto\">\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Score</div>\n            <div className=\"text-3xl font-bold text-white\">{score}</div>\n          </div>\n          \n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Time</div>\n            <div className=\"text-3xl font-bold text-white\">{timeLeft}s</div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"absolute bottom-0 left-0 right-0 z-10 p-6 bg-gradient-to-t from-slate-900/90 to-transparent\">\n        <div className=\"max-w-4xl mx-auto bg-slate-800/80 backdrop-blur-sm p-4 rounded-lg border border-purple-500/30\">\n          <p className=\"text-white text-center\">\n            <span className=\"font-bold text-purple-300\">Connect parent components to their children</span> - Purple boxes are parents, blue are children. Click parent, then click its child!\n          </p>\n        </div>\n      </div>\n\n      <Canvas camera={{ position: [0, 10, 12], fov: 50 }}>\n        <Scene\n          components={components}\n          onComponentClick={handleComponentClick}\n          selectedComponent={selectedComponent}\n          connections={connections}\n        />\n      </Canvas>\n    </div>\n  );\n}\n","size_bytes":8332},"client/src/games/ScriptCircuit.tsx":{"content":"import type { GameProps } from './types';\nimport { useState, useEffect, useRef } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\ninterface CircuitNode {\n  id: number;\n  position: [number, number, number];\n  activated: boolean;\n  requiredSequence: number;\n}\n\nfunction Node({ node, onClick, isNext }: { node: CircuitNode; onClick: () => void; isNext: boolean }) {\n  const meshRef = useRef<THREE.Mesh>(null);\n\n  useFrame(() => {\n    if (meshRef.current) {\n      if (isNext && !node.activated) {\n        meshRef.current.scale.setScalar(1 + Math.sin(Date.now() * 0.005) * 0.1);\n      } else {\n        meshRef.current.scale.setScalar(1);\n      }\n      if (!node.activated) {\n        meshRef.current.rotation.y += 0.01;\n      }\n    }\n  });\n\n  return (\n    <mesh ref={meshRef} position={node.position} onClick={onClick}>\n      <sphereGeometry args={[0.5, 16, 16]} />\n      <meshStandardMaterial\n        color={node.activated ? '#10b981' : isNext ? '#f59e0b' : '#64748b'}\n        emissive={node.activated ? '#10b981' : isNext ? '#f59e0b' : '#000000'}\n        emissiveIntensity={node.activated ? 0.6 : isNext ? 0.4 : 0}\n      />\n    </mesh>\n  );\n}\n\nfunction ConnectionLines({ nodes }: { nodes: CircuitNode[] }) {\n  return (\n    <>\n      {nodes.map((node, index) => {\n        if (index === nodes.length - 1) return null;\n        const nextNode = nodes[index + 1];\n        \n        const start = new THREE.Vector3(...node.position);\n        const end = new THREE.Vector3(...nextNode.position);\n        const midPoint = new THREE.Vector3().lerpVectors(start, end, 0.5);\n        const distance = start.distanceTo(end);\n        \n        return (\n          <mesh key={`line-${index}`} position={[midPoint.x, midPoint.y, midPoint.z]}>\n            <boxGeometry args={[distance, 0.1, 0.1]} />\n            <meshStandardMaterial\n              color={node.activated ? '#10b981' : '#475569'}\n              emissive={node.activated ? '#10b981' : '#000000'}\n              emissiveIntensity={0.3}\n            />\n          </mesh>\n        );\n      })}\n    </>\n  );\n}\n\nfunction Scene({ nodes, onNodeClick, nextSequence }: {\n  nodes: CircuitNode[];\n  onNodeClick: (id: number) => void;\n  nextSequence: number;\n}) {\n  return (\n    <>\n      <ambientLight intensity={0.5} />\n      <directionalLight position={[5, 10, 5]} intensity={1} />\n      <pointLight position={[0, 2, 0]} intensity={0.8} color=\"#3b82f6\" />\n      \n      <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, 0, 0]}>\n        <planeGeometry args={[20, 20]} />\n        <meshStandardMaterial color=\"#0f172a\" />\n      </mesh>\n\n      <ConnectionLines nodes={nodes} />\n\n      {nodes.map(node => (\n        <Node\n          key={node.id}\n          node={node}\n          onClick={() => onNodeClick(node.id)}\n          isNext={node.requiredSequence === nextSequence}\n        />\n      ))}\n    </>\n  );\n}\n\nexport function ScriptCircuit({ config, onComplete }: GameProps) {\n  const [score, setScore] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(config.timeLimit || 75);\n  const [nodes, setNodes] = useState<CircuitNode[]>([]);\n  const [nextSequence, setNextSequence] = useState(0);\n  const gameEnded = useRef(false);\n\n  useEffect(() => {\n    const positions: [number, number, number][] = [\n      [-6, 1, -4],\n      [-3, 1, 0],\n      [0, 1, -4],\n      [3, 1, 0],\n      [6, 1, -4],\n      [3, 1, 4],\n      [0, 1, 0],\n      [-3, 1, 4],\n    ];\n\n    const initialNodes: CircuitNode[] = positions.map((pos, index) => ({\n      id: index,\n      position: pos,\n      activated: false,\n      requiredSequence: index,\n    }));\n    \n    setNodes(initialNodes);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          handleGameEnd();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n    const allActivated = nodes.every(n => n.activated);\n    if (allActivated && score >= config.passingScore) {\n      handleGameEnd();\n    }\n  }, [nodes, score]);\n\n  const handleGameEnd = () => {\n    if (gameEnded.current) return;\n    gameEnded.current = true;\n    \n    const success = score >= config.passingScore;\n    onComplete({\n      score,\n      timeSpent: (config.timeLimit || 75) - timeLeft,\n      success,\n      xpEarned: success ? 220 : 110,\n    });\n  };\n\n  const handleNodeClick = (id: number) => {\n    const node = nodes.find(n => n.id === id);\n    if (!node || node.activated) return;\n\n    const isCorrect = node.requiredSequence === nextSequence;\n    \n    if (isCorrect) {\n      setNodes(prev =>\n        prev.map(n =>\n          n.id === id ? { ...n, activated: true } : n\n        )\n      );\n      setScore(prev => prev + 10);\n      setNextSequence(prev => prev + 1);\n    } else {\n      setScore(prev => Math.max(0, prev - 5));\n    }\n  };\n\n  return (\n    <div className=\"relative w-full h-screen bg-slate-900\">\n      <div className=\"absolute top-0 left-0 right-0 z-10 p-6 bg-gradient-to-b from-slate-900/90 to-transparent\">\n        <div className=\"flex justify-between items-center max-w-6xl mx-auto\">\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-blue-500/30\">\n            <div className=\"text-sm text-blue-300 mb-1\">Score</div>\n            <div className=\"text-3xl font-bold text-white\">{score}</div>\n          </div>\n          \n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-blue-500/30\">\n            <div className=\"text-sm text-blue-300 mb-1\">Time</div>\n            <div className=\"text-3xl font-bold text-white\">{timeLeft}s</div>\n          </div>\n\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-yellow-500/30\">\n            <div className=\"text-sm text-yellow-300 mb-1\">Next Node</div>\n            <div className=\"text-3xl font-bold text-white\">{nextSequence + 1}</div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"absolute bottom-0 left-0 right-0 z-10 p-6 bg-gradient-to-t from-slate-900/90 to-transparent\">\n        <div className=\"max-w-4xl mx-auto bg-slate-800/80 backdrop-blur-sm p-4 rounded-lg border border-blue-500/30\">\n          <p className=\"text-white text-center\">\n            <span className=\"font-bold text-blue-300\">Activate circuit nodes in sequence</span> - like JavaScript execution order. Click the glowing node to activate it!\n          </p>\n        </div>\n      </div>\n\n      <Canvas camera={{ position: [0, 10, 10], fov: 50 }}>\n        <Scene nodes={nodes} onNodeClick={handleNodeClick} nextSequence={nextSequence} />\n      </Canvas>\n    </div>\n  );\n}\n","size_bytes":6795},"client/src/games/DeployOrbit.tsx":{"content":"import type { GameProps } from './types';\nimport { useState, useEffect, useRef } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\ninterface ConfigNode {\n  id: number;\n  name: string;\n  position: [number, number, number];\n  configured: boolean;\n  type: 'env' | 'build' | 'dns' | 'security';\n}\n\nconst NODE_COLORS: Record<string, string> = {\n  env: '#3b82f6',\n  build: '#10b981',\n  dns: '#f59e0b',\n  security: '#ef4444',\n};\n\nfunction ConfigSphere({ node, onClick, isPriority }: { node: ConfigNode; onClick: () => void; isPriority: boolean }) {\n  const meshRef = useRef<THREE.Mesh>(null);\n\n  useFrame(() => {\n    if (meshRef.current) {\n      if (!node.configured) {\n        meshRef.current.rotation.y += 0.02;\n        meshRef.current.rotation.x += 0.01;\n      }\n      if (isPriority) {\n        meshRef.current.scale.setScalar(1 + Math.sin(Date.now() * 0.004) * 0.2);\n      } else {\n        meshRef.current.scale.setScalar(1);\n      }\n    }\n  });\n\n  return (\n    <mesh ref={meshRef} position={node.position} onClick={onClick}>\n      <sphereGeometry args={[0.6, 16, 16]} />\n      <meshStandardMaterial\n        color={node.configured ? NODE_COLORS[node.type] : '#64748b'}\n        emissive={node.configured ? NODE_COLORS[node.type] : isPriority ? '#f59e0b' : '#000000'}\n        emissiveIntensity={node.configured ? 0.7 : isPriority ? 0.5 : 0}\n      />\n    </mesh>\n  );\n}\n\nfunction Satellite() {\n  const meshRef = useRef<THREE.Mesh>(null);\n\n  useFrame(() => {\n    if (meshRef.current) {\n      meshRef.current.rotation.y += 0.005;\n    }\n  });\n\n  return (\n    <mesh ref={meshRef} position={[0, 0, 0]}>\n      <boxGeometry args={[1.5, 1.5, 1.5]} />\n      <meshStandardMaterial color=\"#8b5cf6\" emissive=\"#8b5cf6\" emissiveIntensity={0.5} />\n    </mesh>\n  );\n}\n\nfunction OrbitRing() {\n  return (\n    <mesh rotation={[Math.PI / 2, 0, 0]}>\n      <torusGeometry args={[6, 0.05, 16, 100]} />\n      <meshStandardMaterial color=\"#475569\" emissive=\"#475569\" emissiveIntensity={0.2} />\n    </mesh>\n  );\n}\n\nfunction Scene({ nodes, onNodeClick, nextPriority }: {\n  nodes: ConfigNode[];\n  onNodeClick: (id: number) => void;\n  nextPriority: number;\n}) {\n  return (\n    <>\n      <ambientLight intensity={0.4} />\n      <directionalLight position={[5, 10, 5]} intensity={1} />\n      <pointLight position={[0, 0, 0]} intensity={1} color=\"#8b5cf6\" />\n      \n      <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, 0, 0]}>\n        <planeGeometry args={[30, 30]} />\n        <meshStandardMaterial color=\"#000000\" />\n      </mesh>\n\n      <Satellite />\n      <OrbitRing />\n\n      {nodes.map(node => (\n        <ConfigSphere\n          key={node.id}\n          node={node}\n          onClick={() => onNodeClick(node.id)}\n          isPriority={node.id === nextPriority && !node.configured}\n        />\n      ))}\n    </>\n  );\n}\n\nexport function DeployOrbit({ config, onComplete }: GameProps) {\n  const [score, setScore] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(config.timeLimit || 95);\n  const [nodes, setNodes] = useState<ConfigNode[]>([]);\n  const [nextPriority, setNextPriority] = useState(0);\n  const gameEnded = useRef(false);\n\n  useEffect(() => {\n    const angleStep = (Math.PI * 2) / 8;\n    const radius = 6;\n\n    const configTypes: Array<'env' | 'build' | 'dns' | 'security'> = [\n      'env', 'build', 'env', 'dns', 'build', 'security', 'dns', 'security'\n    ];\n\n    const initialNodes: ConfigNode[] = configTypes.map((type, index) => {\n      const angle = angleStep * index;\n      const x = Math.cos(angle) * radius;\n      const z = Math.sin(angle) * radius;\n      \n      return {\n        id: index,\n        name: type.toUpperCase(),\n        position: [x, 1, z],\n        configured: false,\n        type,\n      };\n    });\n    \n    setNodes(initialNodes);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          handleGameEnd();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n    const allConfigured = nodes.every(n => n.configured);\n    if (allConfigured && score >= config.passingScore) {\n      handleGameEnd();\n    }\n  }, [nodes, score]);\n\n  const handleGameEnd = () => {\n    if (gameEnded.current) return;\n    gameEnded.current = true;\n    \n    const success = score >= config.passingScore;\n    onComplete({\n      score,\n      timeSpent: (config.timeLimit || 95) - timeLeft,\n      success,\n      xpEarned: success ? 400 : 200,\n    });\n  };\n\n  const handleNodeClick = (id: number) => {\n    const node = nodes.find(n => n.id === id);\n    if (!node || node.configured) return;\n\n    const isCorrectOrder = node.id === nextPriority;\n    \n    if (isCorrectOrder) {\n      setNodes(prev =>\n        prev.map(n =>\n          n.id === id ? { ...n, configured: true } : n\n        )\n      );\n      setScore(prev => prev + 12);\n      setNextPriority(prev => prev + 1);\n    } else {\n      setScore(prev => Math.max(0, prev - 8));\n    }\n  };\n\n  const configuredCount = nodes.filter(n => n.configured).length;\n\n  return (\n    <div className=\"relative w-full h-screen bg-black\">\n      <div className=\"absolute top-0 left-0 right-0 z-10 p-6 bg-gradient-to-b from-black/90 to-transparent\">\n        <div className=\"flex justify-between items-center max-w-6xl mx-auto\">\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Score</div>\n            <div className=\"text-3xl font-bold text-white\">{score}</div>\n          </div>\n          \n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Time</div>\n            <div className=\"text-3xl font-bold text-white\">{timeLeft}s</div>\n          </div>\n\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-green-500/30\">\n            <div className=\"text-sm text-green-300 mb-1\">Configured</div>\n            <div className=\"text-3xl font-bold text-white\">{configuredCount}/{nodes.length}</div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"absolute bottom-0 left-0 right-0 z-10 p-6 bg-gradient-to-t from-black/90 to-transparent\">\n        <div className=\"max-w-4xl mx-auto bg-slate-800/80 backdrop-blur-sm p-4 rounded-lg border border-purple-500/30\">\n          <p className=\"text-white text-center mb-2\">\n            <span className=\"font-bold text-purple-300\">Configure deployment nodes in sequence</span> - Click the glowing node to configure it. Deploy your app to orbit!\n          </p>\n          <div className=\"flex justify-center gap-3 text-sm\">\n            <span className=\"px-2 py-1 rounded\" style={{ backgroundColor: NODE_COLORS.env }}>ENV</span>\n            <span className=\"px-2 py-1 rounded\" style={{ backgroundColor: NODE_COLORS.build }}>BUILD</span>\n            <span className=\"px-2 py-1 rounded\" style={{ backgroundColor: NODE_COLORS.dns }}>DNS</span>\n            <span className=\"px-2 py-1 rounded\" style={{ backgroundColor: NODE_COLORS.security }}>SECURITY</span>\n          </div>\n        </div>\n      </div>\n\n      <Canvas camera={{ position: [0, 12, 12], fov: 50 }}>\n        <Scene nodes={nodes} onNodeClick={handleNodeClick} nextPriority={nextPriority} />\n      </Canvas>\n    </div>\n  );\n}\n","size_bytes":7540},"client/src/games/MarkupForge.tsx":{"content":"import type { GameProps } from './types';\nimport { useState, useEffect, useRef } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\ninterface HTMLBlock {\n  id: number;\n  type: 'div' | 'h1' | 'p' | 'img' | 'button';\n  position: [number, number, number];\n  placed: boolean;\n  targetSlot: number;\n}\n\nconst BLOCK_COLORS: Record<string, string> = {\n  div: '#3b82f6',\n  h1: '#8b5cf6',\n  p: '#ec4899',\n  img: '#f59e0b',\n  button: '#10b981',\n};\n\nfunction Block({ block, onClick }: { block: HTMLBlock; onClick: () => void }) {\n  const meshRef = useRef<THREE.Mesh>(null);\n\n  useFrame(() => {\n    if (meshRef.current && !block.placed) {\n      meshRef.current.rotation.y += 0.02;\n    }\n  });\n\n  return (\n    <mesh\n      ref={meshRef}\n      position={block.position}\n      onClick={onClick}\n      onPointerOver={(e) => {\n        e.stopPropagation();\n        document.body.style.cursor = 'pointer';\n      }}\n      onPointerOut={() => {\n        document.body.style.cursor = 'auto';\n      }}\n    >\n      <boxGeometry args={[1, 1, 1]} />\n      <meshStandardMaterial\n        color={BLOCK_COLORS[block.type]}\n        emissive={BLOCK_COLORS[block.type]}\n        emissiveIntensity={0.3}\n      />\n    </mesh>\n  );\n}\n\nfunction BuildingGrid({ slots, onSlotClick }: { slots: number; onSlotClick: (index: number) => void }) {\n  const gridItems = [];\n\n  for (let i = 0; i < slots; i++) {\n    const x = (i % 3) * 2 - 2;\n    const z = Math.floor(i / 3) * 2 - 2;\n\n    gridItems.push(\n      <mesh\n        key={i}\n        position={[x, 0.1, z]}\n        onClick={() => onSlotClick(i)}\n        onPointerOver={(e) => {\n          e.stopPropagation();\n          document.body.style.cursor = 'pointer';\n        }}\n        onPointerOut={() => {\n          document.body.style.cursor = 'auto';\n        }}\n      >\n        <boxGeometry args={[1.5, 0.2, 1.5]} />\n        <meshStandardMaterial color=\"#334155\" opacity={0.5} transparent />\n      </mesh>\n    );\n  }\n\n  return <>{gridItems}</>;\n}\n\nfunction Scene({ blocks, onBlockClick, slots, onSlotClick }: {\n  blocks: HTMLBlock[];\n  onBlockClick: (id: number) => void;\n  slots: number;\n  onSlotClick: (index: number) => void;\n}) {\n  return (\n    <>\n      <ambientLight intensity={0.6} />\n      <directionalLight position={[5, 10, 5]} intensity={1} />\n      \n      <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, 0, 0]}>\n        <planeGeometry args={[20, 20]} />\n        <meshStandardMaterial color=\"#0f172a\" />\n      </mesh>\n\n      <BuildingGrid slots={slots} onSlotClick={onSlotClick} />\n\n      {blocks.map(block => (\n        <Block key={block.id} block={block} onClick={() => onBlockClick(block.id)} />\n      ))}\n    </>\n  );\n}\n\nexport function MarkupForge({ config, onComplete }: GameProps) {\n  const [score, setScore] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(config.timeLimit || 90);\n  const [blocks, setBlocks] = useState<HTMLBlock[]>([]);\n  const [selectedBlock, setSelectedBlock] = useState<number | null>(null);\n  const [showCompletion, setShowCompletion] = useState(false);\n  const gameEnded = useRef(false);\n\n  const correctOrder: Array<'div' | 'h1' | 'p' | 'img' | 'button'> = ['div', 'h1', 'p', 'img', 'button'];\n\n  useEffect(() => {\n    const initialBlocks: HTMLBlock[] = [\n      { id: 0, type: 'button', position: [-6, 1, -4], placed: false, targetSlot: 4 },\n      { id: 1, type: 'div', position: [-2, 1, -4], placed: false, targetSlot: 0 },\n      { id: 2, type: 'img', position: [2, 1, -4], placed: false, targetSlot: 3 },\n      { id: 3, type: 'p', position: [6, 1, -4], placed: false, targetSlot: 2 },\n      { id: 4, type: 'h1', position: [0, 1, -6], placed: false, targetSlot: 1 },\n    ];\n    setBlocks(initialBlocks);\n  }, []);\n\n  // Debug: Log block positions and states\n  useEffect(() => {\n    console.log('Current blocks state:', blocks);\n    const allPlaced = blocks.every(b => b.placed);\n    console.log('All blocks placed?', allPlaced);\n  }, [blocks]);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          handleGameEnd();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n    const allPlaced = blocks.length > 0 && blocks.every(b => b.placed);\n    if (allPlaced) {\n      // End game when all blocks are placed, regardless of score\n      handleGameEnd();\n    }\n  }, [blocks]);\n\n  const handleGameEnd = () => {\n    if (gameEnded.current) return;\n    gameEnded.current = true;\n\n    const success = score >= config.passingScore;\n    console.log('Game ended! Score:', score, 'Passing score:', config.passingScore, 'Success:', success);\n\n    // Show completion screen before calling onComplete\n    setShowCompletion(true);\n\n    setTimeout(() => {\n      onComplete({\n        score,\n        timeSpent: (config.timeLimit || 90) - timeLeft,\n        success,\n        xpEarned: success ? 150 : 75,\n      });\n    }, 3000); // 3 second delay\n  };\n\n  const handleBlockClick = (id: number) => {\n    console.log('Block clicked:', id);\n    setSelectedBlock(id);\n  };\n\n  const handleSlotClick = (slotIndex: number) => {\n    console.log('Slot clicked:', slotIndex, 'Selected block:', selectedBlock);\n    if (selectedBlock === null) return;\n\n    const block = blocks.find(b => b.id === selectedBlock);\n    if (!block || block.placed) {\n      console.log('Block not found or already placed:', block);\n      return;\n    }\n\n    const isCorrect = block.targetSlot === slotIndex;\n    console.log('Is correct placement?', isCorrect, 'Target slot:', block.targetSlot);\n\n    setBlocks(prev =>\n      prev.map(b =>\n        b.id === selectedBlock\n          ? { ...b, placed: true, position: [(slotIndex % 3) * 2 - 2, 1, Math.floor(slotIndex / 3) * 2 - 2] as [number, number, number] }\n          : b\n      )\n    );\n\n    if (isCorrect) {\n      setScore(prev => prev + 20);\n      console.log('Correct placement! New score:', score + 20);\n    } else {\n      setScore(prev => Math.max(0, prev - 5));\n      console.log('Incorrect placement! New score:', Math.max(0, score - 5));\n    }\n\n    setSelectedBlock(null);\n  };\n\n  return (\n    <div className=\"relative w-full h-screen bg-slate-900\">\n      <div className=\"absolute top-0 left-0 right-0 z-10 p-6 bg-gradient-to-b from-slate-900/90 to-transparent\">\n        <div className=\"flex justify-between items-center max-w-6xl mx-auto\">\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-blue-500/30\">\n            <div className=\"text-sm text-blue-300 mb-1\">Score</div>\n            <div className=\"text-3xl font-bold text-white\">{score}</div>\n          </div>\n          \n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-blue-500/30\">\n            <div className=\"text-sm text-blue-300 mb-1\">Time</div>\n            <div className=\"text-3xl font-bold text-white\">{timeLeft}s</div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"absolute bottom-0 left-0 right-0 z-10 p-6 bg-gradient-to-t from-slate-900/90 to-transparent\">\n        <div className=\"max-w-4xl mx-auto bg-slate-800/80 backdrop-blur-sm p-4 rounded-lg border border-blue-500/30\">\n          <p className=\"text-white text-center\">\n            <span className=\"font-bold text-blue-300\">Click an HTML block</span>, then click a grid slot to place it. Build the correct structure!\n          </p>\n          <div className=\"mt-2 flex justify-center gap-2 flex-wrap\">\n            {correctOrder.map((type, i) => (\n              <span key={i} className=\"px-3 py-1 bg-slate-700 rounded text-sm\" style={{ color: BLOCK_COLORS[type] }}>\n                &lt;{type}&gt;\n              </span>\n            ))}\n          </div>\n          <p className=\"text-white text-center mt-2 text-sm opacity-75\">\n            <strong>üéØ What This Game Teaches You:</strong><br />\n            HTML Structure & Hierarchy - Just like building with blocks, web pages need proper order.<br />\n            <strong>Real-World Application:</strong> Every website follows this pattern - containers (div), headings (h1), content (p), media (img), and interactions (button).<br />\n            <strong>Why It Matters:</strong> Proper HTML structure improves SEO, accessibility, and prevents layout issues.\n          </p>\n        </div>\n      </div>\n\n      <Canvas camera={{ position: [0, 8, 8], fov: 50 }}>\n        <Scene blocks={blocks} onBlockClick={handleBlockClick} slots={6} onSlotClick={handleSlotClick} />\n      </Canvas>\n      {showCompletion && (\n        <div className=\"absolute inset-0 flex items-center justify-center bg-slate-900/95 backdrop-blur-sm z-50\">\n          <div className=\"bg-slate-800/90 backdrop-blur-sm rounded-2xl border-2 border-blue-500/50 p-8 max-w-2xl mx-4 text-center\">\n            <div className=\"text-6xl mb-4\">üéâ</div>\n            <h1 className=\"font-game text-4xl text-blue-300 mb-4\">Game Complete!</h1>\n            <div className=\"bg-slate-700/50 rounded-lg p-6 mb-6\">\n              <div className=\"text-2xl font-bold text-white mb-2\">Score: {score}/100</div>\n              <div className=\"text-lg text-gray-300\">Time Remaining: {timeLeft}s</div>\n            </div>\n            <div className=\"bg-indigo-900/30 rounded-lg p-6 mb-6 border border-indigo-500/30\">\n              <h3 className=\"font-game text-xl text-indigo-300 mb-3\">üéØ What This Game Taught You:</h3>\n              <div className=\"text-left space-y-2 text-gray-300\">\n                <p><strong>HTML Structure & Hierarchy:</strong> Just like building with blocks, web pages need proper order and nesting.</p>\n                <p><strong>Real-World Application:</strong> Every website follows this pattern - containers (div), headings (h1), content (p), media (img), and interactions (button).</p>\n                <p><strong>Why It Matters:</strong> Proper HTML structure improves SEO, accessibility, prevents layout issues, and makes websites work better for everyone.</p>\n              </div>\n            </div>\n            <p className=\"text-gray-400\">Moving to assessment in a moment...</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","size_bytes":10261},"client/src/components/ResourcesPanel.tsx":{"content":"import { ExternalResource } from '@shared/types';\nimport { ExternalLink, BookOpen, Code2, Youtube, FileText } from 'lucide-react';\n\ninterface ResourcesPanelProps {\n  resources: ExternalResource[];\n  onComplete: () => void;\n}\n\nexport function ResourcesPanel({ resources, onComplete }: ResourcesPanelProps) {\n  const getIcon = (type: ExternalResource['type']) => {\n    switch (type) {\n      case 'leetcode':\n      case 'neetcode':\n      case 'hackerrank':\n      case 'codeforces':\n        return <Code2 className=\"w-5 h-5\" />;\n      case 'youtube':\n        return <Youtube className=\"w-5 h-5\" />;\n      case 'article':\n        return <FileText className=\"w-5 h-5\" />;\n      case 'documentation':\n        return <BookOpen className=\"w-5 h-5\" />;\n      default:\n        return <ExternalLink className=\"w-5 h-5\" />;\n    }\n  };\n\n  const getTypeColor = (type: ExternalResource['type']) => {\n    switch (type) {\n      case 'leetcode':\n        return 'border-orange-500 bg-orange-900/20 hover:bg-orange-900/30';\n      case 'neetcode':\n        return 'border-green-500 bg-green-900/20 hover:bg-green-900/30';\n      case 'youtube':\n        return 'border-red-500 bg-red-900/20 hover:bg-red-900/30';\n      case 'documentation':\n        return 'border-blue-500 bg-blue-900/20 hover:bg-blue-900/30';\n      default:\n        return 'border-purple-500 bg-purple-900/20 hover:bg-purple-900/30';\n    }\n  };\n\n  const getDifficultyColor = (difficulty?: 'easy' | 'medium' | 'hard') => {\n    if (!difficulty) return '';\n    switch (difficulty) {\n      case 'easy':\n        return 'bg-green-900 text-green-300 border-green-600';\n      case 'medium':\n        return 'bg-yellow-900 text-yellow-300 border-yellow-600';\n      case 'hard':\n        return 'bg-red-900 text-red-300 border-red-600';\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pt-24 p-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"bg-slate-800/50 backdrop-blur-sm rounded-2xl border-2 border-purple-500 p-8\">\n          <h1 className=\"font-game text-3xl text-purple-300 mb-4 flex items-center gap-3\">\n            <span>üìö</span>\n            Practice Resources\n          </h1>\n          <p className=\"font-orbitron text-gray-300 mb-8\">\n            Continue your learning journey with these curated resources. Practice makes perfect!\n          </p>\n\n          <div className=\"space-y-4 mb-8\">\n            {resources.map((resource, idx) => (\n              <a\n                key={idx}\n                href={resource.url}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className={`block p-6 rounded-lg border-2 transition-all ${getTypeColor(resource.type)}`}\n              >\n                <div className=\"flex items-start justify-between gap-4\">\n                  <div className=\"flex items-start gap-4 flex-1\">\n                    <div className=\"text-purple-300 mt-1\">\n                      {getIcon(resource.type)}\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-3 mb-2\">\n                        <h3 className=\"font-orbitron text-lg text-white\">\n                          {resource.title}\n                        </h3>\n                        {resource.difficulty && (\n                          <span className={`px-2 py-1 rounded text-xs font-orbitron border ${getDifficultyColor(resource.difficulty)}`}>\n                            {resource.difficulty}\n                          </span>\n                        )}\n                      </div>\n                      {resource.description && (\n                        <p className=\"font-orbitron text-sm text-gray-400\">\n                          {resource.description}\n                        </p>\n                      )}\n                      <div className=\"mt-2 flex items-center gap-2\">\n                        <span className=\"px-3 py-1 rounded-full text-xs font-orbitron bg-slate-800 text-purple-300\">\n                          {resource.type.toUpperCase()}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <ExternalLink className=\"w-5 h-5 text-gray-400\" />\n                </div>\n              </a>\n            ))}\n          </div>\n\n          <button\n            onClick={onComplete}\n            className=\"w-full px-6 py-4 rounded-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 font-game text-lg text-white transition-all glow\"\n          >\n            ‚ú® Complete Level & Earn XP\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":4691},"client/src/games/StyleSpectrum.tsx":{"content":"import type { GameProps } from './types';\nimport { useState, useEffect, useRef } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\ninterface CityBuilding {\n  id: number;\n  position: [number, number, number];\n  styled: boolean;\n  targetColor: string;\n  currentColor: string;\n}\n\nconst TARGET_COLORS = ['#ef4444', '#3b82f6', '#10b981', '#f59e0b', '#8b5cf6', '#ec4899'];\n\nfunction Building({ building, onClick }: { building: CityBuilding; onClick: () => void }) {\n  const meshRef = useRef<THREE.Mesh>(null);\n\n  useFrame(() => {\n    if (meshRef.current && !building.styled) {\n      meshRef.current.position.y = 1 + Math.sin(Date.now() * 0.002) * 0.1;\n    }\n  });\n\n  return (\n    <mesh ref={meshRef} position={building.position} onClick={onClick}>\n      <boxGeometry args={[1.5, 2, 1.5]} />\n      <meshStandardMaterial\n        color={building.currentColor}\n        emissive={building.styled ? building.targetColor : '#000000'}\n        emissiveIntensity={building.styled ? 0.4 : 0}\n      />\n    </mesh>\n  );\n}\n\nfunction ColorPalette({ onColorSelect, selectedColor }: { onColorSelect: (color: string) => void; selectedColor: string | null }) {\n  return (\n    <>\n      {TARGET_COLORS.map((color, index) => (\n        <mesh\n          key={color}\n          position={[index * 2 - 5, 0.5, 8]}\n          onClick={() => onColorSelect(color)}\n        >\n          <boxGeometry args={[1, 1, 1]} />\n          <meshStandardMaterial\n            color={color}\n            emissive={color}\n            emissiveIntensity={selectedColor === color ? 0.8 : 0.3}\n          />\n        </mesh>\n      ))}\n    </>\n  );\n}\n\nfunction Scene({ buildings, onBuildingClick, onColorSelect, selectedColor }: {\n  buildings: CityBuilding[];\n  onBuildingClick: (id: number) => void;\n  onColorSelect: (color: string) => void;\n  selectedColor: string | null;\n}) {\n  return (\n    <>\n      <ambientLight intensity={0.6} />\n      <directionalLight position={[5, 10, 5]} intensity={1} />\n      <pointLight position={[0, 5, 0]} intensity={0.5} color=\"#8b5cf6\" />\n      \n      <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, 0, 0]}>\n        <planeGeometry args={[30, 30]} />\n        <meshStandardMaterial color=\"#0f172a\" />\n      </mesh>\n\n      {buildings.map(building => (\n        <Building key={building.id} building={building} onClick={() => onBuildingClick(building.id)} />\n      ))}\n\n      <ColorPalette onColorSelect={onColorSelect} selectedColor={selectedColor} />\n    </>\n  );\n}\n\nexport function StyleSpectrum({ config, onComplete }: GameProps) {\n  const [score, setScore] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(config.timeLimit || 90);\n  const [buildings, setBuildings] = useState<CityBuilding[]>([]);\n  const [selectedColor, setSelectedColor] = useState<string | null>(null);\n  const gameEnded = useRef(false);\n\n  useEffect(() => {\n    const initialBuildings: CityBuilding[] = [];\n    let id = 0;\n    \n    for (let i = 0; i < 3; i++) {\n      for (let j = 0; j < 2; j++) {\n        initialBuildings.push({\n          id: id,\n          position: [i * 4 - 4, 1, j * 4 - 2],\n          styled: false,\n          targetColor: TARGET_COLORS[id % TARGET_COLORS.length],\n          currentColor: '#64748b',\n        });\n        id++;\n      }\n    }\n    \n    setBuildings(initialBuildings);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          handleGameEnd();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n    const allStyled = buildings.every(b => b.styled);\n    if (allStyled && score >= config.passingScore) {\n      handleGameEnd();\n    }\n  }, [buildings, score]);\n\n  const handleGameEnd = () => {\n    if (gameEnded.current) return;\n    gameEnded.current = true;\n    \n    const success = score >= config.passingScore;\n    onComplete({\n      score,\n      timeSpent: (config.timeLimit || 90) - timeLeft,\n      success,\n      xpEarned: success ? 180 : 90,\n    });\n  };\n\n  const handleBuildingClick = (id: number) => {\n    if (!selectedColor) return;\n\n    const building = buildings.find(b => b.id === id);\n    if (!building || building.styled) return;\n\n    const isCorrect = building.targetColor === selectedColor;\n    \n    setBuildings(prev =>\n      prev.map(b =>\n        b.id === id\n          ? { ...b, styled: true, currentColor: selectedColor }\n          : b\n      )\n    );\n\n    if (isCorrect) {\n      setScore(prev => prev + 15);\n    } else {\n      setScore(prev => Math.max(0, prev - 5));\n    }\n  };\n\n  return (\n    <div className=\"relative w-full h-screen bg-slate-900\">\n      <div className=\"absolute top-0 left-0 right-0 z-10 p-6 bg-gradient-to-b from-slate-900/90 to-transparent\">\n        <div className=\"flex justify-between items-center max-w-6xl mx-auto\">\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Score</div>\n            <div className=\"text-3xl font-bold text-white\">{score}</div>\n          </div>\n          \n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Time</div>\n            <div className=\"text-3xl font-bold text-white\">{timeLeft}s</div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"absolute bottom-0 left-0 right-0 z-10 p-6 bg-gradient-to-t from-slate-900/90 to-transparent\">\n        <div className=\"max-w-4xl mx-auto bg-slate-800/80 backdrop-blur-sm p-4 rounded-lg border border-purple-500/30\">\n          <p className=\"text-white text-center\">\n            <span className=\"font-bold text-purple-300\">Select a color from the palette</span>, then click buildings to style them. Match each building's target color!\n          </p>\n        </div>\n      </div>\n\n      <Canvas camera={{ position: [0, 8, 12], fov: 50 }}>\n        <Scene\n          buildings={buildings}\n          onBuildingClick={handleBuildingClick}\n          onColorSelect={setSelectedColor}\n          selectedColor={selectedColor}\n        />\n      </Canvas>\n    </div>\n  );\n}\n","size_bytes":6334},"client/src/games/ServiceRunner.tsx":{"content":"import type { GameProps } from './types';\nimport { useState, useEffect, useRef } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\ninterface Route {\n  id: number;\n  method: 'GET' | 'POST' | 'PUT' | 'DELETE';\n  position: [number, number, number];\n  connected: boolean;\n  targetEndpoint: number;\n}\n\ninterface Endpoint {\n  id: number;\n  name: string;\n  position: [number, number, number];\n}\n\nconst METHOD_COLORS: Record<string, string> = {\n  GET: '#3b82f6',\n  POST: '#10b981',\n  PUT: '#f59e0b',\n  DELETE: '#ef4444',\n};\n\nfunction RouteBox({ route, onClick, isSelected }: { route: Route; onClick: () => void; isSelected: boolean }) {\n  const meshRef = useRef<THREE.Mesh>(null);\n\n  useFrame(() => {\n    if (meshRef.current) {\n      if (isSelected && !route.connected) {\n        meshRef.current.scale.setScalar(1 + Math.sin(Date.now() * 0.005) * 0.15);\n      } else {\n        meshRef.current.scale.setScalar(1);\n      }\n      if (!route.connected) {\n        meshRef.current.rotation.z += 0.01;\n      }\n    }\n  });\n\n  return (\n    <mesh ref={meshRef} position={route.position} onClick={onClick}>\n      <boxGeometry args={[1.2, 0.6, 0.6]} />\n      <meshStandardMaterial\n        color={route.connected ? METHOD_COLORS[route.method] : '#64748b'}\n        emissive={route.connected ? METHOD_COLORS[route.method] : isSelected ? '#f59e0b' : '#000000'}\n        emissiveIntensity={route.connected ? 0.5 : isSelected ? 0.4 : 0}\n      />\n    </mesh>\n  );\n}\n\nfunction EndpointBox({ endpoint }: { endpoint: Endpoint }) {\n  return (\n    <mesh position={endpoint.position}>\n      <boxGeometry args={[1.5, 1.5, 0.8]} />\n      <meshStandardMaterial color=\"#8b5cf6\" emissive=\"#8b5cf6\" emissiveIntensity={0.3} />\n    </mesh>\n  );\n}\n\nfunction RouteLine({ start, end }: { start: [number, number, number]; end: [number, number, number] }) {\n  const startVec = new THREE.Vector3(...start);\n  const endVec = new THREE.Vector3(...end);\n  const midPoint = new THREE.Vector3().lerpVectors(startVec, endVec, 0.5);\n  const distance = startVec.distanceTo(endVec);\n\n  return (\n    <mesh position={[midPoint.x, midPoint.y, midPoint.z]}>\n      <boxGeometry args={[0.15, distance, 0.15]} />\n      <meshStandardMaterial color=\"#10b981\" emissive=\"#10b981\" emissiveIntensity={0.6} />\n    </mesh>\n  );\n}\n\nfunction Scene({ routes, endpoints, onRouteClick, selectedRoute, connections }: {\n  routes: Route[];\n  endpoints: Endpoint[];\n  onRouteClick: (id: number, endpointId: number) => void;\n  selectedRoute: number | null;\n  connections: Array<{ routeId: number; endpointId: number }>;\n}) {\n  return (\n    <>\n      <ambientLight intensity={0.6} />\n      <directionalLight position={[5, 10, 5]} intensity={1} />\n      <pointLight position={[0, 3, 0]} intensity={0.7} color=\"#3b82f6\" />\n      \n      <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, 0, 0]}>\n        <planeGeometry args={[30, 30]} />\n        <meshStandardMaterial color=\"#0f172a\" />\n      </mesh>\n\n      {connections.map((conn, index) => {\n        const route = routes.find(r => r.id === conn.routeId);\n        const endpoint = endpoints.find(e => e.id === conn.endpointId);\n        if (route && endpoint) {\n          return <RouteLine key={index} start={route.position} end={endpoint.position} />;\n        }\n        return null;\n      })}\n\n      {routes.map(route => (\n        <RouteBox\n          key={route.id}\n          route={route}\n          onClick={() => onRouteClick(route.id, route.targetEndpoint)}\n          isSelected={selectedRoute === route.id}\n        />\n      ))}\n\n      {endpoints.map(endpoint => (\n        <EndpointBox key={endpoint.id} endpoint={endpoint} />\n      ))}\n    </>\n  );\n}\n\nexport function ServiceRunner({ config, onComplete }: GameProps) {\n  const [score, setScore] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(config.timeLimit || 85);\n  const [routes, setRoutes] = useState<Route[]>([]);\n  const [endpoints, setEndpoints] = useState<Endpoint[]>([]);\n  const [selectedRoute, setSelectedRoute] = useState<number | null>(null);\n  const [connections, setConnections] = useState<Array<{ routeId: number; endpointId: number }>>([]);\n  const gameEnded = useRef(false);\n\n  useEffect(() => {\n    const initialEndpoints: Endpoint[] = [\n      { id: 0, name: '/users', position: [6, 2, -4] },\n      { id: 1, name: '/posts', position: [6, 2, 0] },\n      { id: 2, name: '/comments', position: [6, 2, 4] },\n    ];\n\n    const initialRoutes: Route[] = [\n      { id: 0, method: 'GET', position: [-6, 1, -4], connected: false, targetEndpoint: 0 },\n      { id: 1, method: 'POST', position: [-6, 1, -2], connected: false, targetEndpoint: 1 },\n      { id: 2, method: 'PUT', position: [-6, 1, 0], connected: false, targetEndpoint: 1 },\n      { id: 3, method: 'DELETE', position: [-6, 1, 2], connected: false, targetEndpoint: 2 },\n      { id: 4, method: 'GET', position: [-6, 1, 4], connected: false, targetEndpoint: 2 },\n    ];\n    \n    setEndpoints(initialEndpoints);\n    setRoutes(initialRoutes);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          handleGameEnd();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n    const allConnected = routes.every(r => r.connected);\n    if (allConnected && score >= config.passingScore) {\n      handleGameEnd();\n    }\n  }, [routes, score]);\n\n  const handleGameEnd = () => {\n    if (gameEnded.current) return;\n    gameEnded.current = true;\n    \n    const success = score >= config.passingScore;\n    onComplete({\n      score,\n      timeSpent: (config.timeLimit || 85) - timeLeft,\n      success,\n      xpEarned: success ? 320 : 160,\n    });\n  };\n\n  const handleRouteClick = (routeId: number, targetEndpoint: number) => {\n    const route = routes.find(r => r.id === routeId);\n    if (!route || route.connected) return;\n\n    if (selectedRoute === null) {\n      setSelectedRoute(routeId);\n    } else if (selectedRoute === routeId) {\n      const isCorrect = route.targetEndpoint === targetEndpoint;\n      \n      setRoutes(prev =>\n        prev.map(r =>\n          r.id === routeId ? { ...r, connected: true } : r\n        )\n      );\n      setConnections(prev => [...prev, { routeId, endpointId: targetEndpoint }]);\n      \n      if (isCorrect) {\n        setScore(prev => prev + 17);\n      } else {\n        setScore(prev => Math.max(0, prev - 5));\n      }\n      \n      setSelectedRoute(null);\n    }\n  };\n\n  return (\n    <div className=\"relative w-full h-screen bg-slate-900\">\n      <div className=\"absolute top-0 left-0 right-0 z-10 p-6 bg-gradient-to-b from-slate-900/90 to-transparent\">\n        <div className=\"flex justify-between items-center max-w-6xl mx-auto\">\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-blue-500/30\">\n            <div className=\"text-sm text-blue-300 mb-1\">Score</div>\n            <div className=\"text-3xl font-bold text-white\">{score}</div>\n          </div>\n          \n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-blue-500/30\">\n            <div className=\"text-sm text-blue-300 mb-1\">Time</div>\n            <div className=\"text-3xl font-bold text-white\">{timeLeft}s</div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"absolute bottom-0 left-0 right-0 z-10 p-6 bg-gradient-to-t from-slate-900/90 to-transparent\">\n        <div className=\"max-w-4xl mx-auto bg-slate-800/80 backdrop-blur-sm p-4 rounded-lg border border-blue-500/30\">\n          <p className=\"text-white text-center mb-2\">\n            <span className=\"font-bold text-blue-300\">Connect API routes to endpoints</span> - Click a route twice to connect it. Routes on the left, endpoints on the right!\n          </p>\n          <div className=\"flex justify-center gap-3 text-sm\">\n            <span className=\"px-2 py-1 rounded\" style={{ backgroundColor: METHOD_COLORS.GET }}>GET</span>\n            <span className=\"px-2 py-1 rounded\" style={{ backgroundColor: METHOD_COLORS.POST }}>POST</span>\n            <span className=\"px-2 py-1 rounded\" style={{ backgroundColor: METHOD_COLORS.PUT }}>PUT</span>\n            <span className=\"px-2 py-1 rounded\" style={{ backgroundColor: METHOD_COLORS.DELETE }}>DELETE</span>\n          </div>\n        </div>\n      </div>\n\n      <Canvas camera={{ position: [0, 8, 12], fov: 50 }}>\n        <Scene\n          routes={routes}\n          endpoints={endpoints}\n          onRouteClick={handleRouteClick}\n          selectedRoute={selectedRoute}\n          connections={connections}\n        />\n      </Canvas>\n    </div>\n  );\n}\n","size_bytes":8757},"client/src/games/DataBridge.tsx":{"content":"import type { GameProps } from './types';\nimport { useState, useEffect, useRef } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\ninterface DataTable {\n  id: number;\n  name: string;\n  position: [number, number, number];\n  type: 'users' | 'posts' | 'comments';\n}\n\ninterface DataShard {\n  id: number;\n  tableType: 'users' | 'posts' | 'comments';\n  position: [number, number, number];\n  collected: boolean;\n}\n\nconst TABLE_COLORS: Record<string, string> = {\n  users: '#8b5cf6',\n  posts: '#3b82f6',\n  comments: '#10b981',\n};\n\nfunction Table({ table }: { table: DataTable }) {\n  const meshRef = useRef<THREE.Mesh>(null);\n\n  useFrame(() => {\n    if (meshRef.current) {\n      meshRef.current.rotation.y += 0.005;\n    }\n  });\n\n  return (\n    <mesh ref={meshRef} position={table.position}>\n      <boxGeometry args={[2, 0.5, 1.5]} />\n      <meshStandardMaterial\n        color={TABLE_COLORS[table.type]}\n        emissive={TABLE_COLORS[table.type]}\n        emissiveIntensity={0.4}\n      />\n    </mesh>\n  );\n}\n\nfunction Shard({ shard, onClick }: { shard: DataShard; onClick: () => void }) {\n  const meshRef = useRef<THREE.Mesh>(null);\n\n  useFrame(() => {\n    if (meshRef.current && !shard.collected) {\n      meshRef.current.rotation.y += 0.03;\n      meshRef.current.position.y = shard.position[1] + Math.sin(Date.now() * 0.003) * 0.2;\n    }\n  });\n\n  if (shard.collected) return null;\n\n  return (\n    <mesh ref={meshRef} position={shard.position} onClick={onClick}>\n      <octahedronGeometry args={[0.4, 0]} />\n      <meshStandardMaterial\n        color={TABLE_COLORS[shard.tableType]}\n        emissive={TABLE_COLORS[shard.tableType]}\n        emissiveIntensity={0.7}\n      />\n    </mesh>\n  );\n}\n\nfunction Scene({ tables, shards, onShardClick }: {\n  tables: DataTable[];\n  shards: DataShard[];\n  onShardClick: (id: number) => void;\n}) {\n  return (\n    <>\n      <ambientLight intensity={0.5} />\n      <directionalLight position={[5, 10, 5]} intensity={1} />\n      <pointLight position={[0, 4, 0]} intensity={0.8} color=\"#8b5cf6\" />\n      \n      <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, 0, 0]}>\n        <planeGeometry args={[25, 25]} />\n        <meshStandardMaterial color=\"#0f172a\" />\n      </mesh>\n\n      {tables.map(table => (\n        <Table key={table.id} table={table} />\n      ))}\n\n      {shards.map(shard => (\n        <Shard key={shard.id} shard={shard} onClick={() => onShardClick(shard.id)} />\n      ))}\n    </>\n  );\n}\n\nexport function DataBridge({ config, onComplete }: GameProps) {\n  const [score, setScore] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(config.timeLimit || 90);\n  const [tables, setTables] = useState<DataTable[]>([]);\n  const [shards, setShards] = useState<DataShard[]>([]);\n  const [selectedTable, setSelectedTable] = useState<'users' | 'posts' | 'comments' | null>(null);\n  const gameEnded = useRef(false);\n\n  useEffect(() => {\n    const initialTables: DataTable[] = [\n      { id: 0, name: 'Users', position: [-6, 1, 0], type: 'users' },\n      { id: 1, name: 'Posts', position: [0, 1, 0], type: 'posts' },\n      { id: 2, name: 'Comments', position: [6, 1, 0], type: 'comments' },\n    ];\n\n    const shardPositions: [number, number, number][] = [\n      [-4, 2, -4], [-2, 2, -4], [0, 2, -4], [2, 2, -4], [4, 2, -4],\n      [-4, 2, 4], [-2, 2, 4], [0, 2, 4], [2, 2, 4], [4, 2, 4],\n    ];\n\n    const tableTypes: Array<'users' | 'posts' | 'comments'> = ['users', 'posts', 'comments'];\n    const initialShards: DataShard[] = shardPositions.map((pos, index) => ({\n      id: index,\n      tableType: tableTypes[index % 3],\n      position: pos,\n      collected: false,\n    }));\n    \n    setTables(initialTables);\n    setShards(initialShards);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          handleGameEnd();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  useEffect(() => {\n    if (gameEnded.current) return;\n    const allCollected = shards.every(s => s.collected);\n    if (allCollected && score >= config.passingScore) {\n      handleGameEnd();\n    }\n  }, [shards, score]);\n\n  const handleGameEnd = () => {\n    if (gameEnded.current) return;\n    gameEnded.current = true;\n    \n    const success = score >= config.passingScore;\n    onComplete({\n      score,\n      timeSpent: (config.timeLimit || 90) - timeLeft,\n      success,\n      xpEarned: success ? 350 : 175,\n    });\n  };\n\n  const handleShardClick = (id: number) => {\n    const shard = shards.find(s => s.id === id);\n    if (!shard || shard.collected) return;\n\n    if (selectedTable === null) {\n      setSelectedTable(shard.tableType);\n    }\n\n    if (selectedTable === shard.tableType) {\n      setShards(prev =>\n        prev.map(s =>\n          s.id === id ? { ...s, collected: true } : s\n        )\n      );\n      setScore(prev => prev + 10);\n    } else if (selectedTable !== null) {\n      setScore(prev => Math.max(0, prev - 3));\n    }\n  };\n\n  return (\n    <div className=\"relative w-full h-screen bg-slate-900\">\n      <div className=\"absolute top-0 left-0 right-0 z-10 p-6 bg-gradient-to-b from-slate-900/90 to-transparent\">\n        <div className=\"flex justify-between items-center max-w-6xl mx-auto\">\n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Score</div>\n            <div className=\"text-3xl font-bold text-white\">{score}</div>\n          </div>\n          \n          <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-purple-500/30\">\n            <div className=\"text-sm text-purple-300 mb-1\">Time</div>\n            <div className=\"text-3xl font-bold text-white\">{timeLeft}s</div>\n          </div>\n\n          {selectedTable && (\n            <div className=\"bg-slate-800/80 backdrop-blur-sm px-6 py-3 rounded-lg border border-yellow-500/30\">\n              <div className=\"text-sm text-yellow-300 mb-1\">Collecting</div>\n              <div className=\"text-2xl font-bold\" style={{ color: TABLE_COLORS[selectedTable] }}>{selectedTable}</div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"absolute bottom-0 left-0 right-0 z-10 p-6 bg-gradient-to-t from-slate-900/90 to-transparent\">\n        <div className=\"max-w-4xl mx-auto bg-slate-800/80 backdrop-blur-sm p-4 rounded-lg border border-purple-500/30\">\n          <p className=\"text-white text-center mb-2\">\n            <span className=\"font-bold text-purple-300\">Collect data shards and organize them</span> - Click matching shards of the same color consecutively. Each color represents a database table!\n          </p>\n          <div className=\"flex justify-center gap-4 text-sm\">\n            <span className=\"px-3 py-1 rounded\" style={{ backgroundColor: TABLE_COLORS.users }}>Users</span>\n            <span className=\"px-3 py-1 rounded\" style={{ backgroundColor: TABLE_COLORS.posts }}>Posts</span>\n            <span className=\"px-3 py-1 rounded\" style={{ backgroundColor: TABLE_COLORS.comments }}>Comments</span>\n          </div>\n        </div>\n      </div>\n\n      <Canvas camera={{ position: [0, 10, 12], fov: 50 }}>\n        <Scene tables={tables} shards={shards} onShardClick={handleShardClick} />\n      </Canvas>\n    </div>\n  );\n}\n","size_bytes":7443},"clear-cache.js":{"content":"// Clear browser storage script\nconsole.log('Clearing browser storage...');\nlocalStorage.removeItem('skillquest-learning');\nsessionStorage.clear();\nconsole.log('Storage cleared! Please refresh the page.');","size_bytes":205},"client/src/pages/intro.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { Button } from '../components/ui/button';\n\ninterface IntroProps {\n  onNavigate: (page: string) => void;\n}\n\nexport default function Intro({ onNavigate }: IntroProps) {\n  const [showContent, setShowContent] = useState(false);\n\n  useEffect(() => {\n    const timer = setTimeout(() => setShowContent(true), 1000);\n    return () => clearTimeout(timer);\n  }, []);\n\n  const handleBeginQuest = () => {\n    onNavigate('auth');\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-slate-900 via-blue-900 to-slate-800 flex items-center justify-center relative overflow-hidden\">\n      {/* Animated Background Image */}\n      <div \n        className=\"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-80 animate-breathe\"\n        style={{ backgroundImage: 'url(/intro-world.png.png)' }}\n      />\n      \n      {/* Floating particles */}\n      <div className=\"absolute inset-0\">\n        {[...Array(20)].map((_, i) => (\n          <div\n            key={i}\n            className=\"absolute w-2 h-2 bg-green-400 rounded-full opacity-60 animate-float\"\n            style={{\n              left: `${Math.random() * 100}%`,\n              top: `${Math.random() * 100}%`,\n              animationDelay: `${Math.random() * 5}s`\n            }}\n          />\n        ))}\n      </div>\n      \n      {/* Overlay */}\n      <div className=\"absolute inset-0 bg-black/30\" />\n      \n      {/* Content */}\n      <div className={`relative z-10 text-center text-white transition-all duration-1000 ${showContent ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'}`}>\n        <h1 className=\"text-6xl font-bold mb-4 bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent animate-glow\">\n          SkillQuest\n        </h1>\n        <p className=\"text-xl mb-8 max-w-2xl mx-auto px-4 text-gray-200\">\n          Embark on an epic learning journey through interactive worlds of knowledge\n        </p>\n        <Button \n          onClick={handleBeginQuest}\n          className=\"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-8 py-3 text-lg rounded-full transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-green-500/25 animate-pulse-button\"\n        >\n          üöÄ Begin Your Quest\n        </Button>\n      </div>\n      \n\n    </div>\n  );\n}","size_bytes":2356}},"version":2}